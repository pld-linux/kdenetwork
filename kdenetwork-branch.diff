Index: kpf/kpfpropertiesdialogplugin.desktop
===================================================================
--- kpf/kpfpropertiesdialogplugin.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kpf/kpfpropertiesdialogplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -13,7 +13,7 @@
 Name[es]=Página de propiedades de directorio KPF
 Name[et]=KPF kataloogi omaduste lehekülg
 Name[eu]=KPF direktorio propietaten orria
-Name[fa]=صفحۀ ویژگیهای فهرست راهنمای KPF‌
+Name[fa]=صفحۀ ویژگیهای فهرست راهنمای KPF
 Name[fi]=KPF-hakemiston ominaisuussivu
 Name[fr]=Page des propriétés d'un dossier KPF
 Name[gl]=Páxina coas propiedades do directorio KPF
Index: kpf/kpfapplet.desktop
===================================================================
--- kpf/kpfapplet.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kpf/kpfapplet.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 Name[es]=Servidor público de archivos
 Name[et]=Avalik failiserver
 Name[eu]=Fitxategi zerbitzari publikoa
-Name[fa]=پروندۀ عمومی کارساز‌
+Name[fa]=پروندۀ عمومی کارساز
 Name[fi]=Julkinen tiedostopalvelin
 Name[fr]=Serveur de fichiers public
 Name[ga]=Freastalaí Comhad Poiblí
@@ -77,7 +77,7 @@
 Comment[es]=Un pequeño servidor web que facilita compartir archivos en red
 Comment[et]=Väike veebiserver, mis võimaldab failide lihtsat jagamist võrgus
 Comment[eu]=Sarean zehar fitxtegiak partekatzea errazten duen web-zerbitzari txiki bat
-Comment[fa]=یک کارساز وب کوچک که به اشتراک گذاشتن پرونده‌ها را در شبکه آسان می‌کند‌
+Comment[fa]=یک کارساز وب کوچک که به اشتراک گذاشتن پرونده‌ها را در شبکه آسان می‌کند
 Comment[fr]=Un petit serveur web permettant de partager facilement des fichiers sur le réseau
 Comment[gl]=Un pequeno servidor web que fai doada a compartición de ficheiros por rede
 Comment[he]=שרת אינטרנט קטן שגורם לתעבורת קבצים ברשת להיות קלה
Index: krdc/krdc.desktop
===================================================================
--- krdc/krdc.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krdc/krdc.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,5 +1,6 @@
 # KDE Config File
 [Desktop Entry]
+Encoding=UTF-8
 Type=Application
 Exec=krdc -caption "%c" %i %m %u
 Icon=krdc
@@ -20,7 +21,7 @@
 GenericName[es]=Conexión remota de escritorio
 GenericName[et]=Kaugtöölaua ühendus
 GenericName[eu]=Urruneko mahaigain konexioa
-GenericName[fa]=اتصال رومیزی راه دور‌
+GenericName[fa]=اتصال رومیزی راه دور
 GenericName[fi]=Etätyöpöytäyhteys
 GenericName[fr]=Connexion à un bureau distant
 GenericName[ga]=Nasc Deisce Cianda
Index: krdc/smb2rdc.desktop
===================================================================
--- krdc/smb2rdc.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krdc/smb2rdc.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -16,7 +16,7 @@
 Name[es]=Abrir conexión remota de escritorio a este sistema
 Name[et]=Kaugtöölaua ühenduse avamine sellesse arvutisse
 Name[eu]=Open Remote Desktop konexioa makina honetara
-Name[fa]=باز کردن اتصال رومیزی راه دور برای این ماشین‌
+Name[fa]=باز کردن اتصال رومیزی راه دور برای این ماشین
 Name[fi]=Avaa etätyöpöytäyhteys tähän koneeseen
 Name[fr]=Ouvrir une connexion distante au bureau de cette machine
 Name[gl]=Abrir Conexión Remota de Escritorio a Esta Máquina
Index: krfb/krfb/krfb.desktop
===================================================================
--- krfb/krfb/krfb.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/krfb/krfb.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,5 +1,6 @@
 # KDE Config File
 [Desktop Entry]
+Encoding=UTF-8
 Type=Application
 Exec=krfb -caption "%c" %i %m
 Icon=krfb
@@ -22,7 +23,7 @@
 GenericName[es]=Escritorio compartido
 GenericName[et]=Töölaua jagamine
 GenericName[eu]=Mahaigain partekatzea
-GenericName[fa]=اشتراک رومیزی‌
+GenericName[fa]=اشتراک رومیزی
 GenericName[fi]=Työpöydän jakaminen
 GenericName[fr]=Partage de bureau
 GenericName[ga]=Roinnt Deisce
Index: krfb/krfb/eventsrc
===================================================================
--- krfb/krfb/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/krfb/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 Comment[es]=Escritorio compartido
 Comment[et]=Töölaua jagamine
 Comment[eu]=Mahaigain partekatzea
-Comment[fa]=اشتراک رومیزی‌
+Comment[fa]=اشتراک رومیزی
 Comment[fi]=Työpöydän jakaminen
 Comment[fr]=Partage du bureau
 Comment[ga]=Roinnt Deisce
@@ -78,7 +78,7 @@
 Name[es]=El usuario acepta la conexión
 Name[et]=Kasutaja ühendusega nõus
 Name[eu]=Erabiltzaileak konexioa onartu du
-Name[fa]=پذیرش اتصال توسط کاربر‌
+Name[fa]=پذیرش اتصال توسط کاربر
 Name[fr]=L'utilisateur accepte les connexions
 Name[ga]=GlacannÚsáideoirLeCeangal
 Name[gl]=O usuario acepta a conexión
@@ -137,7 +137,7 @@
 Comment[es]=El usuario acepta la conexión
 Comment[et]=Kasutaja nõustub ühendusega
 Comment[eu]=Erabiltzaileak konexioa onartu du
-Comment[fa]=کاربر اتصال را پذیرفت‌
+Comment[fa]=کاربر اتصال را پذیرفت
 Comment[fi]=Käyttäjä hyväksyy yhteyden
 Comment[fr]=l'utilisateur accepte les connexions
 Comment[ga]=Glacann úsáideoir le ceangal
@@ -199,7 +199,7 @@
 Name[es]=El usuario rechaza la conexión
 Name[et]=Kasutaja keeldub ühendusest
 Name[eu]=Erabiltzaileak konexioa ukatu du
-Name[fa]=نپذیرفتن اتصال توسط کاربر‌
+Name[fa]=نپذیرفتن اتصال توسط کاربر
 Name[fr]=L'utilisateur refuse les connexions
 Name[ga]=DiúltíonnÚsáideoirLeCeangal
 Name[gl]=O usuario rexeita a conexión
@@ -258,7 +258,7 @@
 Comment[es]=El usuario rechaza la conexión
 Comment[et]=Kasutaja keeldub ühendusest
 Comment[eu]=Erabiltzaileak konexioa ukatu du
-Comment[fa]=کاربر اتصال را نپذیرفت‌
+Comment[fa]=کاربر اتصال را نپذیرفت
 Comment[fi]=Käyttäjä hylkää yhteyden
 Comment[fr]=L'utilisateur refuse les connexions
 Comment[ga]=Diúltaíonn úsáideoir ceangal
@@ -321,7 +321,7 @@
 Name[es]=Conexión cerrada
 Name[et]=Ühendus suletud
 Name[eu]=Konexioa itxi da
-Name[fa]=اتصال بسته 
+Name[fa]=اتصال بسته
 Name[fr]=Connexion fermée
 Name[ga]=CeangalDúnta
 Name[gl]=Conexión pechada
@@ -381,7 +381,7 @@
 Comment[es]=Conexión rechazada
 Comment[et]=Ühendus suletud
 Comment[eu]=Konexioa itxi da
-Comment[fa]=اتصال بسته شد‌
+Comment[fa]=اتصال بسته شد
 Comment[fi]=Yhteys suljettu
 Comment[fr]=Connexion coupée
 Comment[ga]=Ceangal dúnta
@@ -446,7 +446,7 @@
 Name[es]=Contraseña errónea
 Name[et]=Vale parool
 Name[eu]=Baliogabeko pasahitza
-Name[fa]=اسم‌رمز نامعتبر‌
+Name[fa]=اسم‌ رمز نامعتبر
 Name[fr]=Mots de passe non valable
 Name[ga]=FocalFaireNeamhbhailí
 Name[gl]=Contraseña inválida
@@ -507,7 +507,7 @@
 Comment[es]=Contraseña errónea
 Comment[et]=Vale parool
 Comment[eu]=Baliogabeko pasahitza
-Comment[fa]=اسم‌رمز نامعتبر‌
+Comment[fa]=اسم‌ رمز نامعتبر
 Comment[fi]=Virheellinen salasana
 Comment[fr]=Mot de passe non valable
 Comment[ga]=Focal faire neamhbhailí
@@ -571,7 +571,7 @@
 Name[es]=Invitación de contraseñas erróneas
 Name[et]=Vale parool kutsed
 Name[eu]=Baliogabeko pasahitz gonbidapena
-Name[fa]=دعوتهای اسم‌رمز نامعتبر‌
+Name[fa]=دعوتهای اسم‌ رمز نامعتبر
 Name[fr]=Invitations de mot de passe non valable
 Name[gl]=Invitación  de Contraseñas inválidas
 Name[he]=סיסמת הזמנות שגויה
@@ -627,7 +627,7 @@
 Comment[es]=La parte invitada envió una contraseña incorrecta. Conexión rechazada.
 Comment[et]=Kutsutu saatis vigase parooli. Ühendusest keelduti.
 Comment[eu]=Gonbidatutako parekoak baliogabeko pasahitza bidali du. Konexioa ukatu da.
-Comment[fa]=شخص دعوت شده یک اسم‌رمز نامعتبر را ارسال کرد. اتصال پذیرفته نشد.‌
+Comment[fa]=شخص دعوت‌شده اسم‌ رمز نامعتبری را ارسال کرد. اتصال پذیرفته نشد.
 Comment[fi]=Kutsuttu taho lähetti virheellisen salasanan. Yhteys hylättiin.
 Comment[fr]=La partie invitée a envoyé un mot de passe non valable. Connexion refusée.
 Comment[gl]=O invitado mandou unha contraseña inválida. A conexión foi rexeitada
@@ -687,7 +687,7 @@
 Name[es]=Nueva conexión en espera
 Name[et]=Uus ühendus ootel
 Name[eu]=Konexio berria itxarote moduan
-Name[fa]=اتصال جدید نگهداشته‌
+Name[fa]=اتصال جدید نگه‌داشته
 Name[fr]=Nouvelle connexion au raccroché
 Name[ga]=CeangalNuaAgFanacht
 Name[gl]=Conexión en espera
@@ -745,7 +745,7 @@
 Comment[es]=Conexión solicitada, el usuario debe aceptar
 Comment[et]=Nõutakse ühendust, kasutaja peab seda lubama
 Comment[eu]=Konexioa eskatu da, erabiltzaileak onartu behar du
-Comment[fa]=اتصال در خواست شد، کاربر باید بپذیرد‌
+Comment[fa]=اتصال درخواست شد، کاربر باید بپذیرد
 Comment[fi]=Pyydettiin yhteyttä, käyttäjän tulee hyväksyä
 Comment[fr]=Connexion demandée, l'utilisateur doit accepter
 Comment[ga]=Ceangal iarrtha; ní mór leis an úsáideoir glacadh leis
@@ -807,7 +807,7 @@
 Name[es]=Nueva conexión auto aceptada
 Name[et]=Uue ühendusega automaatselt nõus
 Name[eu]=Konexio berria auto onartu da
-Name[fa]=پذیرش خودکار اتصال جدید‌
+Name[fa]=پذیرش خودکار اتصال جدید
 Name[fr]=Nouvelle connexion auto-acceptée
 Name[gl]=Nova conexión aceptada automáticamente
 Name[he]=חיבור חדש נתקבל אוטומטית
@@ -865,7 +865,7 @@
 Comment[es]=Nueva conexión establecida automáticamente
 Comment[et]=Uus ühendus automaatselt loodud
 Comment[eu]=Konexio berria automatikoki ezarri da
-Comment[fa]=اتصال جدید به طور خودکار برقرار شد‌
+Comment[fa]=اتصال جدید به طور خودکار برقرار شد
 Comment[fi]=Uusi yhteys muodostettu automaattisesti
 Comment[fr]=Nouvelle connexion établie automatiquement
 Comment[ga]=Ceangal nua bunaithe go huathoibríoch
@@ -928,7 +928,7 @@
 Name[es]=Demasiadas conexiones
 Name[et]=Liiga palju ühendusi
 Name[eu]=Konexio gehiegi
-Name[fa]=اتصالات زیاد‌
+Name[fa]=اتصالات زیاد
 Name[fr]=Trop de connexions
 Name[ga]=AnIomarcaCeangal
 Name[gl]=Demasiadas conexións
@@ -988,7 +988,7 @@
 Comment[es]=Ocupado, conexión rechazada
 Comment[et]=Hõivatud, ühendusest keelduti
 Comment[eu]=Lanpetuta, konexioa ukatu da
-Comment[fa]=اشغال، اتصال پذیرفته نشد‌
+Comment[fa]=اشغال، اتصال پذیرفته نشد
 Comment[fi]=Varattu, yhteys hylättiin
 Comment[fr]=Occupé, connexion refusée
 Comment[ga]=Gnóthach; ceangal diúltaithe
@@ -1051,7 +1051,7 @@
 Name[es]=Conexión inesperada
 Name[et]=Ootamatu ühendus
 Name[eu]=Ustekabeko konexioa
-Name[fa]=اتصال غیر منتظره‌
+Name[fa]=اتصال غیرمنتظره
 Name[fr]=Connexion inattendue
 Name[gl]=Conexión inesperada
 Name[he]=חיבור בלתי צפוי
@@ -1109,7 +1109,7 @@
 Comment[es]=Recibida conexón inesperada, abortar
 Comment[et]=Saadi ootamatu ühendus, loobuti
 Comment[eu]=Ustegabeko konexioa jaso da, abortatzen
-Comment[fa]=اتصال غیر منتظره پذیرفته شد، ساقط شد‌
+Comment[fa]=اتصال غیرمنتظره پذیرفته شد، ساقط شد
 Comment[fi]=Vastaanotettiin odottamaton yhteys, lopeta
 Comment[fr]=Reçu une connexion inattendue, interruption
 Comment[gl]=Recibíuse unha conexión inesperada. 
Index: krfb/krfb/kinetd_krfb.desktop
===================================================================
--- krfb/krfb/kinetd_krfb.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/krfb/kinetd_krfb.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -34,7 +34,7 @@
 Name[es]=Escritorio compartido KRfb
 Name[et]=KRfb Töölaua jagamine
 Name[eu]=KRfb mahaigain partekatzea
-Name[fa]=اشتراک رومیزی KRfb‌
+Name[fa]=اشتراک رومیزی KRfb
 Name[fi]=KRfb työpöydän jakaminen
 Name[fr]=Partage de bureau KRfb
 Name[ga]=Roinnt Deisce KRfb
@@ -95,7 +95,7 @@
 Comment[es]=Un demonio que le permite compartir su escritorio
 Comment[et]=Deemon, mis lubab sul töölauda jagada
 Comment[eu]=Zure mahaigaina partekatzeko aukera ematen duen deabrua da
-Comment[fa]=یک شبح که اجازۀ مشترک ساختن رومیزی را به شما می‌دهد‌
+Comment[fa]=یک شبح که اجازۀ مشترک ساختن رومیزی را به شما می‌دهد
 Comment[fi]=Palvelin, joka mahdollistaa työpöydän jakamisen
 Comment[fr]=Un démon qui vous permet de partager votre bureau
 Comment[ga]=Deamhan a chuireann ar do chumas do dheasca a roinnt
Index: krfb/krfb_httpd/kinetd_krfb_httpd.desktop
===================================================================
--- krfb/krfb_httpd/kinetd_krfb_httpd.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/krfb_httpd/kinetd_krfb_httpd.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -22,7 +22,7 @@
 Name[da]=KRfb Micro-Httpd
 Name[de]=KRfb Mikro-Httpd
 Name[et]=KRfb mikro-httpd
-Name[fa]=ریز شبح قام KRfb‌
+Name[fa]=ریزشبح قام KRfb
 Name[fr]=Micro serveur httpd de KRfb
 Name[gl]=KRfg Micro-Httpd
 Name[hi]=KRfb माइक्रो Httpd
@@ -56,7 +56,7 @@
 Comment[es]=Un micro demonio http para krfb que sirve de applet de visor VNC.
 Comment[et]=Mikro-HTTP deemon KRfb jaoks, mis teenindab VNC apletti.
 Comment[eu]=VNC ikustaile applet-a zerbitzatzen duen krfb-rako micro http deabrua.
-Comment[fa]=یک ریز شبح قام برای krfb برای خدمت دادن به برنامک مشاهده‌گر VNC‌
+Comment[fa]=یک ریزشبح قام برای krfb، برای خدمت دادن به برنامک مشاهده‌گر VNC
 Comment[fi]=Pieni http-palvelin krfb-ohjelmalle, joka jakaa VNC-näyttäjäsovelmaa
 Comment[fr]=Un mini serveur http pour KRfb dédié à l'applet d'affichage de bureaux VNC.
 Comment[gl]=Un micro demo de HTTP para krfb que serve unha applet de visualización de VNC
@@ -86,7 +86,7 @@
 Comment[ta]=krfb க்கான நுண்ணிய http அது VNC சேவையை குறுப்பயன் பார்வையாளர்.
 Comment[tg]=Азозили micro http барои krfb, ки хидматрасони VNC апплети хидматрасон мебошад.
 Comment[tr]=VNC izleyici programcığını çalıştıran mini bir web sunucu.
-Comment[uk]=Мікро- даемон http для krfb, який обслуговує аплет переглядача VNC.
+Comment[uk]=Мікро- демон http для krfb, який обслуговує аплет переглядача VNC.
 Comment[zh_CN]=支持 VNC 查看器小程序的 krfb 小 http 守护程序
 Comment[zh_HK]=用於 krfb，服務 VNC 檢視小程式的微型網頁伺服器
 Comment[zh_TW]=服務 VNC 的小型網頁伺服器
Index: krfb/kcm_krfb/kcmkrfb.desktop
===================================================================
--- krfb/kcm_krfb/kcmkrfb.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/kcm_krfb/kcmkrfb.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Escritorio compartido
 Name[et]=Töölaua jagamine
 Name[eu]=Mahaigain partekatzea
-Name[fa]=اشتراک رومیزی‌
+Name[fa]=اشتراک رومیزی
 Name[fi]=Työpöydän jakaminen
 Name[fr]=Partage de bureau
 Name[ga]=Roinnt Deisce
@@ -88,7 +88,7 @@
 Comment[es]=Configure su escritorio compartido
 Comment[et]=Töölaua jagamise seadistamine
 Comment[eu]=Konfiguratu mahaigain partekatzea
-Comment[fa]=پیکربندی اشتراک رومیزی‌
+Comment[fa]=پیکربندی اشتراک رومیزی
 Comment[fi]=Aseta työpöydän jakaminen
 Comment[fr]=Configuration du partage du bureau
 Comment[ga]=Cumraigh Roinnt Deisce
@@ -143,7 +143,7 @@
 Keywords[es]=escritorio compartido,krfb,vnc,compartir,rdp,krdc, conexión escritorio remoto,invitación,puerto,slp,no invitado
 Keywords[et]=töölaua jagamine,krfb,vnc,jagamine,rdp,krdc,kaugtöölaua ühendus,rdp,kutse,port,slp,kutsumata
 Keywords[eu]=mahaigain partekatzea,krfb,vnc,partekatzea,krdc,urruneko mahaigain konexioa,gonbidapena,ataka,slp,gonbidapen gabea
-Keywords[fa]=اشتراک رومیزی،krfb،vnc،اتصال رومیزی راه دور،دعوت،درگاه،slp،دعوت نشده‌
+Keywords[fa]=اشتراک رومیزی، krfb، vnc، اتصال رومیزی راه دور، دعوت، درگاه، slp، دعوت‌نشده
 Keywords[fi]=työpöydän jakaminen,krfb,vnc,jakaminen,krdc,etätyöpöytäyhteys, kutsu,portti,slp,kutsumaton, työpöytä
 Keywords[fr]=partage de bureau,krfb,vnc,partage,rdp,krdc,connexion à un bureau distant,invitation,port,slp,non invité
 Keywords[gl]=compartición de escritorio, vnc, compartir, krdc, conexión escritorio remoto, invitación, porto, slt
Index: krfb/kinetd/kinetd.desktop
===================================================================
--- krfb/kinetd/kinetd.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/kinetd/kinetd.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -18,13 +18,13 @@
 Name[cs]=KDE Internet démon
 Name[cy]=Daemon Rhyngrwyd KDE
 Name[da]=KDE Internet-dæmon
-Name[de]=KDE Internet-Dämon
+Name[de]=Internet-Dienst
 Name[el]=Δαίμονας διαδικτύου για το KDE
 Name[eo]=Retodemono
 Name[es]=Demonio de Internet de KDE
 Name[et]=KDE internetideemon
 Name[eu]=KDE internet deabrua
-Name[fa]=شبح اینترنتی KDE‌
+Name[fa]=شبح اینترنتی KDE
 Name[fi]=KDE Internet-palvelin
 Name[fr]=Démon Internet de KDE
 Name[ga]=Deamhan Idirlín KDE
@@ -75,13 +75,13 @@
 Comment[cs]=Internetový démon spouštějící síťové služby na požádání
 Comment[cy]=Daemon Rhyngrwyd sy'n cychwyn gwasanaethau rhwydwaith ar alw
 Comment[da]=En internet-dæmon der starter netværkstjenester efter forespørgsel
-Comment[de]=Ein Internet-Dämon, der Netzwerkdienste bei Bedarf startet
+Comment[de]=Startet Netzwerkdienste bei Bedarf
 Comment[el]=Ένας δαίμονας για το διαδίκτυο ο οποίος ξεκινάει τις υπηρεσίες δικτύου όταν απαιτείται
 Comment[eo]=retdemono kiu lanĉas retajn servojn laŭ bezono
 Comment[es]=Un demonio de Internet que inicia los servicios de red a demanda
 Comment[et]=Internetideemon, mis käivitab nõudmisel võrguteenused
 Comment[eu]=Sare zerbitzuak eskatzean abiarazten dituen deabrua
-Comment[fa]=یک شبح اینترنتی که خدمات شبکه را بر اساس تقاضا آغاز می‌کند‌
+Comment[fa]=یک شبح اینترنتی که خدمات شبکه را بر اساس تقاضا آغاز می‌کند
 Comment[fi]=Internet-palvelin, joka käynnistää verkkopalveluita
 Comment[fr]=Un démon Internet qui démarre le service réseau à la demande
 Comment[ga]=Deamhan Idirlín a thosaíonn seirbhísí gréasáin ar éileamh
Index: krfb/kinetd/eventsrc
===================================================================
--- krfb/kinetd/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/kinetd/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -21,7 +21,7 @@
 Name[es]=Conexión entrante
 Name[et]=Sissetulev ühendus
 Name[eu]=Sarrerako konexioa
-Name[fa]=اتصال وارد شده‌
+Name[fa]=اتصال وارد‌شده
 Name[fi]=Saapuva yhteys
 Name[fr]=Connexion entrante
 Name[ga]=CeangalIsteach
@@ -80,7 +80,7 @@
 Comment[es]=Recibida conexión entrante
 Comment[et]=Saadi sissetulev ühendus
 Comment[eu]=Konexio bat jaso da
-Comment[fa]=اتصال وارد شده دریافت شد‌
+Comment[fa]=اتصال واردشده دریافت شد
 Comment[fi]=Vastaanotettiin saapuva yhteys
 Comment[fr]=Reçu une connexion entrante
 Comment[gl]=Recibíuse unha conexión entrante
@@ -140,7 +140,7 @@
 Name[es]=Proceso fallido
 Name[et]=Protsess ebaõnnestus
 Name[eu]=Prozesuak huts egin du
-Name[fa]=خرابی پردازه‌
+Name[fa]=خرابی پردازه
 Name[fi]=Prosessi epäonnistui
 Name[fr]=Échec du processus
 Name[ga]=PróiseasTeipthe
@@ -199,7 +199,7 @@
 Comment[es]=Imposible lanzar proceso para manejar conexión
 Comment[et]=Ei suuda käivitada protsessi ühenduse käsitsemiseks
 Comment[eu]=Ezin izan da konexioa kudeatzeko prozesua deitu
-Comment[fa]=نتوانست پردازه را برای گرداندن اتصال فراخوانی کند‌
+Comment[fa]=نتوانست پردازه را برای گرداندن اتصال فراخوانی کند
 Comment[fi]=Ei voitu kutsua prosessia yhteyden hoitamiseksi
 Comment[fr]=Impossible d'appeler le processus pour gérer la connexion
 Comment[gl]=Non se puidcho chamar ó proceso para que atendese á conexión
Index: krfb/kinetd/kinetdmodule.desktop
===================================================================
--- krfb/kinetd/kinetdmodule.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ krfb/kinetd/kinetdmodule.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
 Name[es]=Tipo de módulo KInetD
 Name[et]=KInetD mooduli tüüp
 Name[eu]=KInetD modulu mota
-Name[fa]=نوع پیمانۀ KInetD‌
+Name[fa]=نوع پیمانۀ KInetD
 Name[fi]=KInetD-moduulityyppi
 Name[fr]=Type de module de KInetD
 Name[ga]=Cineál Modúil KInetD
Index: lanbrowsing/kcmlisa/kcmkiolan.desktop
===================================================================
--- lanbrowsing/kcmlisa/kcmkiolan.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ lanbrowsing/kcmlisa/kcmkiolan.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -21,7 +21,6 @@
 Name[es]=Esclavo de LAN KIO
 Name[et]=Kohtvõrgu KIO moodul
 Name[eu]=LAN KIO morroia
-Name[fa]=پیرو LAN KIO‌
 Name[fi]=LAN-siirräntätyöskentelijä
 Name[fr]=Module KIO LAN
 Name[ga]=Sclábhaí KIO LAN
@@ -68,7 +67,7 @@
 Comment[es]=lan: y rlan: configuración
 Comment[et]=lan: ja rlan: seadistamine
 Comment[eu]=lan: eta rlan: konfigurazioa
-Comment[fa]=شبکۀ محلی:و شبکۀ محلی راه دور: برپایی‌
+Comment[fa]=شبکۀ محلی: و شبکۀ محلی راه دور: برپایی
 Comment[fi]=lan: ja rlan: asetukset
 Comment[fr]=configuration pour lan: et rlan:
 Comment[ga]=Cumraíocht lan: agus rlan:
@@ -115,7 +114,7 @@
 Keywords[bg]=настройки, локална, мрежа, lan
 Keywords[bn]=ল্যান
 Keywords[de]=LAN
-Keywords[fa]=شبکه داخلی‌
+Keywords[fa]=شبکۀ داخلی
 Keywords[fr]=lan,réseau local,réseau
 Keywords[gl]=lan,redes locáis
 Keywords[he]=lan,רשת מקומית
Index: lanbrowsing/kcmlisa/kcmlisa.desktop
===================================================================
--- lanbrowsing/kcmlisa/kcmlisa.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ lanbrowsing/kcmlisa/kcmlisa.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -9,7 +9,6 @@
 X-KDE-FactoryName=lisa
 
 Name=LISa
-Name[fa]= LISa‌
 Name[hi]=लिसा
 Name[sv]=Lisa
 Name[th]=ลิซา
@@ -30,7 +29,7 @@
 Comment[es]=Configuración LISa
 Comment[et]=LISa seadistamine
 Comment[eu]=LISa konfiguratu
-Comment[fa]=برپایی  LISa‌
+Comment[fa]=برپایی LISa
 Comment[fi]=Aseta LISa
 Comment[fr]=Configuration de LISa
 Comment[ga]=Cumraigh LISa
@@ -87,7 +86,7 @@
 Keywords[el]=lisa,δίκτυο,smb,ftp,fish,http
 Keywords[et]=lisa,võrk,smb,ftp,fish,http
 Keywords[eu]=lisa,sarea,smb,ftp,fish,http
-Keywords[fa]=lisa,شبکه,smb,قاپ,fish,قام
+Keywords[fa]=lisa، شبکه، smb، قاپ، fish، قام
 Keywords[fi]=lisa,verkko,smb,ftp,fish,http
 Keywords[fr]=lisa,réseau,smb,ftp,fish,http
 Keywords[gl]=lisa,rede,smb,ftp,fish,http
Index: lanbrowsing/kcmlisa/kcmreslisa.desktop
===================================================================
--- lanbrowsing/kcmlisa/kcmreslisa.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ lanbrowsing/kcmlisa/kcmreslisa.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Comment[es]=Configuración ResLISa
 Comment[et]=ResLISa seadistamine
 Comment[eu]=ResLISa konfiguratu
-Comment[fa]=برپایی ResLISa‌
+Comment[fa]=برپایی ResLISa
 Comment[fi]=Aseta ResLISa
 Comment[fr]=Configuration de ResLISa
 Comment[ga]=Cumraigh ResLISa
@@ -87,7 +87,7 @@
 Keywords[el]=reslisa,δίκτυο,smb,ftp,fish,http
 Keywords[et]=reslisa,võrk,smb,ftp,fish,http
 Keywords[eu]=reslisa,sarea,smb,ftp,fish,http
-Keywords[fa]=reslisa،شبکه،smb,قاپ,fish,قام 
+Keywords[fa]=reslisa، شبکه، smb، قاپ، fish، قام
 Keywords[fi]=reslisa,verkko,smb,ftp,fish,http
 Keywords[fr]=reslisa,réseau,smb,ftp,fish,http
 Keywords[gl]=reslisa,redes,smb,ftp,fish,http
Index: lanbrowsing/kio_lan/lisa.desktop
===================================================================
--- lanbrowsing/kio_lan/lisa.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ lanbrowsing/kio_lan/lisa.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 Name[es]=Navegador de red
 Name[et]=Kohtvõrgu sirvija
 Name[eu]=LAN arakatzailea
-Name[fa]=مرورگر شبکۀ داخلی‌
+Name[fa]=مرورگر شبکۀ داخلی
 Name[fi]=Lähiverkon selain
 Name[fr]=Navigateur réseau
 Name[ga]=Brabhsálaí an Ghréasáin Logánta
Index: lanbrowsing/kio_lan/lan.desktop
===================================================================
--- lanbrowsing/kio_lan/lan.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ lanbrowsing/kio_lan/lan.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,7 +23,7 @@
 Name[es]=Red local
 Name[et]=Kohalik võrk
 Name[eu]=Sare lokala
-Name[fa]=شبکۀ محلی‌
+Name[fa]=شبکۀ محلی
 Name[fi]=Paikallisverkko
 Name[fr]=Réseau local
 Name[ga]=Gréasán Logánta
Index: kdnssd/ioslave/invitation.protocol
===================================================================
--- kdnssd/ioslave/invitation.protocol	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdnssd/ioslave/invitation.protocol	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Description[es]=Invitaciones SD
 Description[et]=SD kutsed
 Description[eu]=SD gonbidapenak
-Description[fa]=دعوتهای SD‌
+Description[fa]=دعوتهای SD
 Description[fi]=SD-kutsut
 Description[fr]=Invitations SD
 Description[gl]=Invitacións SD
Index: kdnssd/ioslave/zeroconf.protocol
===================================================================
--- kdnssd/ioslave/zeroconf.protocol	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdnssd/ioslave/zeroconf.protocol	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Description[es]=A esclavo kio para ZeroConf
 Description[et]=ZeroConfi I/O-moodul
 Description[eu]= kioslave bat ZeroConf-erako
-Description[fa]=یک kioslave برای ZeroConf‌
+Description[fa]=یک kioslave برای ZeroConf
 Description[fi]=Siirräntätyöskentelijä ZeroConfille
 Description[fr]=Un module d'entrée / sortie pour ZeroConf
 Description[gl]=Un kioslabe para ZeroConf
Index: kdnssd/ioslave/zeroconf.desktop
===================================================================
--- kdnssd/ioslave/zeroconf.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdnssd/ioslave/zeroconf.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -14,7 +14,7 @@
 Name[es]=Servicios de red
 Name[et]=Võrguteenused
 Name[eu]=Sare zerbitzuak
-Name[fa]=خدمات شبکه‌
+Name[fa]=خدمات شبکه
 Name[fi]=Lähiverkkopalvelut
 Name[fr]=Services réseaux
 Name[ga]=Seirbhísí Líonra
Index: kdnssd/kdedmodule/dnssdwatcher.desktop
===================================================================
--- kdnssd/kdedmodule/dnssdwatcher.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdnssd/kdedmodule/dnssdwatcher.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -7,12 +7,12 @@
 Name[ca]=Vigilant de serveis DNS-SD
 Name[cs]=Sledování DNS-SD služeb
 Name[da]=DNS-SD overvågning af tjenester
-Name[de]=DNS-SD Dienste-Monitor
+Name[de]=Überwachung von DNS-SD-Diensten
 Name[el]=Παρατηρητής υπηρεσιών DNS-SD
 Name[es]=Observador de servicios DNS-SD
 Name[et]=DNS-SD teenuste jälgija
 Name[eu]=DNS-SD zerbitzu jarraitzailea
-Name[fa]=پایندۀ خدمات DNS-SD‌
+Name[fa]=پایندۀ خدمات DNS-SD
 Name[fi]=DNS-SD-palvelujen tarkkailija
 Name[fr]=Surveillance des services DNS-SD
 Name[gl]=Observador de Servicios DNS-SD
@@ -46,12 +46,12 @@
 Comment[ca]=Segueix els serveis DNS-SD i actualitza les llistes de directoris
 Comment[cs]=Udržuje přehled o DNS-SD službách a aktualizuje výpisy adresářů
 Comment[da]=Holder styr på DNS-SD-tjenester og opdaterer lister med mapper
-Comment[de]=Überwacht DNS-SD-Dienste und aktualisiert die Verzeichniseinträge
+Comment[de]=Überwacht DNS-SD-Dienste und aktualisiert Verzeichniseinträge
 Comment[el]=Διατηρεί το ίχνος των υπηρεσιών του DNS-SD και ενημερώνει τις λίστες του καταλόγου
 Comment[es]=Vigila los servicios DNS-SD y actualiza los listados de directorio
 Comment[et]=Jälgib DNS-SD teenuseid ja uuendab kataloogide nimekirju
 Comment[eu]=DNS-SD zerbitzuak jarraitu eta direktorio zerrendak eguneratzen ditu
-Comment[fa]=رد خدمات DNS-SD را نگهداری می‌کند و صورت برنامه‌های فهرست راهنما را  به روز رسانی می‌کند ‌
+Comment[fa]=رد خدمات DNS-SD را نگهداری می‌کند و فهرست برنامه‌های فهرست راهنما را  به‌روزرسانی می‌کند
 Comment[fi]=Pitää kirjaa DNS-SD-palveluista ja päivittää kansiolistaukset
 Comment[fr]=Conserve une trace des services DNS-SD et actualise les listes de dossiers
 Comment[gl]=Deixa constancia dos servicios DNS-SD e anova as listaxes de directorios
Index: kopete/plugins/nowlistening/nowlisteningplugin.cpp
===================================================================
--- kopete/plugins/nowlistening/nowlisteningplugin.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/nowlistening/nowlisteningplugin.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -308,7 +308,7 @@
 				{
 					// Check for the now listening message in parenthesis, 
 					// include the header to not override other messages in parenthesis.
-					QRegExp statusSong( QString("\\(%1.*\\)$").arg( NowListeningConfig::header()) );
+					QRegExp statusSong( QString(" \\(%1.*\\)$").arg( NowListeningConfig::header()) );
 					
 					// HACK: Don't keep appending the now listened song. Replace it in the status message.
 					advert = a->myself()->property( Kopete::Global::Properties::self()->awayMessage() ).value().toString();
@@ -318,11 +318,11 @@
 					{
 						if(statusSong.search(advert) != -1)
 						{
-							advert = advert.replace(statusSong, QString("(%1)").arg(mediaPlayerAdvert(false)) );
+							advert = advert.replace(statusSong, QString(" (%1)").arg(mediaPlayerAdvert(false)) );
 						}
 						else
 						{
-							advert += QString("(%1)").arg( mediaPlayerAdvert(false) );
+							advert += QString(" (%1)").arg( mediaPlayerAdvert(false) );
 						}
 					}
 					else
Index: kopete/plugins/nowlistening/kopete_nowlistening_config.desktop
===================================================================
--- kopete/plugins/nowlistening/kopete_nowlistening_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/nowlistening/kopete_nowlistening_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Escuchando
 Name[et]=Praegu kuulan
 Name[eu]=Orain entzuten
-Name[fa]=الان گوش می‌کند‌
+Name[fa]=الان گوش می‌کند
 Name[fi]=Nyt soi
 Name[fr]=En écoute
 Name[ga]=Ag Éisteacht Anois
@@ -75,7 +75,7 @@
 Comment[es]=Le cuenta a sus contactos lo que está escuchando
 Comment[et]=Semudele teatamine, mida parajasti kuulad
 Comment[eu]=Zure lagunei zer entzuten ari zaren esaten die
-Comment[fa]=به دوستان شما می‌گوید که به چه چیز گوش می‌دهید‌
+Comment[fa]=به دوستان شما می‌گوید که به چه چیز گوش می‌دهید
 Comment[fi]=Kertoo kavereillesi mitä kuuntelet tällä hetkellä
 Comment[fr]=Indique à vos contacts ce que vous êtes en train d'écouter
 Comment[gl]=Dílle ós teus amigos que estás a escoitar
Index: kopete/plugins/nowlistening/nlamarok.cpp
===================================================================
--- kopete/plugins/nowlistening/nlamarok.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/nowlistening/nlamarok.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -31,7 +31,7 @@
 {
 	m_client = client;
 	m_type = Audio;
-	m_name = "amaroK";
+	m_name = "Amarok";
 }
 
 void NLamaroK::update()
Index: kopete/plugins/nowlistening/kopete_nowlistening.desktop
===================================================================
--- kopete/plugins/nowlistening/kopete_nowlistening.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/nowlistening/kopete_nowlistening.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Name[es]=Escuchando
 Name[et]=Praegu kuulan
 Name[eu]=Orain entzuten
-Name[fa]=الان گوش می‌کند‌
+Name[fa]=الان گوش می‌کند
 Name[fi]=Nyt soi
 Name[fr]=En écoute
 Name[ga]=Ag Éisteacht Anois
@@ -79,7 +79,7 @@
 Comment[es]=Le cuenta a sus contactos lo que está escuchando
 Comment[et]=Semudele teatamine, mida parajasti kuulad
 Comment[eu]=Zure lagunei zer entzuten ari zaren esaten die
-Comment[fa]=به دوستان شما می‌گوید که به چه چیز گوش می‌دهید‌
+Comment[fa]=به دوستان شما می‌گوید که به چه چیز گوش می‌دهید
 Comment[fi]=Kertoo kavereillesi mitä kuuntelet tällä hetkellä
 Comment[fr]=Indique à vos contacts ce que vous êtes en train d'écouter
 Comment[gl]=Dílle ós teus amigos que estás a escoitar
Index: kopete/plugins/motionautoaway/kopete_motionaway.desktop
===================================================================
--- kopete/plugins/motionautoaway/kopete_motionaway.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/motionautoaway/kopete_motionaway.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -27,7 +27,7 @@
 Name[es]=Auto-Alejado
 Name[et]=Automaatne äraolek
 Name[eu]=Auto-urrunduta
-Name[fa]=حرکت خودکار دور‌
+Name[fa]=حرکت خودکار دور
 Name[fi]=Liikeen perusteella poistuminen
 Name[fr]=Détection de mouvement
 Name[gl]=Auto-alonxamento
@@ -74,7 +74,7 @@
 Comment[es]=Se pone en estado Alejado cuando no se detecte movimiento cerca de su ordenador
 Comment[et]=Määrab äraoleku staatuse, kui arvuti juures mingit elutegevust ei täheldata
 Comment[eu]=Ezarri urrunduta egoera konputagailuan mugimendurik ez dagoenean
-Comment[fa]=اگر هیچ حرکتی نزدیک رایانۀ شما آشکار نشود، وضعیت را کنار می‌گذارد‌
+Comment[fa]=اگر هیچ حرکتی نزدیک رایانۀ شما آشکار نشود، وضعیت را کنار می‌گذارد
 Comment[fi]=Asettaa poissaolevaksi, jos koneen lähistöllä ei havaita liikettä
 Comment[fr]=Active l'état absent lorsque aucune activité n'est détectée près de l'ordinateur
 Comment[gl]=Pónse en estado alonxado cando non se detectan movementos preto do seu ordenador
Index: kopete/plugins/motionautoaway/kopete_motionaway_config.desktop
===================================================================
--- kopete/plugins/motionautoaway/kopete_motionaway_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/motionautoaway/kopete_motionaway_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,7 +23,7 @@
 Name[es]=Auto-Alejado
 Name[et]=Automaatne äraolek
 Name[eu]=Auto-urrunduta
-Name[fa]=حرکت خودکار دور‌
+Name[fa]=حرکت خودکار دور
 Name[fi]=Liikeen perusteella poistuminen
 Name[fr]=Détection de mouvement
 Name[gl]=Auto-alonxamento
@@ -70,7 +70,7 @@
 Comment[es]=Se pone en estado Alejado cuando no se detecte movimiento cerca de su ordenador
 Comment[et]=Määrab äraoleku staatuse, kui arvuti juures mingit elutegevust ei täheldata
 Comment[eu]=Ezarri urrunduta egoera konputagailuan mugimendurik ez dagoenean
-Comment[fa]=اگر هیچ حرکتی نزدیک رایانۀ شما آشکار نشود، وضعیت را کنار می‌گذارد‌
+Comment[fa]=اگر هیچ حرکتی نزدیک رایانۀ شما آشکار نشود، وضعیت را کنار می‌گذارد
 Comment[fi]=Asettaa poissaolevaksi, jos koneen lähistöllä ei havaita liikettä
 Comment[fr]=Active l'état absent lorsque aucune activité n'est détectée près de l'ordinateur
 Comment[gl]=Pónse en estado alonxado cando non se detectan movementos preto do seu ordenador
Index: kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop
===================================================================
--- kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,7 +23,7 @@
 Name[es]=Estado de conexión de SUSE SMPPPD
 Name[et]=SUSE SMPPPD ühenduse staatus
 Name[eu]=SUSE SMPPPD konexioaren egoera
-Name[fa]=وضعیت اتصال SUSE SMPPPD‌
+Name[fa]=وضعیت اتصال SUSE SMPPPD
 Name[fi]=SUSE SMPPPD -yhteyden tila
 Name[fr]=État de la connexion SUSE SMPPPD
 Name[ga]=Stádas Ceangail SUSE SMPPPD
@@ -65,7 +65,7 @@
 Comment[es]=Extensión SMPPPDCS
 Comment[et]=SMPPPDCS plugin
 Comment[eu]=SMPPPDCS plugin-a
-Comment[fa]=SUSE SMPPPD وصلۀ‌‌
+Comment[fa]=SUSE SMPPPD وصلۀ
 Comment[fi]=SMPPPDCS-liitännäinen
 Comment[fr]=Module SMPPPDCS
 Comment[ga]=Breiseán SMPPPDCS
Index: kopete/plugins/smpppdcs/kopete_smpppdcs.desktop
===================================================================
--- kopete/plugins/smpppdcs/kopete_smpppdcs.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/smpppdcs/kopete_smpppdcs.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Estado de conexión con SUSE smpppd habilitado (SMPPPD)
 Name[et]=SUSE smpppd-võimalusega ühenduse staatus (SMPPPD)
 Name[eu]=SUSE smpppd-gaitutat konexioaren egoera (SMPPPD)
-Name[fa]=وضعیت اتصال فعال -SUSE smpppd (SMPPPD)‌
+Name[fa]=وضعیت اتصال فعال -SUSE smpppd (SMPPPD)
 Name[fi]=SUSE smpppd-enabled -yhteyden tila (SMPPPD)
 Name[fr]=État de la connexion pour « smpppd-enabled » de Suse (SMPPPD)
 Name[he]=SUSE smpppd-מאפשר מצב חיבור (SMPPPD)
@@ -67,7 +67,7 @@
 Comment[es]=Conecta/desconecta Kopete automáticamente segíºn la disponibilidad de la conexión a internet
 Comment[et]=Kopete automaatne ühendamine/ühenduse katkestamine vastavalt internetiühenduse olemasolule
 Comment[eu]=Kopete automatikoki konektatu/deskonektatzen du internet-eko konexioaren eskuragarritasunaren arabera
-Comment[fa]=بسته به قابلیت دسترسی اتصال اینترنت به طور خودکار Kopete وصل/قطع ارتباط می‌کند‌‌
+Comment[fa]=بسته به قابلیت دسترسی اتصال اینترنت،  Kopete به طور خودکار وصل/قطع ارتباط می‌کند
 Comment[fi]=Yhdistää/katkaisee yhteyden automaattisesti riippuen onko Internet-yhteys päällä
 Comment[fr]=Connecte / déconnecte automatiquement Kopete en fonction de la disponibilité de la connexion Internet
 Comment[gl]=Conecta/desconecta a Kopete automáticamente dependendo da disponibilidade de conexión a Internet
Index: kopete/plugins/alias/kopete_alias.desktop
===================================================================
--- kopete/plugins/alias/kopete_alias.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/alias/kopete_alias.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Name[cy]=Ffugenw
 Name[el]=Αντιστοιχία
 Name[eu]=Aliasa
-Name[fa]=نام ساختگی‌
+Name[fa]=نام‌گردان
 Name[fi]=Uusi nimi
 Name[ga]=Ailias
 Name[he]=כינוי
@@ -62,7 +62,7 @@
 Comment[es]=Añade alias personales a los comandos
 Comment[et]=Lisab käskudele kohandatud aliase
 Comment[eu]=Alias pertsonalizatuak gehitzen ditu aginduentzat
-Comment[fa]=نامهای ساختگی سفارشی را برای فرمانها می‌افزاید‌
+Comment[fa]=نام‌گردانهای سفارشی را برای فرمانها می‌افزاید
 Comment[fi]=Lisää uusia nimiä komennoille
 Comment[fr]=Ajoute des alias personnalisés à des commandes
 Comment[gl]=Engadir alias persoáis para comandos
Index: kopete/plugins/alias/aliaspreferences.cpp
===================================================================
--- kopete/plugins/alias/aliaspreferences.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/alias/aliaspreferences.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -290,6 +290,19 @@
 
 	aliasMap.insert( alias, new AliasItem( preferencesDialog->aliasList, id, alias, command, p ) );
 
+	// count the number of arguments present in 'command'
+	QRegExp rx( "(%\\d+)" );
+	QStringList list;
+	int pos = 0;
+	while ( pos >= 0 ) {
+		pos = rx.search( command, pos );
+		if ( pos > -1 ) {
+			list += rx.cap( 1 );
+			pos  += rx.matchedLength();
+		}
+	}
+	int argc = list.count();
+
 	for( ProtocolList::ConstIterator it = p.begin(); it != p.end(); ++it )
 	{
 		Kopete::CommandHandler::commandHandler()->registerAlias(
@@ -297,7 +310,9 @@
 			alias,
 			command,
 			QString::fromLatin1("Custom alias for %1").arg(command),
-			Kopete::CommandHandler::UserAlias
+			Kopete::CommandHandler::UserAlias,
+			0,
+			argc
 		);
 
 		protocolMap.insert( QPair<Kopete::Protocol*,QString>( *it, alias ), true );
Index: kopete/plugins/alias/kopete_alias_config.desktop
===================================================================
--- kopete/plugins/alias/kopete_alias_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/alias/kopete_alias_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -20,7 +20,7 @@
 Name[cy]=Ffugenw
 Name[el]=Αντιστοιχία
 Name[eu]=Aliasa
-Name[fa]=نام ساختگی‌
+Name[fa]=نام‌گردان
 Name[fi]=Uusi nimi
 Name[ga]=Ailias
 Name[he]=כינוי
@@ -58,7 +58,7 @@
 Comment[es]=Añade alias personales a los comandos
 Comment[et]=Lisab käskudele kohandatud aliase
 Comment[eu]=Alias pertsonalizatuak gehitzen ditu aginduentzat
-Comment[fa]=نامهای ساختگی سفارشی را برای فرمانها می‌افزاید‌
+Comment[fa]=نام‌گردانهای سفارشی را برای فرمانها می‌افزاید
 Comment[fi]=Lisää uusia nimiä komennoille
 Comment[fr]=Ajoute des alias personnalisés à des commandes
 Comment[gl]=Engadir alias persoáis para comandos
Index: kopete/plugins/translator/kopete_translator.desktop
===================================================================
--- kopete/plugins/translator/kopete_translator.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/translator/kopete_translator.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -30,7 +30,7 @@
 Name[es]=Traductor
 Name[et]=Tõlketeenus
 Name[eu]=Itzultzailea
-Name[fa]=مترجم‌
+Name[fa]=مترجم
 Name[fi]=Kääntäjä
 Name[fr]=Traducteur
 Name[ga]=Aistritheoir
@@ -84,7 +84,7 @@
 Comment[es]=Charle con compañeros extranjeros en su lengua
 Comment[et]=Vestlemine välismaiste semudega enda emakeeles
 Comment[eu]=Atzerriko lagunekin zure ama-hizkuntzan hitz egin
-Comment[fa]=گپ زدن با دوستان خارجی با زبان مادریتان‌
+Comment[fa]=گپ زدن با دوستان خارجی با زبان مادریتان
 Comment[fi]=Juttele ulkomaisten kaveriesi kanssa omalla kielelläsi
 Comment[fr]=Discutez avec des étrangers dans votre langue natale
 Comment[gl]=Fala con amigos extranxeiros na túa lingua nativa
Index: kopete/plugins/translator/kopete_translator_config.desktop
===================================================================
--- kopete/plugins/translator/kopete_translator_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/translator/kopete_translator_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Traductor
 Name[et]=Tõlketeenus
 Name[eu]=Itzultzailea
-Name[fa]=مترجم‌
+Name[fa]=مترجم
 Name[fi]=Kääntäjä
 Name[fr]=Traducteur
 Name[ga]=Aistritheoir
@@ -79,7 +79,7 @@
 Comment[es]=Traduce mensajes de su lengua a otra
 Comment[et]=Tõlgib sõnumid sinu emakeelest mingisse muusse keelde
 Comment[eu]=Mezuak zure ama-hizkuntzatik beste hizkuntzara itzultzen ditu
-Comment[fa]=ترجمۀ پیامهایی با زبان مادری شما به زبانهای دیگر‌
+Comment[fa]=ترجمۀ پیامهایی با زبان مادری شما به زبانهای دیگر
 Comment[fi]=Kääntää viestit omasta kielestä toiseen kieleen
 Comment[fr]=Traduit les messages de votre langue natale en une autre langue
 Comment[ga]=Aistríonn seo teachtaireachtaí ó do theanga dúchais go teanga eile
Index: kopete/plugins/statistics/statisticsdialog.cpp
===================================================================
--- kopete/plugins/statistics/statisticsdialog.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/statistics/statisticsdialog.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -54,6 +54,7 @@
 	QHBox *hbox = new QHBox(this);
 	
 	generalHTMLPart = new KHTMLPart(hbox);
+        generalHTMLPart->setOnlyLocalReferences(true);
 	connect ( generalHTMLPart->browserExtension(), SIGNAL( openURLRequestDelayed( const KURL &, const KParts::URLArgs & ) ),
 			  this, SLOT( slotOpenURLRequest( const KURL &, const KParts::URLArgs & ) ) );
 	
Index: kopete/plugins/statistics/kopete_statistics.desktop
===================================================================
--- kopete/plugins/statistics/kopete_statistics.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/statistics/kopete_statistics.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -28,7 +28,7 @@
 Name[es]=Estadisticas
 Name[et]=Statistika
 Name[eu]=Estatistikak
-Name[fa]=آمار‌
+Name[fa]=آمار
 Name[fi]=Tilastot
 Name[fr]=Statistiques
 Name[ga]=Staitistic
@@ -72,7 +72,7 @@
 Comment[es]=Recoge algunas estadí­sticas significativas
 Comment[et]=Veidi statistikat, millest võib kasu olla
 Comment[eu]=Estatistika esanguratsuak bildu
-Comment[fa]=جمع آوری بعضی از آمارهای با معنی‌
+Comment[fa]=جمع‌آوری بعضی از آمارهای با معنی
 Comment[fi]=Kerää hyödyllisiä tilastoja
 Comment[fr]=Récupération de quelques statistiques utiles
 Comment[he]=מלקט סטטיסטיקה בעלת משמעות
Index: kopete/plugins/cryptography/cryptographyplugin.cpp
===================================================================
--- kopete/plugins/cryptography/cryptographyplugin.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/cryptography/cryptographyplugin.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -58,8 +58,9 @@
 	if( !pluginStatic_ )
 		pluginStatic_=this;
 
-	m_inboundHandler = new Kopete::SimpleMessageHandlerFactory( Kopete::Message::Inbound,
-		Kopete::MessageHandlerFactory::InStageToSent, this, SLOT( slotIncomingMessage( Kopete::Message& ) ) );
+	m_inboundHandler = 0;
+/*	m_inboundHandler = new Kopete::SimpleMessageHandlerFactory( Kopete::Message::Inbound,
+		Kopete::MessageHandlerFactory::InStageToSent, this, SLOT( slotIncomingMessage( Kopete::Message& ) ) );*/
 	connect( Kopete::ChatSessionManager::self(),
 		SIGNAL( aboutToSend( Kopete::Message & ) ),
 		SLOT( slotOutgoingMessage( Kopete::Message & ) ) );
Index: kopete/plugins/cryptography/kopete_cryptography_config.desktop
===================================================================
--- kopete/plugins/cryptography/kopete_cryptography_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/cryptography/kopete_cryptography_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Criptografí­a
 Name[et]=Krüpto
 Name[eu]=Kriptografia
-Name[fa]=رمزنگاری‌
+Name[fa]=رمزنگاری
 Name[fi]=Salaus
 Name[fr]=Cryptographie
 Name[ga]=Criptiúchán
@@ -78,7 +78,7 @@
 Comment[es]=Cifra mensajes usando PGP
 Comment[et]=Sõnumite krüptimine PGP abil
 Comment[eu]=Enkriptatu mezuak PGP-rekin
-Comment[fa]=پیامها را با استفاده از GPG رمز بندی می‌کند‌
+Comment[fa]=پیامها را با استفاده از GPG رمزبندی می‌کند
 Comment[fi]=Salaa viestit käyttäen PGP-ohjelmaa
 Comment[fr]=Crypter les messages avec PGP
 Comment[gl]=Encripta mensaxes con PGP
Index: kopete/plugins/cryptography/kopete_cryptography.desktop
===================================================================
--- kopete/plugins/cryptography/kopete_cryptography.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/cryptography/kopete_cryptography.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Name[es]=Criptografí­a
 Name[et]=Krüpto
 Name[eu]=Kriptografia
-Name[fa]=رمزنگاری‌
+Name[fa]=رمزنگاری
 Name[fi]=Salaus
 Name[fr]=Cryptographie
 Name[ga]=Criptiúchán
@@ -82,7 +82,7 @@
 Comment[es]=Cifra y descifra mensajes con GPG
 Comment[et]=Sõnumite krüptimine ja lahtikrüptimine GPG abil
 Comment[eu]=Enkriptatu eta desenkriptatu mezuak GPG-rekin
-Comment[fa]=رمز بندی کردن و سر گشایی کردن پیامها با GPG‌
+Comment[fa]=رمزبندی و سرگشایی پیامها با GPG
 Comment[fi]=Salaa ja pura salaus viesteistä GPG-ohjelmalla
 Comment[fr]=Crypter et décrypter les messages avec GPG
 Comment[gl]=Encriptar e desencriptar mensaxes con GPG
Index: kopete/plugins/netmeeting/kopete_netmeeting_config.desktop
===================================================================
--- kopete/plugins/netmeeting/kopete_netmeeting_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/netmeeting/kopete_netmeeting_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -15,7 +15,7 @@
 Name[bg]=Видео чат
 Name[bn]=নেট মিটিং
 Name[da]=Netmøde
-Name[fa]=نت میتینگ‌
+Name[fa]=نت میتینگ
 Name[fr]=Vidéo-conférence
 Name[hi]=नेटमीटिंग
 Name[ja]=ネットミーティング
@@ -38,7 +38,7 @@
 Comment[es]=Voz y video con MSN Messenger
 Comment[et]=Audio ja video kasutamine MSN Messengeriga
 Comment[eu]=Ahotsa eta bideoa MSN Messenger-ekin
-Comment[fa]=ویدئو و صدا با پیام گیر ام اس ان‌
+Comment[fa]=ویدیو و صدا با پیام‌رسان ام‌اس‌ان
 Comment[fi]=Ääni ja videokuva MSN Messengerin kanssa
 Comment[fr]=Voix et vidéo avec MSN Messenger
 Comment[gl]=Voz e video con MSN Messenger
Index: kopete/plugins/netmeeting/kopete_netmeeting.desktop
===================================================================
--- kopete/plugins/netmeeting/kopete_netmeeting.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/netmeeting/kopete_netmeeting.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
 Name[bg]=Видео чат
 Name[bn]=নেট মিটিং
 Name[da]=Netmøde
-Name[fa]=نت میتینگ‌
+Name[fa]=نت میتینگ
 Name[fr]=Vidéo-conférence
 Name[hi]=नेटमीटिंग
 Name[ja]=ネットミーティング
@@ -42,7 +42,7 @@
 Comment[es]=Voz y video con MSN Messenger
 Comment[et]=Audio ja video kasutamine MSN Messengeriga
 Comment[eu]=Ahotsa eta bideoa MSN Messenger-ekin
-Comment[fa]=ویدئو و صدا با پیام گیر ام اس ان‌
+Comment[fa]=ویدیو و صدا با پیام‌رسان ام‌اس‌ان
 Comment[fi]=Ääni ja videokuva MSN Messengerin kanssa
 Comment[fr]=Voix et vidéo avec MSN Messenger
 Comment[gl]=Voz e video con MSN Messenger
Index: kopete/plugins/texteffect/kopete_texteffect.desktop
===================================================================
--- kopete/plugins/texteffect/kopete_texteffect.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/texteffect/kopete_texteffect.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -28,7 +28,7 @@
 Name[es]=Efecto de texto
 Name[et]=Tekstiefektid
 Name[eu]=Testuaren efektua
-Name[fa]=جلوه متن‌
+Name[fa]=جلوۀ متن
 Name[fi]=Tekstitehoste
 Name[fr]=Effets de texte
 Name[ga]=Maisíocht Téacs
@@ -80,7 +80,7 @@
 Comment[es]=Añade efectos agradables a sus mensajes
 Comment[et]=Lisab sõnumitele vahvaid efekte
 Comment[eu]=Gehitu efektu atseginak zure mezuei
-Comment[fa]=افزودن جلوه‌های زیبا به پیامهایتان‌
+Comment[fa]=افزودن جلوه‌های زیبا به پیامهایتان
 Comment[fi]=Lisää tehosteita viesteihisi
 Comment[fr]=Ajouter des effets sympathiques à vos messages
 Comment[ga]=Cuir maisíochtaí deasa le do theachtaireachtaí
Index: kopete/plugins/texteffect/kopete_texteffect_config.desktop
===================================================================
--- kopete/plugins/texteffect/kopete_texteffect_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/texteffect/kopete_texteffect_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Name[es]=Efecto de texto
 Name[et]=Tekstiefektid
 Name[eu]=Testuaren efektua
-Name[fa]=جلوه متن‌
+Name[fa]=جلوۀ متن
 Name[fi]=Tekstitehoste
 Name[fr]=Effets de texte
 Name[ga]=Maisíocht Téacs
@@ -76,7 +76,7 @@
 Comment[es]=Añade efectos especiales a su texto
 Comment[et]=Lisab tekstile eriefekte
 Comment[eu]=Gehitu efektu bereziak zure testuar
-Comment[fa]=جلوه‌های ویژه را به متن شما اضافه می‌کند‌
+Comment[fa]=جلوه‌های ویژه را به متن شما اضافه می‌کند
 Comment[fi]=Lisää erikoisefektejä tekstiisi
 Comment[fr]=Ajoute des effets spéciaux à vos messages
 Comment[ga]=Cuir maisíochtaí speisialta le do théacs
Index: kopete/plugins/history/kopete_history.desktop
===================================================================
--- kopete/plugins/history/kopete_history.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/history/kopete_history.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -32,7 +32,7 @@
 Name[es]=Historia
 Name[et]=Ajalugu
 Name[eu]=Historia
-Name[fa]=تاریخچه‌
+Name[fa]=تاریخچه
 Name[fi]=Historia
 Name[fr]=Historique
 Name[ga]=Stair
@@ -93,7 +93,7 @@
 Comment[es]=Registra todos los mensajes para guardar sus conversaciones
 Comment[et]=Kõigi sõnumite logimine, et neil ka hiljem silm peal hoida
 Comment[eu]=Gorde mezu guztiak zure elkarrizketak jarrai ahal ditzazun
-Comment[fa]=برای ردگیری مکالمات خود همۀ پیامها را ثبت کنید‌
+Comment[fa]=برای ردگیری مکالمات خود همۀ پیامها را ثبت کنید
 Comment[fi]=Laita kaikki viestisi lokiin
 Comment[fr]=Enregistrer tous les messages pour garder une trace de vos discussions
 Comment[gl]=Rexitra tódolas mensajex para gardar conversacións
Index: kopete/plugins/history/converter.cpp
===================================================================
--- kopete/plugins/history/converter.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/history/converter.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -167,7 +167,7 @@
 
 								while ( strchr(cbuf, '\n') == NULL && !feof(f) )
 								{
-									fgets( cbuf, 511, f );
+									fgets( cbuf, CBUFLENGTH, f );
 									buffer += QString::fromUtf8(cbuf);
 								}
 								msgBlock.append(buffer);
Index: kopete/plugins/history/historydialog.cpp
===================================================================
--- kopete/plugins/history/historydialog.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/history/historydialog.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -146,6 +146,7 @@
 	mHtmlPart->setJavaEnabled(false);
 	mHtmlPart->setPluginsEnabled(false);
 	mHtmlPart->setMetaRefreshEnabled(false);
+        mHtmlPart->setOnlyLocalReferences(true);
 
 	mHtmlView = mHtmlPart->view();
 	mHtmlView->setMarginWidth(4);
@@ -557,7 +558,8 @@
 			if (mSearch->dateSearchMap[mSearch->item->date()].contains(mSearch->item->metaContact()))
 				mSearch->item->setVisible(true);
 		}
-		while(mSearch->item = static_cast<KListViewDateItem *>(mSearch->item->nextSibling()));
+		while((mSearch->item = static_cast<KListViewDateItem
+                            *>(mSearch->item->nextSibling())));
 		mMainWidget->searchButton->setText(i18n("&Search"));
 
 		delete mSearch;
Index: kopete/plugins/history/kopete_history_config.desktop
===================================================================
--- kopete/plugins/history/kopete_history_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/history/kopete_history_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -28,7 +28,7 @@
 Name[es]=Historia
 Name[et]=Ajalugu
 Name[eu]=Historia
-Name[fa]=تاریخچه‌
+Name[fa]=تاریخچه
 Name[fi]=Historia
 Name[fr]=Historique
 Name[ga]=Stair
@@ -91,7 +91,7 @@
 Comment[es]=Plugin de Historia
 Comment[et]=Ajalooplugin
 Comment[eu]=Historia plugin-a
-Comment[fa]= وصلۀ تاریخچه‌‌
+Comment[fa]=وصلۀ تاریخچه
 Comment[fi]=Historia-liitännäinen
 Comment[fr]=Module d'historique
 Comment[ga]=Breiseán Staire
Index: kopete/plugins/addbookmarks/kopete_addbookmarks.desktop
===================================================================
--- kopete/plugins/addbookmarks/kopete_addbookmarks.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/kopete_addbookmarks.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -16,7 +16,7 @@
 Name[es]=Marcadores
 Name[et]=Järjehoidjad
 Name[eu]=Lastermarkak
-Name[fa]=چوب الفها‌
+Name[fa]=چوب الفها
 Name[fi]=Kirjanmerkit
 Name[fr]=Signets
 Name[ga]=Leabharmharcanna
@@ -70,10 +70,10 @@
 Comment[es]=Anota automáticamente los enlaces de los mensajes entrantes
 Comment[et]=Sissetulevates sõnumites olevate viitade automaatne lisamine järjehoidjatesse
 Comment[eu]=Automatikoki gorde lastermarketan sarrerako mezuetako loturak.
-Comment[fa]=به طور خودکار چوب الف به پیامهای وارد شده پیوند می‌خورد‌
+Comment[fa]=چوب الف به طور خودکار به پیامهای واردشده پیوند می‌خورد
 Comment[fi]=Lisää saapuvien viestien sisältämät linkit automaattisesti kirjanmerkkeihin
 Comment[fr]=Ajouter automatiquement un signet pour les liens présents dans les messages rentrants
-Comment[gl]=Marcar automáticamente as ligazóns nas mensaxes entrantes
+Comment[gl]=Marcar automáticamente as ligacións nas mensaxes entrantes
 Comment[he]=שמור קישורים מהמסרים הנכנסים ברשימת הסימניות באופן אוטומטי
 Comment[hu]=Könyvjelző létrehozása a bejövő üzenetekben található linkekről
 Comment[is]=Setja sjálfkrafa bókamerki á tengla í skilaboðum
Index: kopete/plugins/addbookmarks/addbookmarksplugin.cpp
===================================================================
--- kopete/plugins/addbookmarks/addbookmarksplugin.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarksplugin.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -16,6 +16,7 @@
 #include <qtextcodec.h>
 #include <qregexp.h>
 
+#include "addbookmarksplugin.moc"
 #include "addbookmarksplugin.h"
 #include "kopetecontact.h"
 #include "kopetechatsessionmanager.h"
@@ -25,6 +26,19 @@
 
 K_EXPORT_COMPONENT_FACTORY( kopete_addbookmarks, BookmarksPluginFactory( "kopete_addbookmarks" )  )
 
+
+static bool isURLInGroup(const KURL& url, const KBookmarkGroup& group)
+{
+	KBookmark bookmark = group.first();
+	
+	for( ; !bookmark.isNull() ; bookmark = group.next(bookmark) ){
+		if( !bookmark.isGroup() && !bookmark.isSeparator() )
+			if( url == bookmark.url() )
+				return true;
+	}
+	return false;
+}
+
 BookmarksPlugin::BookmarksPlugin(QObject *parent, const char *name, const QStringList &/*args*/)
  : Kopete::Plugin(BookmarksPluginFactory::instance(), parent, name)
 {
@@ -32,15 +46,6 @@
 	connect( Kopete::ChatSessionManager::self(), SIGNAL( aboutToDisplay( Kopete::Message & ) ), this, SLOT( slotBookmarkURLsInMessage( Kopete::Message & ) ) );
 }
 
-
-BookmarksPlugin::~BookmarksPlugin()
-{
-}
-
-
-#include "addbookmarksplugin.moc"
-
-
 /*!
     \fn BookmarksPlugin::slotBookmarkURLsInMessage(KopeteMessage & msg)
  */
@@ -54,14 +59,17 @@
 	URLsList = extractURLsFromString( msg.parsedBody() );
 	if (!URLsList->empty()) {
 		for( it = URLsList->begin() ; it != URLsList->end() ; ++it){
-			if( msg.from()->metaContact() ) {
-				addKopeteBookmark(*it, msg.from()->metaContact()->displayName() );
-				//kdDebug (14501) << "name:" << msg.from()->metaContact()->displayName() << endl;
+			if ( m_settings.addBookmarksFromUnknownContacts() || !msg.from()->metaContact()->isTemporary() )
+			{
+				if ( msg.from()->metaContact() ) {
+					addKopeteBookmark(*it, msg.from()->metaContact()->displayName() );
+					//kdDebug (14501) << "name:" << msg.from()->metaContact()->displayName() << endl;
+				}
+				else {
+					addKopeteBookmark(*it, msg.from()->property(Kopete::Global::Properties::self()->nickName()).value().toString() );
+					//kdDebug (14501) << "name:" << msg.from()->property(Kopete::Global::Properties::self()->nickName()).value().toString() << endl;
+				}
 			}
-			else {
-				addKopeteBookmark(*it, msg.from()->property(Kopete::Global::Properties::self()->nickName()).value().toString() );
-				//kdDebug (14501) << "name:" << msg.from()->property(Kopete::Global::Properties::self()->nickName()).value().toString() << endl;
-			}
 		}
 	}
 	delete URLsList;
@@ -71,7 +79,8 @@
 {
 	QTextCodec *codec = getPageEncoding( data );
 	QString htmlpage = codec->toUnicode( data );
-	QRegExp rx("<(?:title|TITLE)>([^<]*)</(?:title|TITLE)>");
+	QRegExp rx("<title>([^<]*){1,96}</title>");
+	rx.setCaseSensitive(false);
 	int pos = rx.search( htmlpage );
 	KBookmarkManager *mgr = KBookmarkManager::userBookmarksManager();
 	KBookmarkGroup group = getKopeteFolder();
@@ -93,7 +102,7 @@
 	transfer->kill();
 }
 
-KURL::List* BookmarksPlugin::extractURLsFromString( QString text )
+KURL::List* BookmarksPlugin::extractURLsFromString( const QString& text )
 {
 	KURL::List *list = new KURL::List;
 	QRegExp rx("<a href=\"[^\\s\"]+\"");
@@ -110,17 +119,20 @@
 	return list;
 }
 
-void BookmarksPlugin::addKopeteBookmark( KURL url, QString sender )
+void BookmarksPlugin::addKopeteBookmark( const KURL& url, const QString& sender )
 {
 	KBookmarkGroup group = getKopeteFolder();
 
 	if ( m_settings.useSubfolderForContact( sender ) ) {
 		group = getFolder( group, sender );
 	}
-	if( !isURLInGroup( url, group ) ){
+	// either restrict to http(s) or to KProtocolInfo::protocolClass() == :internet
+	if( !isURLInGroup( url, group )
+		&& url.isValid() && url.protocol().startsWith("http") ) {
 		KIO::TransferJob *transfer;
 		// make asynchronous transfer to avoid GUI freezing due to overloaded web servers
 		transfer = KIO::get(url, false, false);
+		transfer->setInteractive(false);
 		connect ( transfer, SIGNAL ( data( KIO::Job *, const QByteArray & ) ),
 		this, SLOT ( slotAddKopeteBookmark( KIO::Job *, const QByteArray & ) ) );
 		m_map[transfer].url = url;
@@ -132,23 +144,11 @@
 {
 	KBookmarkManager *mgr = KBookmarkManager::userBookmarksManager();
 
-	return getFolder( mgr->root(), "kopete" );
+	return getFolder( mgr->root(), QString::fromLatin1("kopete") );
 }
 
-bool BookmarksPlugin::isURLInGroup(KURL url, KBookmarkGroup group)
+KBookmarkGroup BookmarksPlugin::getFolder( KBookmarkGroup group, const QString& folder )
 {
-	KBookmark bookmark = group.first();
-	
-	for( ; !bookmark.isNull() ; bookmark = group.next(bookmark) ){
-		if( !bookmark.isGroup() && !bookmark.isSeparator() )
-			if( url == bookmark.url() )
-				return true;
-	}
-	return false;
-}
-
-KBookmarkGroup BookmarksPlugin::getFolder( KBookmarkGroup group, QString folder )
-{
 	KBookmark bookmark;
 
 
@@ -163,7 +163,7 @@
 	return group;
 }
 
-QTextCodec* BookmarksPlugin::getPageEncoding( QByteArray data )
+QTextCodec* BookmarksPlugin::getPageEncoding( const QByteArray& data )
 {
 	QString temp = QString::fromLatin1(data);
 	QRegExp rx("<meta[^>]*(charset|CHARSET)\\s*=\\s*[^>]*>");
Index: kopete/plugins/addbookmarks/addbookmarksprefssettings.cpp
===================================================================
--- kopete/plugins/addbookmarks/addbookmarksprefssettings.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarksprefssettings.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -31,6 +31,7 @@
 	KConfig * configfile = KGlobal::config();
 	m_isfolderforeachcontact = Always;
 	m_contactslist.clear();
+	m_addbookmarksfromunknowns = false;
 	if( configfile->getConfigState() == KConfigBase::NoAccess ){
 		kdDebug( 14501 ) << "load: failed to open config file for reading" << endl;
 		return;
@@ -42,6 +43,7 @@
 	configfile->setGroup("Bookmarks Plugin");
 	m_isfolderforeachcontact = (UseSubfolders)configfile->readNumEntry( "UseSubfolderForEachContact", 0 );
 	m_contactslist = configfile->readListEntry( "ContactsList" );
+	m_addbookmarksfromunknowns = configfile->readBoolEntry( "AddBookmarksFromUnknownContacts" );
 }
 
 void BookmarksPrefsSettings::save()
@@ -55,6 +57,7 @@
 	configfile->setGroup( "Bookmarks Plugin" );
 	configfile->writeEntry( "UseSubfolderForEachContact", (int)m_isfolderforeachcontact );
 	configfile->writeEntry( "ContactsList", m_contactslist );
+	configfile->writeEntry( "AddBookmarksFromUnknownContacts", m_addbookmarksfromunknowns );
 	configfile->sync();
 }
 
@@ -76,4 +79,9 @@
 	return false;
 }
 
+void BookmarksPrefsSettings::setAddBookmarksFromUnknownContacts( bool addUntrusted )
+{
+    m_addbookmarksfromunknowns = addUntrusted;
+}
+
 #include "addbookmarksprefssettings.moc"
Index: kopete/plugins/addbookmarks/addbookmarkspreferences.cpp
===================================================================
--- kopete/plugins/addbookmarks/addbookmarkspreferences.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarkspreferences.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -15,6 +15,7 @@
 #include <kgenericfactory.h>
 #include <kopetepluginmanager.h>
 #include <kopetecontactlist.h>
+#include <qcheckbox.h>
 #include <qlayout.h>
 #include <qbuttongroup.h>
 #include <qlistbox.h>
@@ -37,7 +38,9 @@
 	connect( p_dialog->onlySelectedButton, SIGNAL( toggled(bool) ), this, SLOT( slotSetStatusChanged() ));
 	connect( p_dialog->onlyNotSelectedButton, SIGNAL( toggled(bool) ), this, SLOT( slotSetStatusChanged() ));
 	connect( p_dialog->contactList, SIGNAL( selectionChanged() ), this, SLOT( slotSetStatusChanged() ));
-	connect( this, SIGNAL(PreferencesChanged()), Kopete::PluginManager::self()->plugin("kopete_addbookmarks") , SLOT(slotReloadSettings()));
+	if(Kopete::PluginManager::self()->plugin("kopete_addbookmarks") )
+           connect( this, SIGNAL(PreferencesChanged()), Kopete::PluginManager::self()->plugin("kopete_addbookmarks") , SLOT(slotReloadSettings()));
+	connect( p_dialog->m_addUntrusted, SIGNAL( toggled(bool) ), this, SLOT( slotAddUntrustedChanged() ) );
 }
 
 
@@ -61,6 +64,7 @@
 		}
 		m_settings.setContactsList( list );
 	}
+	m_settings.setAddBookmarksFromUnknownContacts( p_dialog->m_addUntrusted->isChecked() );
 	m_settings.save();
 	emit PreferencesChanged(); 
 	emit KCModule::changed(false);
@@ -76,6 +80,11 @@
 	emit KCModule::changed(true);
 }
 
+void BookmarksPreferences::slotAddUntrustedChanged()
+{
+    emit KCModule::changed(true);
+}
+
 void BookmarksPreferences::load()
 {
 	QStringList list;
@@ -84,7 +93,7 @@
 	
 	m_settings.load();
 	p_dialog->buttonGroup1->setButton(m_settings.isFolderForEachContact());
-
+    p_dialog->m_addUntrusted->setChecked( m_settings.addBookmarksFromUnknownContacts() );
 	if( p_dialog->contactList->count() == 0 ){
 		QStringList contacts = Kopete::ContactList::self()->contacts();
 		contacts.sort();
Index: kopete/plugins/addbookmarks/kopete_addbookmarks_config.desktop
===================================================================
--- kopete/plugins/addbookmarks/kopete_addbookmarks_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/kopete_addbookmarks_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -16,7 +16,7 @@
 Name[es]=Marcadores
 Name[et]=Järjehoidjad
 Name[eu]=Lastermarkak
-Name[fa]=چوب الفها‌
+Name[fa]=چوب الفها
 Name[fi]=Kirjanmerkit
 Name[fr]=Signets
 Name[ga]=Leabharmharcanna
@@ -70,10 +70,10 @@
 Comment[es]=Anota automáticamente los enlaces de los mensajes entrantes
 Comment[et]=Sissetulevates sõnumites olevate viitade automaatne lisamine järjehoidjatesse
 Comment[eu]=Automatikoki gorde lastermarketan sarrerako mezuetako loturak.
-Comment[fa]=به طور خودکار چوب الف به پیامهای وارد شده پیوند می‌خورد‌
+Comment[fa]=چوب الف به طور خودکار به پیامهای واردشده پیوند می‌خورد
 Comment[fi]=Lisää saapuvien viestien sisältämät linkit automaattisesti kirjanmerkkeihin
 Comment[fr]=Ajouter automatiquement un signet pour les liens présents dans les messages rentrants
-Comment[gl]=Marcar automáticamente as ligazóns nas mensaxes entrantes
+Comment[gl]=Marcar automáticamente as ligacións nas mensaxes entrantes
 Comment[he]=שמור קישורים מהמסרים הנכנסים ברשימת הסימניות באופן אוטומטי
 Comment[hu]=Könyvjelző létrehozása a bejövő üzenetekben található linkekről
 Comment[is]=Setja sjálfkrafa bókamerki á tengla í skilaboðum
Index: kopete/plugins/addbookmarks/addbookmarksplugin.h
===================================================================
--- kopete/plugins/addbookmarks/addbookmarksplugin.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarksplugin.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -30,28 +30,23 @@
 public:
     BookmarksPlugin(QObject *parent, const char *name, const QStringList &args);
 
-    ~BookmarksPlugin();
-    
 private:
     typedef struct S_URLANDNAME{
 		KURL url;
 		QString sender;
     } URLandName;
     typedef QMap<KIO::TransferJob*,URLandName> JobsToURLsMap;
-    
     JobsToURLsMap m_map;
     BookmarksPrefsSettings m_settings;
-    
-    void addKopeteBookmark( KURL url, QString sender );
-    KURL::List* extractURLsFromString( QString text );
+    void addKopeteBookmark( const KURL& url, const QString& sender );
+    KURL::List* extractURLsFromString( const QString& text );
     KBookmarkGroup getKopeteFolder();
-    KBookmarkGroup getFolder( KBookmarkGroup group, QString folder );
-    bool isURLInGroup( KURL url, KBookmarkGroup group );
-    QTextCodec* getPageEncoding( QByteArray data );
+    KBookmarkGroup getFolder( KBookmarkGroup group, const QString& folder );
+    QTextCodec* getPageEncoding( const QByteArray& data );
 public slots:
     void slotBookmarkURLsInMessage(Kopete::Message & msg);
     void slotReloadSettings();
-    
+
 private slots:
     void slotAddKopeteBookmark( KIO::Job *transfer, const QByteArray &data );
 };
Index: kopete/plugins/addbookmarks/addbookmarksprefssettings.h
===================================================================
--- kopete/plugins/addbookmarks/addbookmarksprefssettings.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarksprefssettings.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -35,9 +35,12 @@
     bool useSubfolderForContact( QString nickname );
     QStringList getContactsList() {return m_contactslist;}
     void setContactsList(QStringList list) {m_contactslist = list;}
+    bool addBookmarksFromUnknownContacts() { return m_addbookmarksfromunknowns; };
+    void setAddBookmarksFromUnknownContacts( bool );
     
 private:
     bool m_folderPerContact;
+    bool m_addbookmarksfromunknowns;
     UseSubfolders m_isfolderforeachcontact;
     QStringList m_contactslist;
 
Index: kopete/plugins/addbookmarks/addbookmarkspreferences.h
===================================================================
--- kopete/plugins/addbookmarks/addbookmarkspreferences.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarkspreferences.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -39,7 +39,7 @@
 
 private slots:
     void slotSetStatusChanged();
-           
+    void slotAddUntrustedChanged();
 };
 
 #endif
Index: kopete/plugins/addbookmarks/addbookmarksprefsui.ui
===================================================================
--- kopete/plugins/addbookmarks/addbookmarksprefsui.ui	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/addbookmarks/addbookmarksprefsui.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -63,7 +63,7 @@
                         <bool>true</bool>
                     </property>
                     <property name="text">
-                        <string>Only the selected contacts</string>
+                        <string>Onl&amp;y the selected contacts</string>
                     </property>
                     <property name="checked">
                         <bool>false</bool>
@@ -90,6 +90,14 @@
                 <cstring>contactList</cstring>
             </property>
         </widget>
+        <widget class="QCheckBox">
+            <property name="name">
+                <cstring>m_addUntrusted</cstring>
+            </property>
+            <property name="text">
+                <string>Add Bookmarks from Contacts Not In Your Contact List</string>
+            </property>
+        </widget>
     </vbox>
 </widget>
 <layoutdefaults spacing="6" margin="11"/>
Index: kopete/plugins/webpresence/kopete_webpresence.desktop
===================================================================
--- kopete/plugins/webpresence/kopete_webpresence.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/webpresence/kopete_webpresence.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -28,7 +28,7 @@
 Comment[es]=Mostrar el estado de (partes de) su lista de contactos en una página web
 Comment[et]=Näitab (vähemalt osa) kontaktide staatust veebileheküljel
 Comment[eu]=Erakutsi zure kontaktu zerrendaren (edo zati baten) egoera web orri batean
-Comment[fa]=وضعیت )اجزایی از( فهرست تماس شما را روی صفحۀ وب نمایش می‌دهد‌
+Comment[fa]=وضعیت )اجزایی از( فهرست تماس شما را روی صفحۀ وب نمایش می‌دهد
 Comment[fi]=Näytä kontaktien tila www-sivulla
 Comment[fr]=Affiche l'état de connexion de votre liste (ou d'une partie) sur une page internet
 Comment[gl]=Mostra o status da túa lista de contactos (ou parte) nunha páxina web
@@ -75,7 +75,7 @@
 Name[el]=Παρουσία σε ιστοσελίδα
 Name[es]=Presencia Web
 Name[et]=Veebinimekiri
-Name[fa]=حضور وب‌
+Name[fa]=حضور وب
 Name[fi]=WWW-paikallaolo
 Name[fr]=Présence sur le web
 Name[gl]=Presencia na web
Index: kopete/plugins/webpresence/kopete_webpresence_config.desktop
===================================================================
--- kopete/plugins/webpresence/kopete_webpresence_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/webpresence/kopete_webpresence_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Comment[es]=Mostrar el estado de (partes de) su lista de contactos en una página web
 Comment[et]=Näitab (vähemalt osa) kontaktide staatust veebileheküljel
 Comment[eu]=Erakutsi zure kontaktu zerrendaren (edo zati baten) egoera web orri batean
-Comment[fa]=وضعیت )اجزایی از( فهرست تماس شما را روی صفحۀ وب نمایش می‌دهد ‌
+Comment[fa]=وضعیت )اجزایی از( فهرست تماس شما را روی صفحۀ وب نمایش می‌دهد
 Comment[fi]=Näytä kontaktien tila www-sivulla
 Comment[fr]=Afficher l'état de connexion de votre liste (ou d'une partie) sur une page internet
 Comment[gl]=Amosar o estado da (parte da) súa lista de contactos nunha páxina web
@@ -71,7 +71,7 @@
 Name[el]=Παρουσία σε ιστοσελίδα
 Name[es]=Presencia Web
 Name[et]=Veebinimekiri
-Name[fa]=حضور وب‌
+Name[fa]=حضور وب
 Name[fi]=WWW-paikallaolo
 Name[fr]=Présence sur le web
 Name[gl]=Presencia na web
Index: kopete/plugins/connectionstatus/kopete_connectionstatus.desktop
===================================================================
--- kopete/plugins/connectionstatus/kopete_connectionstatus.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/connectionstatus/kopete_connectionstatus.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -27,7 +27,7 @@
 Name[es]=Estado de conexión
 Name[et]=Ühenduse staatus
 Name[eu]=Konexioaren egoera
-Name[fa]=وضعیت اتصال‌
+Name[fa]=وضعیت اتصال
 Name[fi]=Yhteyden tila
 Name[fr]=État de la connexion
 Name[ga]=Stádas Ceangail
@@ -80,7 +80,7 @@
 Comment[es]=Conecta/desconecta Kopete automáticamente segíºn la disponibilidad de la conexión a internet
 Comment[et]=Kopete automaatne ühendamine/ühenduse katkestamine vastavalt internetiühenduse olemasolule
 Comment[eu]=Kopete automatikoki konektatu/deskonektatzen du internet-eko konexioaren eskuragarritasunaren arabera
-Comment[fa]=بسته به قابلیت دسترسی اتصال اینترنت به طور خودکار Kopete وصل/قطع ارتباط می‌کند‌‌
+Comment[fa]=بسته به قابلیت دسترسی اتصال اینترنت،  Kopete به طور خودکار وصل/قطع ارتباط می‌کند
 Comment[fi]=Yhdistää/katkaisee yhteyden automaattisesti riippuen onko Internet-yhteys päällä
 Comment[fr]=Connecte / déconnecte automatiquement Kopete en fonction de la disponibilité de la connexion Internet
 Comment[gl]=Conecta/desconecta a Kopete automáticamente dependendo da disponibilidade de conexión a Internet
Index: kopete/plugins/contactnotes/kopete_contactnotes.desktop
===================================================================
--- kopete/plugins/contactnotes/kopete_contactnotes.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/contactnotes/kopete_contactnotes.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Name[es]=Notas de contacto
 Name[et]=Kontakti märkmed
 Name[eu]=Kontaktuaren oharrak
-Name[fa]=یادداشتهای تماس‌
+Name[fa]=یادداشتهای تماس
 Name[fi]=Yhteystiedot
 Name[fr]=Notes sur les contacts
 Name[gl]=Notas de contacto
@@ -77,7 +77,7 @@
 Comment[es]=Añade notas personales a tus contactos
 Comment[et]=Isiklike märkmete lisamine kontaktide kohta
 Comment[eu]=Gehitu ohar pertsonalak zure kontaktuei
-Comment[fa]=افزودن پیامهای شخصی به تماسهای شما‌
+Comment[fa]=افزودن پیامهای شخصی به تماسهای شما
 Comment[fi]=Lisää omia muistiinpanoja yhteystietoihin
 Comment[fr]=Ajoutez des notes personnelles à vos contacts
 Comment[gl]=Engadir notas persoáis ós teus contactos
Index: kopete/plugins/autoreplace/autoreplaceprefs.ui
===================================================================
--- kopete/plugins/autoreplace/autoreplaceprefs.ui	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/autoreplaceprefs.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
         </property>
         <widget class="QGroupBox" row="0" column="0">
             <property name="name">
-                <cstring>groupBox3</cstring>
+                <cstring>gb_sentences</cstring>
             </property>
             <property name="title">
                 <string>Sentence Options</string>
@@ -80,7 +80,7 @@
         </widget>
         <widget class="QGroupBox" row="1" column="0">
             <property name="name">
-                <cstring>groupBox4</cstring>
+                <cstring>replacementsGroup</cstring>
             </property>
             <property name="title">
                 <string>Replacements List</string>
@@ -168,7 +168,7 @@
                                 <cstring>textLabel1</cstring>
                             </property>
                             <property name="text">
-                                <string>&amp;Text:</string>
+                                <string>Te&amp;xt:</string>
                             </property>
                             <property name="buddy" stdset="0">
                                 <cstring>m_key</cstring>
Index: kopete/plugins/autoreplace/kopete_autoreplace.desktop
===================================================================
--- kopete/plugins/autoreplace/kopete_autoreplace.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/kopete_autoreplace.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Name[es]=Auto reemplazar
 Name[et]=Automaatne asendamine
 Name[eu]=Auto ordezkatu
-Name[fa]=جایگزینی خودکار‌
+Name[fa]=جایگزینی خودکار
 Name[fi]=Automaattinen korvaus
 Name[fr]=Remplacement automatique
 Name[gl]=Auto-reemplazo
@@ -81,7 +81,7 @@
 Comment[es]=Autoreemplaza texto que puede elegir
 Comment[et]=Asendab automaatselt sinu valitud teksti
 Comment[eu]=Hautatu dezakezun testua auto ordezten du
-Comment[fa]=بعضی از متنها که می‌توانید انتخاب کنید را به طور خودکار جایگزین می‌کند‌
+Comment[fa]=بعضی از متنها را که می‌توانید انتخاب کنید، به طور خودکار جایگزین می‌کند
 Comment[fi]=Korvaa valitsemasi tekstit automaattisesti
 Comment[fr]=Remplace automatiquement du texte que vous pouvez choisir
 Comment[gl]=Reemplaza automáticamente algún texto que tí podes escoller
Index: kopete/plugins/autoreplace/autoreplaceplugin.cpp
===================================================================
--- kopete/plugins/autoreplace/autoreplaceplugin.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/autoreplaceplugin.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -20,6 +20,7 @@
 #include <kopetecontact.h>
 
 #include "kopetechatsessionmanager.h"
+#include "kopetesimplemessagehandler.h"
 
 #include "autoreplaceplugin.h"
 #include "autoreplaceconfig.h"
@@ -39,13 +40,19 @@
 	connect( Kopete::ChatSessionManager::self(), SIGNAL( aboutToSend( Kopete::Message & ) ),
 		this, SLOT( slotAboutToSend( Kopete::Message & ) ) );
 
+	// nb this connection causes the slot to be called on in- and outbound
+	// messages which suggests something is broken in the message handler
+	// system!
+	m_inboundHandler = new Kopete::SimpleMessageHandlerFactory( Kopete::Message::Inbound,
+		Kopete::MessageHandlerFactory::InStageToSent, this, SLOT( slotAboutToSend( Kopete::Message& ) ) );
+
 	connect( this, SIGNAL( settingsChanged() ), this, SLOT( slotSettingsChanged() ) );
 }
 
 AutoReplacePlugin::~AutoReplacePlugin()
 {
 	pluginStatic_ = 0L;
-
+	delete m_inboundHandler;
 	delete m_prefs;
 }
 
@@ -87,30 +94,30 @@
 		// the message is now the one with replaced words
 		if(isReplaced)
 			msg.setBody( replaced_message, Kopete::Message::PlainText );
-	}
 
-	if( msg.direction() == Kopete::Message::Outbound )
-	{
-		if ( m_prefs->dotEndSentence() )
+		if( msg.direction() == Kopete::Message::Outbound )
 		{
-			QString replaced_message = msg.plainBody();
-			// eventually add . at the end of the lines, sent lines only
-			replaced_message.replace( QRegExp( "([a-z])$" ), "\\1." );
-			// replaced_message.replace(QRegExp( "([\\w])$" ), "\\1." );
-			
-			// the message is now the one with replaced words
-			msg.setBody( replaced_message, Kopete::Message::PlainText );
-		}
+			if ( m_prefs->dotEndSentence() )
+			{
+				QString replaced_message = msg.plainBody();
+				// eventually add . at the end of the lines, sent lines only
+				replaced_message.replace( QRegExp( "([a-z])$" ), "\\1." );
+				// replaced_message.replace(QRegExp( "([\\w])$" ), "\\1." );
 
-		if( m_prefs->capitalizeBeginningSentence() )
-		{
-			QString replaced_message = msg.plainBody();
-			// eventually start each sent line with capital letter
-			// TODO 	". "	 "? "	 "! " 
-			replaced_message[ 0 ] = replaced_message.at( 0 ).upper();
-			
-			// the message is now the one with replaced words
-			msg.setBody( replaced_message, Kopete::Message::PlainText );
+				// the message is now the one with replaced words
+				msg.setBody( replaced_message, Kopete::Message::PlainText );
+			}
+
+			if( m_prefs->capitalizeBeginningSentence() )
+			{
+				QString replaced_message = msg.plainBody();
+				// eventually start each sent line with capital letter
+				// TODO 	". "	 "? "	 "! "
+				replaced_message[ 0 ] = replaced_message.at( 0 ).upper();
+
+				// the message is now the one with replaced words
+				msg.setBody( replaced_message, Kopete::Message::PlainText );
+			}
 		}
 	}
 }
Index: kopete/plugins/autoreplace/autoreplacepreferences.cpp
===================================================================
--- kopete/plugins/autoreplace/autoreplacepreferences.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/autoreplacepreferences.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -15,6 +15,7 @@
  *                                                                         *
  ***************************************************************************/
 
+#include <qcheckbox.h>
 #include <qlayout.h>
 #include <qpushbutton.h>
 #include <qgroupbox.h>
@@ -60,8 +61,12 @@
 
 	m_wordListChanged = false;
 
-	setMainWidget( preferencesDialog->gb_options, "AutoReplace Plugin" );
-
+	// Sentence options and which messages to apply autoreplace to
+	// are managed by KCMAutoConfigModule.  The list of replacements
+	// itself is manually read/written as KCMAutoConfigModule doesn't support it.
+	autoConfig()->ignoreSubWidget( preferencesDialog->replacementsGroup );
+	setMainWidget( preferencesDialog, "AutoReplace Plugin" );
+	
 	m_config = new AutoReplaceConfig;
 	load();
 }
Index: kopete/plugins/autoreplace/kopete_autoreplace_config.desktop
===================================================================
--- kopete/plugins/autoreplace/kopete_autoreplace_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/kopete_autoreplace_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Auto reemplazar
 Name[et]=Automaatne asendamine
 Name[eu]=Auto ordezkatu
-Name[fa]=جایگزینی خودکار‌
+Name[fa]=جایگزینی خودکار
 Name[fi]=Automaattinen korvaus
 Name[fr]=Remplacement automatique
 Name[gl]=Auto-reemplazo
@@ -77,7 +77,7 @@
 Comment[es]=Autoreemplaza texto que puede elegir
 Comment[et]=Asendab automaatselt sinu valitud teksti
 Comment[eu]=Hautatu dezakezun testua auto ordezten du
-Comment[fa]=بعضی از متنها که می‌توانید انتخاب کنید را به طور خودکار جایگزین می‌کند‌
+Comment[fa]=بعضی از متنها را که می‌توانید انتخاب کنید، به طور خودکار جایگزین می‌کند
 Comment[fi]=Korvaa valitsemasi tekstit automaattisesti
 Comment[fr]=Remplace automatiquement du texte que vous pouvez choisir
 Comment[gl]=Reemplaza algún texto que podes escoller
Index: kopete/plugins/autoreplace/autoreplaceplugin.h
===================================================================
--- kopete/plugins/autoreplace/autoreplaceplugin.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/autoreplace/autoreplaceplugin.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,9 +26,13 @@
 #include "kopetemessage.h"
 #include "kopeteplugin.h"
 
-namespace Kopete { class Message; }
-namespace Kopete { class MetaContact; }
-namespace Kopete { class ChatSession; }
+namespace Kopete {
+	class Message;
+	class MetaContact;
+	class ChatSession;
+	class SimpleMessageHandlerFactory;
+}
+
 class AutoReplaceConfig;
 
 class AutoReplacePlugin : public Kopete::Plugin
@@ -48,6 +52,7 @@
 
 private:
 	static AutoReplacePlugin * pluginStatic_;
+	Kopete::SimpleMessageHandlerFactory *m_inboundHandler;
 
 	AutoReplaceConfig *m_prefs;
 };
Index: kopete/plugins/highlight/kopete_highlight.desktop
===================================================================
--- kopete/plugins/highlight/kopete_highlight.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/highlight/kopete_highlight.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -30,7 +30,7 @@
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
-Name[fa]=مشخص‌
+Name[fa]=مشخص
 Name[fi]=Korostus
 Name[fr]=Surlignement
 Name[ga]=Aibhsiú
@@ -83,7 +83,7 @@
 Comment[es]=Resaltar mensajes
 Comment[et]=Sõnumite esiletõstmine
 Comment[eu]=Nabarmendu mezuak
-Comment[fa]=پیامهای مشخص‌
+Comment[fa]=پیامهای مشخص
 Comment[fi]=Korosta viestit
 Comment[fr]=Surligner les messages
 Comment[ga]=Aibhsigh teachtaireachtaí
Index: kopete/plugins/highlight/kopete_highlight_config.desktop
===================================================================
--- kopete/plugins/highlight/kopete_highlight_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/highlight/kopete_highlight_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
-Name[fa]=مشخص‌
+Name[fa]=مشخص
 Name[fi]=Korostus
 Name[fr]=Surlignement
 Name[ga]=Aibhsiú
@@ -78,7 +78,7 @@
 Comment[es]=Realza el texto basándose en filtros
 Comment[et]=Teksti esiletõstmine filtrite põhjal
 Comment[eu]=Iragazkietan oinarritutako testua nabarmentzen du
-Comment[fa]=متن را بر اساس پالایه‌ها مشخص می‌کند‌
+Comment[fa]=متن را بر اساس پالایه‌ها مشخص می‌کند
 Comment[fi]=Korostaa tekstin suotimien perusteella
 Comment[fr]=Surligne les messages qui répondent à certains critères
 Comment[ga]=Aibhsíonn seo téacs de réir scagairí
Index: kopete/plugins/latex/kopete_latex_config.desktop
===================================================================
--- kopete/plugins/latex/kopete_latex_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/latex/kopete_latex_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
-Name[fa]=مشخص‌
+Name[fa]=مشخص
 Name[fi]=Korostus
 Name[fr]=Surlignement
 Name[ga]=Aibhsiú
Index: kopete/plugins/latex/kopete_latex.desktop
===================================================================
--- kopete/plugins/latex/kopete_latex.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/plugins/latex/kopete_latex.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -30,7 +30,7 @@
 Comment[es]=Muestra fórmulas Latex en la ventana de charla
 Comment[et]=LaTeXi valemite renderdamine vestlusaknas
 Comment[eu]=Elkarrizketa leihoaetan Latex formulak marrazten ditu
-Comment[fa]=نمایش فرمولهای Latex در پنجرۀ گفتگو‌
+Comment[fa]=نمایش فرمولهای Latex در پنجرۀ گفتگو
 Comment[fi]=Renderöi Latex-kaavoja keskusteluikkunaan
 Comment[fr]=Affichage de formules Latex dans la fenêtre de discussion
 Comment[gl]=Debuxar as fórmulas de Laxtex na fiestra de conversa
Index: kopete/protocols/yahoo/libkyahoo/client.cpp
===================================================================
--- kopete/protocols/yahoo/libkyahoo/client.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/yahoo/libkyahoo/client.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -258,6 +258,9 @@
 		setStatus( d->statusOnConnect );
 		m_pingTimer->start( 60 * 1000 );
 		initTasks();
+	} else {
+		d->active = false;
+		close();
 	}
 
 	kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "Emitting loggedIn" << endl;
@@ -752,7 +755,7 @@
 	QObject::connect( d->statusTask, SIGNAL( stealthStatusChanged( const QString&, Yahoo::StealthStatus ) ), 
 				SIGNAL( stealthStatusChanged( const QString&, Yahoo::StealthStatus ) ) );
 	QObject::connect( d->statusTask, SIGNAL( loginResponse( int, const QString& ) ), 
-				SIGNAL( loggedIn( int, const QString& ) ) );
+				SLOT( slotLoginResponse( int, const QString& ) ) );
 	QObject::connect( d->statusTask, SIGNAL( authorizationRejected( const QString&, const QString& ) ), 
 				SIGNAL( authorizationRejected( const QString&, const QString& ) ) );
 	QObject::connect( d->statusTask, SIGNAL( authorizationAccepted( const QString& ) ), 
Index: kopete/protocols/yahoo/libkyahoo/webcamtask.cpp
===================================================================
--- kopete/protocols/yahoo/libkyahoo/webcamtask.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/yahoo/libkyahoo/webcamtask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -213,13 +213,11 @@
 	{
 		case ConnectedStage1:
 			disconnect( socket, SIGNAL( readyRead() ), this, SLOT( slotRead() ) );
-			kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "Connected into stage 1" << endl;
 			connectStage2( socket );
 		break;
 		case ConnectedStage2:
 		case Sending:
 		case SendingEmpty:
-			kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "Connected into stage 2" << endl;
 			processData( socket );
 		default:
 		break;
@@ -278,7 +276,6 @@
 
 void WebcamTask::processData( KStreamSocket *socket )
 {
-	kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << endl;
 	QByteArray data( socket->bytesAvailable() );
 	
 	socket->readBlock ( data.data (), data.size () );
@@ -293,7 +290,6 @@
 
 void WebcamTask::parseData( QByteArray &data, KStreamSocket *socket )
 {
-	kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << " data " << data.size() << " bytes " << endl;
 	uint headerLength = 0;
 	uint read = 0;
 	YahooWebcamInformation *info = &socketMap[socket];
@@ -398,9 +394,17 @@
 	}
 	
 	if( info->dataLength <= 0 )
+	{
+		kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "No data to read. (info->dataLength <= 0)" << endl;
+		if( info->headerRead )
+			info->headerRead = false;
 		return;
+	}
 	if( headerLength >= data.size() )
+	{
+		kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "No data to read. (headerLength >= data.size())" << endl;
 		return;		//Nothing to read here...
+	}
 	if( !info->buffer )
 	{
 		kdDebug(YAHOO_RAW_DEBUG) << k_funcinfo << "Buffer created" << endl;
Index: kopete/protocols/yahoo/libkyahoo/messagereceivertask.cpp
===================================================================
--- kopete/protocols/yahoo/libkyahoo/messagereceivertask.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/yahoo/libkyahoo/messagereceivertask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -79,11 +79,11 @@
 	for( int i = 0; i < cnt; ++i )
 	{
 		QString to = t->nthParam( 5, i );
-		QString timestamp = t->nthParamSeparated( 15, i, 5 );
-		QString utf8 = t->nthParamSeparated( 97, i, 5 );
-		QString from = t->nthParamSeparated( 1, i, 5 ).isEmpty() ? t->nthParamSeparated( 4, i, 5 ) : t->nthParamSeparated( 1, i, 5 );
-		QString msg = t->nthParamSeparated( 14, i, 5 );
-		QString sysmsg = t->nthParamSeparated( 16, i, 5 );
+		QString timestamp = t->nthParamSeparated( 15, i, 4 );
+		QString utf8 = t->nthParamSeparated( 97, i, 4 );
+		QString from = t->nthParamSeparated( 1, i, 4 ).isEmpty() ? t->nthParam( 4, i ) : t->nthParamSeparated( 1, i, 4 );
+		QString msg = t->nthParamSeparated( 14, i, 4 );
+		QString sysmsg = t->nthParamSeparated( 16, i, 4 );
 
 		// The arrangement of the key->value pairs is different when there is only one message in the packet.
 		// Separating by key "5" (sender) doesn't work in that case, because the "1" and "4" keys are sent before the "5" key
Index: kopete/protocols/yahoo/kopete_yahoo.desktop
===================================================================
--- kopete/protocols/yahoo/kopete_yahoo.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/yahoo/kopete_yahoo.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 X-KDE-PluginInfo-EnabledByDefault=false
 Name=Yahoo
 Name[bn]=ইয়্যাহু
-Name[fa]=یاهو‌
+Name[fa]=یاهو
 Name[hi]=याहू
 Name[km]=យ៉ាហ៊ូ
 Name[ta]=யாஹூ
@@ -36,7 +36,7 @@
 Comment[es]=Protocolo para conectar a Yahoo
 Comment[et]=Protokoll ühendumiseks Yahooga
 Comment[eu]=Yahoo-ra konektatzeko protokoloa
-Comment[fa]=قرارداد برای اتصال به یاهو‌
+Comment[fa]=قرارداد برای اتصال به یاهو
 Comment[fi]=Yhteyskäytäntö Yahoo-verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur Yahoo
 Comment[ga]=Prótacal chun ceangal le Yahoo
Index: kopete/protocols/gadu/gaduaccount.cpp
===================================================================
--- kopete/protocols/gadu/gaduaccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/gadu/gaduaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -99,10 +99,9 @@
 
 // FIXME: use dynamic cache please, i consider this as broken resolution of this problem
 static const char* const servers_ip[] = {
-	"217.17.41.82",
+	"217.17.41.85",
 	"217.17.41.83",
 	"217.17.41.84",
-	"217.17.41.85",
 	"217.17.41.86",
 	"217.17.41.87",
 	"217.17.41.88",
Index: kopete/protocols/winpopup/kopete_wp.desktop
===================================================================
--- kopete/protocols/winpopup/kopete_wp.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/winpopup/kopete_wp.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -40,7 +40,7 @@
 Comment[es]=Protocolo para enviar un mensaje emergente de windows
 Comment[et]=Protokoll Windowsi WinPopup sõnumite saatmiseks
 Comment[eu]=Windows WinPopup mezuak bidaltzeko protokoloa
-Comment[fa]=قرارداد ارسال پیامهای WinPopup ویندوز‌
+Comment[fa]=قرارداد ارسال پیامهای WinPopup ویندوز
 Comment[fi]=Yhteyskäytäntö Windows WinPopup-viestien lähettämiseen
 Comment[fr]=Protocole pour envoyer des messages WinPopup
 Comment[ga]=Prótacal chun teachtaireachtaí Windows WinPopup a sheoladh
Index: kopete/protocols/sms/kopete_sms.desktop
===================================================================
--- kopete/protocols/sms/kopete_sms.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/sms/kopete_sms.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 X-KDE-PluginInfo-EnabledByDefault=false
 Name=SMS
 Name[bn]=এস-এম-এস
-Name[fa]=خدمت پیام کوتاه‌
+Name[fa]=خدمت پیام کوتاه
 Name[hi]=एसएमएस
 Name[km]=សេវា​សារ​ខ្លីៗ
 Name[zh_CN]=短信息
@@ -37,7 +37,7 @@
 Comment[es]=Protocolo de envio de SMS
 Comment[et]=Protokoll SMS-ide saatmiseks
 Comment[eu]=SMS mezuak bidaltzeko protokoloa
-Comment[fa]=قرارداد برای ارسال پیامهای کوتاه‌
+Comment[fa]=قرارداد برای ارسال پیامهای کوتاه
 Comment[fi]=Yhteyskäytäntö SMS-viestien lähettämiseen
 Comment[fr]=Protocole pour envoyer des SMS
 Comment[ga]=Prótacal chun teachtaireachtaí SMS a sheoladh
Index: kopete/protocols/groupwise/gwaccount.h
===================================================================
--- kopete/protocols/groupwise/gwaccount.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/gwaccount.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -85,7 +85,7 @@
 	/**
 	 * Utility access to the port given by the user
 	 */
-	const int port() const;
+	int port() const;
 	/**
 	 * Utility access to the server given by the user
 	 */
Index: kopete/protocols/groupwise/gwprotocol.cpp
===================================================================
--- kopete/protocols/groupwise/gwprotocol.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/gwprotocol.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -47,7 +47,7 @@
 	  groupwiseOffline ( Kopete::OnlineStatus::Offline,    0,  this, GroupWise::Offline, QString::null, 
 			i18n( "Offline" ), i18n( "O&ffline" ), Kopete::OnlineStatusManager::Offline ),
 	  groupwiseAvailable  ( Kopete::OnlineStatus::Online,  25, this, GroupWise::Available, QString::null, 
-			i18n( "Available" ), i18n( "A&vailable" ), Kopete::OnlineStatusManager::Online ),
+			i18n( "Online" ), i18n( "&Online" ), Kopete::OnlineStatusManager::Online ),
 	  groupwiseBusy       ( Kopete::OnlineStatus::Away,    18, this, GroupWise::Busy, "contact_busy_overlay", 
 			i18n( "Busy" ), i18n( "&Busy" ), Kopete::OnlineStatusManager::Busy, Kopete::OnlineStatusManager::HasAwayMessage ),
 	  groupwiseAway       ( Kopete::OnlineStatus::Away,    20, this, GroupWise::Away, "contact_away_overlay", 
Index: kopete/protocols/groupwise/kopete_groupwise.desktop
===================================================================
--- kopete/protocols/groupwise/kopete_groupwise.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/kopete_groupwise.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 X-KDE-PluginInfo-EnabledByDefault=false
 Name=GroupWise
 Name[bn]=গ্রুপ-ওয়াইজ
-Name[fa]=گروه هوشیار‌
+Name[fa]=گروه هوشیار
 Name[it]=Per gruppi
 Name[ta]=குழு படி
 Name[tr]=Akıllı Gruplama
@@ -26,7 +26,7 @@
 Comment[cs]=Novell GroupWise komunikátor
 Comment[de]=Novell GroupWise-Nachrichtendienst
 Comment[es]=Mensajería GroupWise de Novell
-Comment[fa]=گروه هوشیار پیام گیر Novell‌
+Comment[fa]=پیام‌رسان GroupWise ناول
 Comment[fi]=Novell GroupWise -viestijä
 Comment[fr]=Messagerie GroupWise Novell
 Comment[he]=תוכנת המסרים של נובל GroupWise
Index: kopete/protocols/groupwise/gwaccount.cpp
===================================================================
--- kopete/protocols/groupwise/gwaccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/gwaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -117,7 +117,7 @@
 	return m_actionMenu;
 }
 
-const int GroupWiseAccount::port() const
+int GroupWiseAccount::port() const
 {
 	return configGroup()->readNumEntry( "Port" );
 }
Index: kopete/protocols/groupwise/libgroupwise/tasks/pollsearchresultstask.cpp
===================================================================
--- kopete/protocols/groupwise/libgroupwise/tasks/pollsearchresultstask.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/libgroupwise/tasks/pollsearchresultstask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -140,10 +140,39 @@
 		const Field::FieldListIterator end = fl.end();
 		for ( Field::FieldListIterator it = fl.begin(); it != end; ++it )
 		{
-			Field::SingleField * propField = static_cast<Field::SingleField *>( *it );
-			QString propName = propField->tag();
-			QString propValue = propField->value().toString();
-			propMap.insert( propName, propValue );
+			// assumes each property only present once
+			// check in logintask.cpp and if it's a multi field,
+			// get the value of this instance, check if it's already in the property map and append if found.
+			Field::SingleField * propField = dynamic_cast<Field::SingleField *>( *it );
+			if ( propField )
+			{
+				QString propName = propField->tag();
+				QString propValue = propField->value().toString();
+				propMap.insert( propName, propValue );
+			}
+			else
+			{
+				Field::MultiField * propList = dynamic_cast<Field::MultiField*>( *it );
+				if ( propList )
+				{
+					QString parentName = propList->tag();
+					Field::FieldList propFields = propList->fields();
+					const Field::FieldListIterator end = propFields.end();
+					for ( Field::FieldListIterator it = propFields.begin(); it != end; ++it )
+					{
+						propField = dynamic_cast<Field::SingleField *>( *it );
+						if ( propField )
+						{
+							QString propValue = propField->value().toString();
+							QString contents = propMap[ propField->tag() ];
+							if ( !contents.isEmpty() )
+								contents.append( ", " );
+							contents.append( propField->value().toString());
+							propMap.insert( propField->tag(), contents );
+						}
+					}
+				}
+			}
 		}
 	}
 	if ( !propMap.empty() )
Index: kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.cpp
===================================================================
--- kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -3,7 +3,8 @@
     keepalivetask.cpp - Send keepalive pings to the server
 
     Copyright (c) 2004      SUSE Linux AG	 	 http://www.suse.com
-    
+              (c) 2006      Novell, Inc.
+
     Based on Iris, Copyright (C) 2003  Justin Karneges
 
     Kopete (c) 2002-2004 by the Kopete developers <kopete-devel@kde.org>
@@ -30,14 +31,13 @@
 KeepAliveTask::KeepAliveTask(Task* parent): RequestTask(parent)
 {
 	m_keepAliveTimer = new QTimer( this );
-	connect( m_keepAliveTimer, SIGNAL( timeout() ), SLOT( slotSendKeepAlive ) );
+	connect( m_keepAliveTimer, SIGNAL( timeout() ), SLOT( slotSendKeepAlive() ) );
 	m_keepAliveTimer->start( GW_KEEPALIVE_INTERVAL );
 }
 
 
 KeepAliveTask::~KeepAliveTask()
 {
-	m_keepAliveTimer->stop();
 	delete m_keepAliveTimer;
 }
 
Index: kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.h
===================================================================
--- kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/libgroupwise/tasks/keepalivetask.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -21,7 +21,7 @@
 #ifndef KEEPALIVETASK_H
 #define KEEPALIVETASK_H
 
-#include <requesttask.h>
+#include "requesttask.h"
 
 class QTimer;
 
Index: kopete/protocols/groupwise/libgroupwise/client.cpp
===================================================================
--- kopete/protocols/groupwise/libgroupwise/client.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/groupwise/libgroupwise/client.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -3,7 +3,8 @@
     client.cpp - The main interface for the Groupwise protocol
 
     Copyright (c) 2004      SUSE Linux AG	 	 http://www.suse.com
-    
+              (c) 2008      Novell, Inc.
+
     Based on Iris, Copyright (C) 2003  Justin Karneges
 
     Kopete (c) 2002-2004 by the Kopete developers <kopete-devel@kde.org>
@@ -31,6 +32,7 @@
 #include "tasks/getdetailstask.h"
 #include "tasks/getstatustask.h"
 #include "tasks/joinconferencetask.h"
+#include "tasks/keepalivetask.h"
 #include "tasks/leaveconferencetask.h"
 #include "tasks/logintask.h"
 #include "tasks/rejectinvitetask.h"
@@ -317,6 +319,9 @@
 		SetStatusTask * sst = new SetStatusTask( d->root );
 		sst->status( GroupWise::Available, QString::null, QString::null );
 		sst->go( true );
+		// Sends keepalives every minute so the server knows we are still alive
+		KeepAliveTask * kat = new KeepAliveTask( d->root );
+		kat->go( true );
 		emit loggedIn();
 		// fetch details for any privacy list items that aren't in our contact list.
 		// There is a chicken-and-egg case regarding this: We need the privacy before reading the contact list so
Index: kopete/protocols/jabber/kopete_jabber.desktop
===================================================================
--- kopete/protocols/jabber/kopete_jabber.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/jabber/kopete_jabber.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -33,7 +33,7 @@
 Comment[es]=Protocolo de conexión con Jabber
 Comment[et]=Protokoll ühendumiseks Jabberiga
 Comment[eu]=Jabber-era konektatzeko protokoloa
-Comment[fa]=قرارداد برای اتصال به Jabber‌
+Comment[fa]=قرارداد برای اتصال به Jabber
 Comment[fi]=Yhteyskäytäntö Jabber-verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur Jabber
 Comment[ga]=Prótacal chun ceangal le Jabber
@@ -52,7 +52,7 @@
 Comment[nds]=Protokoll för't Tokoppeln na Jabber
 Comment[nl]=Protocol voor Jabber
 Comment[nn]=Protokoll for å kopla til Jabber
-Comment[pl]=Protokół połączenia z serwerem Jabber
+Comment[pl]=Protokół połączenia z serwerem Jabbera
 Comment[pt]=Um protocolo para se ligar ao Jabber
 Comment[pt_BR]=Protocolo para conexão ao Jabber
 Comment[ro]=Protocol de conectare la Jabber
Index: kopete/protocols/jabber/kioslave/jabberdisco.protocol
===================================================================
--- kopete/protocols/jabber/kioslave/jabberdisco.protocol	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/jabber/kioslave/jabberdisco.protocol	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -20,7 +20,7 @@
 Description[es]=A esclavo KIO para el servicio de descubrimiento jabber
 Description[et]=Jabberi teenuste tuvastamise KIO-moodul
 Description[eu]=Jabber aurkikuntza zerbitzureako KIO morroi bat
-Description[fa]=یک پیرو KIO برای خدمت اکتشافی Jabber‌
+Description[fa]=یک پیرو KIO برای خدمت اکتشافی Jabber
 Description[fr]=Un module d'entrée / sortie pour la recherche de service Jabber
 Description[gl]=Un KIO slave para Jabber Service Discovery
 Description[hu]=KDE-protokoll a Jabber szolgáltatáskereső használatához
Index: kopete/protocols/jabber/jabbercontact.cpp
===================================================================
--- kopete/protocols/jabber/jabbercontact.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/jabber/jabbercontact.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -952,7 +952,7 @@
 	
 	kdDebug ( JABBER_DEBUG_GLOBAL ) << k_funcinfo << contactId () /*<< " - " <<kdBacktrace()*/ << endl;
 
-	if(!m_syncTimer);
+	if(!m_syncTimer)
 	{
 		m_syncTimer=new QTimer(this);
 		connect(m_syncTimer, SIGNAL(timeout()) , this , SLOT(slotDelayedSync()));
Index: kopete/protocols/oscar/liboscar/oscarmessage.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/oscarmessage.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/liboscar/oscarmessage.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -113,6 +113,10 @@
 			char cell = *p++;
 			result[i] = QChar( cell, row );
 		}
+		//check if last character isn't null
+		if ( result[len-1].isNull() )
+			result.setLength( len - 1 );
+
 		return result;
 	}
 	default:
Index: kopete/protocols/oscar/liboscar/client.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/client.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/liboscar/client.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -397,9 +397,12 @@
 	d->active = true;
 
 	if ( isIcq() )
-	{
 		setStatus( d->connectAsStatus, d->connectWithMessage );
 
+	d->ownStatusTask->go();
+
+	if ( isIcq() )
+	{
 		//retrieve offline messages
 		Connection* c = d->connections.connectionForFamily( 0x0015 );
 		if ( !c )
Index: kopete/protocols/oscar/oscaraccount.cpp
===================================================================
--- kopete/protocols/oscar/oscaraccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/oscaraccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -560,7 +560,7 @@
 	/* We're not even online or connecting
 	 * (when getting server contacts), so don't bother
 	 */
-	if ( !myself()->isOnline() )
+	if ( !engine()->isActive() )
 	{
 		kdDebug(OSCAR_GEN_DEBUG) << k_funcinfo << "Can't add contact, we are offline!" << endl;
 		return false;
Index: kopete/protocols/oscar/aim/kopete_aim.desktop
===================================================================
--- kopete/protocols/oscar/aim/kopete_aim.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/aim/kopete_aim.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -33,7 +33,7 @@
 Comment[es]=Protocolo para conectar a AIM
 Comment[et]=Protokoll ühendumiseks AIM-iga
 Comment[eu]=AIM-era konektatzeko protokoloa
-Comment[fa]=قرارداد برای اتصال به AIM‌
+Comment[fa]=قرارداد برای اتصال به AIM
 Comment[fi]=Yhteyskäytäntö AIM-verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur AIM
 Comment[ga]=Prótacal chun ceangal le AIM
Index: kopete/protocols/oscar/aim/aimcontact.cpp
===================================================================
--- kopete/protocols/oscar/aim/aimcontact.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/aim/aimcontact.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -438,6 +438,8 @@
 	//30- (and any I missed) are size 7
 	s.replace ( QRegExp ( QString::fromLatin1("<font ptsize=\"[^\"]*\">")),QString::fromLatin1("<font size=\"7\">"));
 
+	s.replace ( QRegExp ( QString::fromLatin1("<br[ /]*>")), QString::fromLatin1("<br>") );
+
 	kdDebug(14190) << k_funcinfo << "sending "
 		<< s << endl;
 
Index: kopete/protocols/oscar/aim/aimaccount.cpp
===================================================================
--- kopete/protocols/oscar/aim/aimaccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/aim/aimaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -173,6 +173,8 @@
     //30- (and any I missed) are size 7
     s.replace ( QRegExp ( QString::fromLatin1("<font ptsize=\"[^\"]*\">")),QString::fromLatin1("<font size=\"7\">"));
 
+    s.replace ( QRegExp ( QString::fromLatin1("<br[ /]*>")), QString::fromLatin1("<br>") );
+
     kdDebug(14190) << k_funcinfo << "sending "
         << s << endl;
 
Index: kopete/protocols/oscar/aim/aimuserinfo.h
===================================================================
--- kopete/protocols/oscar/aim/aimuserinfo.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/aim/aimuserinfo.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,6 @@
 class OscarAccount;
 class AIMMyselfContact;
 class AIMAccount;
-class KHTMLPart;
 
 class AIMUserInfoDialog : public KDialogBase
 {
Index: kopete/protocols/oscar/icq/x-icq.desktop
===================================================================
--- kopete/protocols/oscar/icq/x-icq.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/icq/x-icq.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -16,7 +16,7 @@
 Comment[es]=Contacto de ICQ
 Comment[et]=ICQ kontakt
 Comment[eu]=ICQ kontaktua
-Comment[fa]=تماس ICQ‌
+Comment[fa]=تماس ICQ
 Comment[fi]=ICQ-kontakti
 Comment[fr]=Contact ICQ
 Comment[gl]=Contacto ICQ
Index: kopete/protocols/oscar/icq/kopete_icq.desktop
===================================================================
--- kopete/protocols/oscar/icq/kopete_icq.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/oscar/icq/kopete_icq.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -33,7 +33,7 @@
 Comment[es]=Protocolo de conexión de ICQ
 Comment[et]=Protokoll ühendumiseks ICQ-ga
 Comment[eu]=ICQ-ra konektatzeko protokoloa
-Comment[fa]=قراردادبرای اتصال به ICQ‌
+Comment[fa]=قرارداد برای اتصال به ICQ
 Comment[fi]=Yhteyskäytäntö ICQ-verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur ICQ
 Comment[ga]=Prótacal chun ceangal le ICQ
Index: kopete/protocols/meanwhile/kopete_meanwhile.desktop
===================================================================
--- kopete/protocols/meanwhile/kopete_meanwhile.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/meanwhile/kopete_meanwhile.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,6 +23,7 @@
 Name[ta]=இடைப்பட்ட பொழுதில்
 Comment=Meanwhile (Lotus Sametime) Protocol
 Comment[ca]=Protocol Meanwhile (Lotus Sametime)
+Comment[cs]=Meanwhile (Lotus Sametime) protokol
 Comment[da]=Meanwhile-protokol (Lotus Sametime)
 Comment[de]=Meanwhile-Protokoll (Lotus Sametime)
 Comment[el]=Πρρωτόκολλο Meanwhile (Lotus Sametime)
@@ -31,19 +32,23 @@
 Comment[fa]=قرارداد Meanwhile‌ (گاهی لوتوس)
 Comment[fr]=Protocole Meanwhile (Lotus Sametime)
 Comment[he]=פרוטוקול Meanwhile
+Comment[hu]=Protokoll a Meanwhile (Lotus Sametime) használatához
 Comment[is]="Meanwhile" (Lotus Sametimr) samskipturegla
 Comment[it]=Protocollo Meanwhile (Lotus Sametime)
 Comment[ja]=Meanwhile (Lotus Sametime) プロトコル
 Comment[km]=ពីធីការ Meanwhile (Lotus Sametime)
+Comment[nb]=Programtillegg for Meanwhile-protokoll (Lotus Sametime)
 Comment[nds]=Meanwhile-Protokoll (Lotus Sametime)
 Comment[nl]=Procotol voor Meanwhile (Lotus Sametime)
 Comment[pl]=Protokół Meanwhile (Lotus Sametime)
 Comment[pt]=Protocolo Meanwhile (Lotus Sametime)
 Comment[pt_BR]=Protocolo Meanwhile (Lotus Sametime)
+Comment[ru]=Протокол Meanwhile (Lotus Sametime)
 Comment[sk]=Meanwhile (Lotus Sametime) Protokol
 Comment[sl]=Protokol Meanwhile (Lotus Sametime)
 Comment[sr]=Протокол Meanwhile (Lotus Sametime)
 Comment[sr@Latn]=Protokol Meanwhile (Lotus Sametime)
 Comment[sv]=Meanwhile-protokoll (Lotus Sametime)
 Comment[uk]=Протокол Meanwhile (Lotus Sametime)
+Comment[zh_CN]=Meanwhile (Lotus Sametime) 协议
 Comment[zh_TW]=Meanwhile （Lotus Sametime）協定外掛程式
Index: kopete/protocols/testbed/kopete_testbed.desktop
===================================================================
--- kopete/protocols/testbed/kopete_testbed.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/testbed/kopete_testbed.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -53,7 +53,7 @@
 Comment[es]=Prueba de protocolo de Kopete
 Comment[et]=Kopete testprotokoll
 Comment[eu]=Kopete proba protokoloa
-Comment[fa]=Kopete قرارداد را آزمایش می‌کند‌
+Comment[fa]=Kopete قرارداد را آزمایش می‌کند
 Comment[fi]=Kopeten testiyhteyskäytäntö
 Comment[fr]=Protocole de test de Kopete
 Comment[ga]=Prótacal tástála Kopete

Zmiany atrybutów dla: kopete/protocols/testbed/ui
___________________________________________________________________
Nazwa: svn:ignore
   + .deps
libkopetetestbedui.la
.libs
Makefile
Makefile.in
*.moc


Index: kopete/protocols/irc/ircnetworks.xml
===================================================================
--- kopete/protocols/irc/ircnetworks.xml	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/irc/ircnetworks.xml	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -771,12 +771,12 @@
         <description>The Open and Free Technology Community</description>
         <servers>
             <server>
-                <host>irc.oftc.org</host>
+                <host>irc.oftc.net</host>
                 <port>6667</port>
                 <useSSL>false</useSSL>
             </server>
             <server>
-                <host>ircs.oftc.org</host>
+                <host>ircs.oftc.net</host>
                 <port>9999</port>
                 <useSSL>true</useSSL>
             </server>
Index: kopete/protocols/irc/ircaccount.cpp
===================================================================
--- kopete/protocols/irc/ircaccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/irc/ircaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -876,11 +876,15 @@
 {
 	IRCContact *contact = 0;
 
-	#pragma warning Do the search code here.
+#ifdef __GNUC__
+	#warning Do the search code here.
+#endif
 
 	if (!contact)
 	{
-		#pragma warning Make a temporary meta contact if metac is null
+#ifdef __GNUC__
+		#warning Make a temporary meta contact if metac is null
+#endif
 		contact = new IRCContact(this, entity, metac);
 		m_contacts.append(contact);
 	}
Index: kopete/protocols/irc/kopete_irc.desktop
===================================================================
--- kopete/protocols/irc/kopete_irc.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/irc/kopete_irc.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -33,7 +33,7 @@
 Comment[es]=Protocolo de conexión al IRC
 Comment[et]=Protokoll ühendumiseks IRC-ga
 Comment[eu]=IRC-ra konektatzeko protokoloa
-Comment[fa]=قرار داد برای اتصال  به IRC‌
+Comment[fa]=قرار داد برای اتصال  به IRC
 Comment[fi]=Yhteyskäytänötö IRC-verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur IRC
 Comment[ga]=Prótacal chun ceangal le IRC
Index: kopete/protocols/msn/msnsocket.cpp
===================================================================
--- kopete/protocols/msn/msnsocket.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/msnsocket.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -196,8 +196,7 @@
 	//like if the socket is closed
 	emit socketClosed();
 
-	//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, errormsg, i18n( "MSN Plugin" ) );
-	emit errorMessage( ErrorNormal, errormsg );
+	emit errorMessage( ErrorConnectionError, errormsg );
 }
 
 void MSNSocket::slotDataReceived()
@@ -531,7 +530,7 @@
 {
 	kdDebug(14140) << k_funcinfo << endl;
 	QString msg;
-
+	ErrorType type = ErrorServerError;
 	switch ( code )
 	{
 /*
@@ -567,15 +566,19 @@
 */
 	case 500:
 		msg = i18n ( "An internal server error occurred. Please try again later." );
+		type = MSNSocket::ErrorCannotConnect;
 		break;
 	case 502:
 		msg = i18n ( "It is no longer possible to perform this operation. The MSN server does not allow it anymore." );
+		type = MSNSocket::ErrorServerError;
 		break;
 	case 600:
 	case 910:
 	case 912:
+	case 921:
 	case 922:
 		msg = i18n ( "The MSN server is busy. Please try again later." );
+		type = MSNSocket::ErrorConnectionError;
 		break;
 	case 601:
 	case 604:
@@ -585,7 +588,9 @@
 	case 916:
 	case 917:
 		msg = i18n ( "The server is not available at the moment. Please try again later." );
+		type = MSNSocket::ErrorCannotConnect;
 		break;
+	// Server error
 	default:
 		// FIXME: if the error causes a disconnect, it will crash, but we can't disconnect every time
 		msg = i18n( "Unhandled MSN error code %1 \n"
@@ -595,8 +600,7 @@
 	}
 
 	if ( !msg.isEmpty() )
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( ErrorNormal, msg );
+		emit errorMessage( type, msg );
 
 	return;
 }
Index: kopete/protocols/msn/msnaccount.cpp
===================================================================
--- kopete/protocols/msn/msnaccount.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/msnaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -47,6 +47,7 @@
 #include "kopeteglobal.h"
 #include "kopetechatsessionmanager.h"
 #include "contactaddednotifydialog.h"
+#include "kopeteutils.h"
 
 #include "sha1.h"
 
@@ -59,6 +60,7 @@
 #if MSN_WEBCAM
 #include "avdevice/videodevicepool.h"
 #endif
+
 MSNAccount::MSNAccount( MSNProtocol *parent, const QString& AccountID, const char *name )
 	: Kopete::PasswordedAccount ( parent, AccountID.lower(), 0, name )
 {
@@ -1280,43 +1282,38 @@
 
 void MSNAccount::slotErrorMessageReceived( int type, const QString &msg )
 {
-	KMessageBox::DialogType msgBoxType;
 	QString caption = i18n( "MSN Plugin" );
 
+	// Use different notification type based on the error context.
 	switch(type)
 	{
-		case MSNSocket::ErrorNormal:
+		case MSNSocket::ErrorConnectionLost:
 		{
-			msgBoxType = KMessageBox::Error;
+			Kopete::Utils::notifyConnectionLost( this, caption, msg );
 			break;
 		}
-		case MSNSocket::ErrorSorry:
+		case MSNSocket::ErrorConnectionError:
 		{
-			msgBoxType = KMessageBox::Sorry;
+			Kopete::Utils::notifyConnectionError( this, caption, msg );
 			break;
 		}
-		case MSNSocket::ErrorInformation:
+		case MSNSocket::ErrorCannotConnect:
 		{
-			msgBoxType = KMessageBox::Information;
+			Kopete::Utils::notifyCannotConnect( this );
 			break;
 		}
-		case MSNSocket::ErrorInternal:
+		case MSNSocket::ErrorInformation:
 		{
-			msgBoxType = KMessageBox::Information;
-			caption = i18n( "MSN Internal Error" );
+			KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information, msg, caption );
 			break;
 		}
+		case MSNSocket::ErrorServerError:
 		default:
 		{
-			msgBoxType = KMessageBox::Error;
+			Kopete::Utils::notifyServerError( this, caption, msg );
 			break;
 		}
 	}
-
-	kdDebug(14140) << k_funcinfo << msg << endl;
-	// Display the error
-	KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), msgBoxType, msg, caption );
-
 }
 
 bool MSNAccount::createContact( const QString &contactId, Kopete::MetaContact *metaContact )
Index: kopete/protocols/msn/kopete_msn.desktop
===================================================================
--- kopete/protocols/msn/kopete_msn.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/kopete_msn.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -21,7 +21,7 @@
 Name[cy]=Negesydd MSN
 Name[da]=MSN-Messenger
 Name[de]=MSN-Messenger
-Name[fa]=پیام گیر ام اس ان‌
+Name[fa]=پیام‌رسان ام‌اس‌ان
 Name[gl]=MSN Messanger
 Name[hi]=एमएसएन मैसेंजर
 Name[ja]=MSNメッセンジャー
@@ -50,7 +50,7 @@
 Comment[es]=Protocolo para conectar con MSN Messenger
 Comment[et]=Protokoll ühendumiseks MSN Messengeriga
 Comment[eu]=MSN Messenger-era konektatzeko protokoloa
-Comment[fa]=قرارداد برای اتصال به پیام گیر ام اس ان‌
+Comment[fa]=قرارداد برای اتصال به پیام‌رسان ام‌اس‌ان
 Comment[fi]=Yhteyskäytäntö MSN Messanger -verkkoon kytkeytymiseen
 Comment[fr]=Protocole pour se connecter sur MSN Messenger
 Comment[ga]=Prótacal chun ceangal le MSN Messenger
Index: kopete/protocols/msn/transport.cpp
===================================================================
--- kopete/protocols/msn/transport.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/transport.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -332,7 +332,7 @@
 
 QByteArray TcpTransportBridge::Buffer::read(Q_UINT32 length)
 {
-	if (length > size()) return QByteArray();
+	if (length >= size()) return QByteArray();
 
 	QByteArray buffer;
 	buffer.duplicate(data(), length);
Index: kopete/protocols/msn/msnnotifysocket.cpp
===================================================================
--- kopete/protocols/msn/msnnotifysocket.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/msnnotifysocket.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -111,163 +111,155 @@
 	if(m_tmpHandles.contains(id))
 		handle=m_tmpHandles[id];
 
+	QString msg;
+	MSNSocket::ErrorType type;
 	// See http://www.hypothetic.org/docs/msn/basics.php for a
 	// description of all possible error codes.
 	// TODO: Add support for all of these!
 	switch( code )
 	{
-	case 201:
-	case 205:
-	case 208:
-	{
-		QString msg = i18n( "<qt>The MSN user '%1' does not exist.<br>Please check the MSN ID.</qt>" ).arg( handle );
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 207:
-	case 218:
-	case 540:
-	{
-		QString msg =i18n( "<qt>An internal error occurred in the MSN plugin.<br>"
-			      "MSN Error: %1<br>"
-			      "please send us a detailed bug report "
-			      "at kopete-devel@kde.org containing the raw debug output on the "
-			      "console (in gzipped format, as it is probably a lot of output.)" ).arg(code);
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information, msg , i18n( "MSN Internal Error" ) );
-		emit errorMessage( MSNSocket::ErrorInternal, msg );
-		break;
+		case 201:
+		case 205:
+		case 208:
+		{
+			msg = i18n( "<qt>The MSN user '%1' does not exist.<br>Please check the MSN ID.</qt>" ).arg( handle );
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 207:
+		case 218:
+		case 540:
+		{
+			msg = i18n( "<qt>An internal error occurred in the MSN plugin.<br>"
+						"MSN Error: %1<br>"
+						"please send us a detailed bug report "
+						"at kopete-devel@kde.org containing the raw debug output on the "
+						"console (in gzipped format, as it is probably a lot of output.)" ).arg(code);
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 209:
+		{
+			if(handle==m_account->accountId())
+			{
+				msg = i18n( "Unable to change your display name.\n"
+					"Please ensure your display is not too long and does not contains censored words." );
+				type = MSNSocket::ErrorServerError;
+			}
+			/*else
+			{
+				QString msg = i18n( "You are trying to change the display name of a user who has not "
+					"confirmed his or her email address;\n"
+					"the contact was not renamed on the server." );
+				KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
+			}*/
+			break;
+		}
+		case 210:
+		{
+			msg = i18n("Your contact list is full; you cannot add any new contacts.");
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 215:
+		{
+			msg = i18n( "<qt>The user '%1' already exists in this group on the MSN server;<br>"
+				"if Kopete does not show the user, please send us a detailed bug report "
+				"at kopete-devel@kde.org containing the raw debug output on the "
+				"console (in gzipped format, as it is probably a lot of output.)</qt>" ).arg(handle);
+			type = MSNSocket::ErrorInformation;
+			break;
+		}
+		case 216:
+		{
+			//This might happen is you rename an user if he is not in the contactlist
+			//currently, we just iniore;
+			//TODO: try to don't rename user not in the list
+			//actualy, the bug is in MSNChatSession::slotUserJoined()
+			break;
+		}	
+		case 219:
+		{
+			msg = i18n( "The user '%1' seems to already be blocked or allowed on the server." ).arg(handle);
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 223:
+		{
+			msg = i18n( "You have reached the maximum number of groups:\n"
+				"MSN does not support more than 30 groups." );
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 224:
+		case 225:
+		case 230:
+		{
+			msg = i18n("Kopete is trying to perform an operation on a group or a contact that does not exists on the server.\n"
+				"This might happen if the Kopete contact list and the MSN-server contact list are not correctly synchronized; if this is the case, you probably should send a bug report.");
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
 
-	}
-	case 209:
-	{
-		if(handle==m_account->accountId())
+		case 229:
 		{
-			QString msg = i18n( "Unable to change your display name.\n"
-				"Please ensure your display is not too long and does not contains censored words." );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorSorry, msg );
+			msg = i18n("The group name is too long; it has not been changed on the MSN server.");
+			type = MSNSocket::ErrorServerError;
+			break;
 		}
-		/*else
-		 {
-			QString msg = i18n( "You are trying to change the display name of a user who has not "
-				"confirmed his or her email address;\n"
-				"the contact was not renamed on the server." );
-			KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
-		}*/
-		break;
+		case 710:
+		{
+			msg = i18n( "You cannot open a Hotmail inbox because you do not have an MSN account with a valid "
+				"Hotmail or MSN mailbox." );
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 715:
+		{
+			/*
+			//if(handlev==m_account->accountId())
+			QString msg = i18n( "Your email address has not been verified with the MSN server.\n"
+				"You should have received a mail with a link to confirm your email address.\n"
+				"Some functions will be restricted if you do not confirm your email address." );
+			KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );//TODO don't show again
+			*/
+			break;
+		}
+		case 800:
+		{
+			//This happen when too much commends are sent to the server.
+			//the command will not be executed, too bad.
+			// ignore it for now, as we don't really know what command it was.
+	/*		QString msg = i18#n( "You are trying to change your status, or your display name too rapidly.\n"
+				"This might happen if you added yourself to your own contact list." );
+			KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
+			//FIXME: try to fix this problem*/
+			break;
+		}
+		case 911:
+			m_disconnectReason=Kopete::Account::BadPassword;
+			disconnect();
+			break;
+		case 913:
+		{
+			msg = i18n( "You can not send messages when you are offline or when you are invisible." );
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+		case 923:
+		{
+			msg = i18n( "You are trying to perform an action you are not allowed to perform in 'kid mode'." );
+			type = MSNSocket::ErrorServerError;
+			break;
+		}
+	
+		default:
+			MSNSocket::handleError( code, id );
+			break;
 	}
-	case 210:
-	{
-		QString msg = i18n("Your contact list is full; you cannot add any new contacts.");
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Contact List Full" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 215:
-	{
-		QString msg = i18n( "<qt>The user '%1' already exists in this group on the MSN server;<br>"
-			"if Kopete does not show the user, please send us a detailed bug report "
-			"at kopete-devel@kde.org containing the raw debug output on the "
-			"console (in gzipped format, as it is probably a lot of output.)</qt>" ).arg(handle);
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorInformation, msg );
-		break;
-	}
-	case 216:
-	{
-		//This might happen is you rename an user if he is not in the contactlist
-		//currently, we just iniore;
-		//TODO: try to don't rename user not in the list
-		//actualy, the bug is in MSNChatSession::slotUserJoined()
-		break;
-	}
-	case 219:
-	{
-		QString msg = i18n( "The user '%1' seems to already be blocked or allowed on the server." ).arg(handle);
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 223:
-	{
-		QString msg = i18n( "You have reached the maximum number of groups:\n"
-			"MSN does not support more than 30 groups." );
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 224:
-	case 225:
-	case 230:
-	{
-		QString msg = i18n("Kopete is trying to perform an operation on a group or a contact that does not exists on the server.\n"
-			"This might happen if the Kopete contact list and the MSN-server contact list are not correctly synchronized; if this is the case, you probably should send a bug report.");
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information,msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorInformation, msg );
-		break;
-	}
 
-	case 229:
-	{
-		QString msg = i18n("The group name is too long; it has not been changed on the MSN server.");
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "Invalid Group Name - MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 710:
-	{
-		QString msg = i18n( "You cannot open a Hotmail inbox because you do not have an MSN account with a valid "
-			"Hotmail or MSN mailbox." );
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 715:
-	{
-		/*
-		//if(handlev==m_account->accountId())
-		QString msg = i18n( "Your email address has not been verified with the MSN server.\n"
-			"You should have received a mail with a link to confirm your email address.\n"
-			"Some functions will be restricted if you do not confirm your email address." );
-		KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );//TODO don't show again
-		*/
-		break;
-	}
-	case 800:
-	{
-		//This happen when too much commends are sent to the server.
-		//the command will not be executed, too bad.
-		// ignore it for now, as we don't really know what command it was.
-/*		QString msg = i18#n( "You are trying to change your status, or your display name too rapidly.\n"
-	 		"This might happen if you added yourself to your own contact list." );
-		KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		//FIXME: try to fix this problem*/
-		break;
-	}
-	case 911:
-		m_disconnectReason=Kopete::Account::BadPassword;
-		disconnect();
-		break;
-	case 913:
-	{
-		QString msg = i18n( "You can not send messages when you are offline or when you are invisible." );
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-	case 923:
-	{
-		QString msg = i18n( "You are trying to perform an action you are not allowed to perform in 'kid mode'." );
-		//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Sorry, msg, i18n( "MSN Plugin" ) );
-		emit errorMessage( MSNSocket::ErrorSorry, msg );
-		break;
-	}
-
-	default:
-		MSNSocket::handleError( code, id );
-		break;
-	}
+	if( !msg.isEmpty() )
+		emit errorMessage( type, msg );
 }
 
 void MSNNotifySocket::parseCommand( const QString &cmd, uint id, const QString &data )
Index: kopete/protocols/msn/msnswitchboardsocket.cpp
===================================================================
--- kopete/protocols/msn/msnswitchboardsocket.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/msnswitchboardsocket.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -111,54 +111,68 @@
 void MSNSwitchBoardSocket::handleError( uint code, uint id )
 {
 	kdDebug(14140) << k_funcinfo << endl;
+
+	QString msg;
+	MSNSocket::ErrorType type;
+
 	switch( code )
 	{
 		case 208:
 		{
-			QString msg = i18n( "Invalid user:\n"
+			msg = i18n( "Invalid user:\n"
 				"this MSN user does not exist; please check the MSN ID." );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorNormal, msg );
+			type = MSNSocket::ErrorServerError;
+
 			userLeftChat(m_msgHandle , i18n("user never joined"));
 			break;
 		}
 		case 215:
 		{
-			QString msg = i18n( "The user %1 is already in this chat." ).arg( m_msgHandle );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorNormal, msg );
+			msg = i18n( "The user %1 is already in this chat." ).arg( m_msgHandle );
+			type = MSNSocket::ErrorServerError;
+
 			//userLeftChat(m_msgHandle , i18n("user was twice in this chat") ); //(the user shouln't join there
 			break;
 		}
 		case 216:
 		{
-			QString msg = i18n( "The user %1 is online but has blocked you:\nyou can not talk to this user." ).arg( m_msgHandle );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorInformation, msg );
+			msg = i18n( "The user %1 is online but has blocked you:\nyou can not talk to this user." ).arg( m_msgHandle );
+			type = MSNSocket::ErrorInformation;
+
 			userLeftChat(m_msgHandle, i18n("user blocked you"));
 			break;
 		}
 		case 217:
 		{
 			// TODO: we need to know the nickname instead of the handle.
-			QString msg = i18n( "The user %1 is currently not signed in.\n" "Messages will not be delivered." ).arg( m_msgHandle );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Error, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorNormal, msg );
+			msg = i18n( "The user %1 is currently not signed in.\n" "Messages will not be delivered." ).arg( m_msgHandle );
+			type = MSNSocket::ErrorServerError;
+
 			userLeftChat(m_msgHandle, i18n("user disconnected"));
 			break;
 		}
 		case 713:
 		{
 			QString msg = i18n( "You are trying to invite too many contacts to this chat at the same time" ).arg( m_msgHandle );
-			//KMessageBox::queuedMessageBox( Kopete::UI::Global::mainWidget(), KMessageBox::Information, msg, i18n( "MSN Plugin" ) );
-			emit errorMessage( MSNSocket::ErrorInformation, msg );
+			type = MSNSocket::ErrorInformation;
+
 			userLeftChat(m_msgHandle, i18n("user blocked you"));
 			break;
 		}
+		case 911:
+		{
+			msg = i18n("Kopete MSN plugin has trouble authenticating with switchboard server.");
+			type = MSNSocket::ErrorServerError;
+
+			break;
+		}
 		default:
 			MSNSocket::handleError( code, id );
 			break;
 	}
+
+	if( !msg.isEmpty() )
+		emit errorMessage( type, msg );
 }
 
 void MSNSwitchBoardSocket::parseCommand( const QString &cmd, uint  id ,
Index: kopete/protocols/msn/msnsocket.h
===================================================================
--- kopete/protocols/msn/msnsocket.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/msnsocket.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -77,7 +77,7 @@
 	enum OnlineStatus { Connecting, Connected, Disconnecting, Disconnected };
 	enum LookupStatus { Processing, Success, Failed };
 	enum Transport { TcpTransport, HttpTransport };
-	enum ErrorType { ErrorNormal, ErrorInternal, ErrorInformation, ErrorSorry };
+	enum ErrorType { ErrorConnectionLost, ErrorConnectionError, ErrorCannotConnect, ErrorServerError, ErrorInformation};
 
 	OnlineStatus onlineStatus() { return m_onlineStatus; }
 
Index: kopete/protocols/msn/config/kopete_msn_config.desktop
===================================================================
--- kopete/protocols/msn/config/kopete_msn_config.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/protocols/msn/config/kopete_msn_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Plugin de MSN
 Name[et]=MSN plugin
 Name[eu]=MSN Plugin-a
-Name[fa]= وصلۀ ام اس ان‌‌
+Name[fa]=وصلۀ ام‌اس‌ان
 Name[fi]=MSN-liitännäinen
 Name[fr]=Module MSN
 Name[ga]=Breiseán MSN
@@ -78,7 +78,7 @@
 Comment[el]=Πρωτόκολλο Microsoft Network
 Comment[es]=Protocolo de red de Microsoft
 Comment[et]=Microsofti võrguprotokoll
-Comment[fa]=قرارداد شبکۀ میکروسافت‌
+Comment[fa]=قرارداد شبکۀ میکروسافت
 Comment[fi]=Microsoft Network -yhteyskäytäntö
 Comment[fr]=Protocole réseau Microsoft
 Comment[ga]=Prótacal Gréasáin Mhicrosoft
Index: kopete/kopete/kopeteiface.h
===================================================================
--- kopete/kopete/kopeteiface.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/kopeteiface.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -155,6 +155,18 @@
 	 * @param photoUrl URL to the photo
 	 */
 	void setGlobalPhoto( const KURL &photoUrl );
+    
+    /**
+     * get the contactIds for a given display name
+     * @param displayName
+     */
+    QStringList contactsForDisplayName( const QString & displayName );
+
+    /**
+     * get the metacontactIds that have the given contactId
+     * @param contactId
+     */
+    QStringList metacontactsForContactId( const QString & contactId );
 };
 
 #endif
Index: kopete/kopete/main.cpp
===================================================================
--- kopete/kopete/main.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/main.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -64,7 +64,7 @@
 	aboutData.addAuthor ( "Jason Keirstead", I18N_NOOP("Developer"), "jason@keirstead.org", "http://www.keirstead.org");
 	aboutData.addAuthor ( "Matt Rogers", I18N_NOOP("Lead Developer, AIM and ICQ plugin maintainer"), "mattr@kde.org" );
 	aboutData.addAuthor ( "Michel Hermier", I18N_NOOP("IRC plugin maintainer"), "michel.hermier@wanadoo.fr" );
-	aboutData.addAuthor ( "Michaël Larouche", I18N_NOOP("Lead Developer"), "michael.larouche@kdemail.net", "http://mlarouche.blogspot.com" );
+	aboutData.addAuthor ( "Michaël Larouche", I18N_NOOP("Lead Developer"), "larouche@kde.org", "http://www.tehbisnatch.org/" );
 	aboutData.addAuthor ( "Olivier Goffart", I18N_NOOP("Lead Developer, MSN plugin maintainer"), "ogoffart @ kde.org");
 	aboutData.addAuthor ( "Ollivier Lapeyre Johann", I18N_NOOP("Artist / Developer, Artwork maintainer"), "johann.ollivierlapeyre@gmail.com" );
 	aboutData.addAuthor ( "Richard Smith", I18N_NOOP("Developer, UI maintainer"), "kde@metafoo.co.uk" );
Index: kopete/kopete/eventsrc
===================================================================
--- kopete/kopete/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -10,7 +10,7 @@
 Comment[de]=Kopete-Nachrichtendienst
 Comment[el]=Αποστολέας μηνυμάτων Kopete
 Comment[es]=Mensajería de Kopete
-Comment[fa]=پیام گیر Kopete‌
+Comment[fa]=پیام‌رسان Kopete
 Comment[fi]=Kopete-viestin
 Comment[fr]=Messager Kopete
 Comment[gl]=Mensaxería instantánea con Kopete
@@ -39,7 +39,7 @@
 Comment[ta]=உடனடி தூதர்
 Comment[tg]=Пайёмбари Kopete
 Comment[uk]=Програма обміну повідомленнями Kopete
-Comment[uz]=Kopete хабор алмашиш воситаси
+Comment[uz]=Kopete хабар алмашиш воситаси
 Comment[ven]=Murumiwa wa Kopete
 Comment[zh_CN]=Kopete 信使
 
@@ -59,7 +59,7 @@
 Name[es]=Entrante
 Name[et]=Sisenev
 Name[eu]=Sarrerako
-Name[fa]=وارد شونده‌
+Name[fa]=واردشونده
 Name[fi]=Saapuva
 Name[fr]=Entrant
 Name[ga]=Ag Teacht
@@ -111,7 +111,7 @@
 Comment[es]=Se ha recibido un mensaje entrante
 Comment[et]=Saabus sõnum
 Comment[eu]=Sarrerako mezu bat jaso da
-Comment[fa]=یک پیام واردشده دریافت شده است‌
+Comment[fa]=یک پیام واردشده دریافت شده است
 Comment[fi]=Viesti on saapunut
 Comment[fr]=Un message entrant a été reçu
 Comment[gl]=Recibiuse unha nova mensaxe
@@ -165,7 +165,7 @@
 Name[es]=Saliente
 Name[et]=Väljuv
 Name[eu]=Irteerakoa
-Name[fa]=خروج‌
+Name[fa]=خروج
 Name[fi]=Lähtevä
 Name[fr]=Sortant
 Name[ga]=Ag Imeacht
@@ -217,7 +217,7 @@
 Comment[es]=Se ha enviado un mensaje entrante
 Comment[et]=Saadeti sõnum
 Comment[eu]=Irteerako mezu bat bidali da
-Comment[fa]=یک پیام خروجی ارسال شده است‌
+Comment[fa]=یک پیام خروجی ارسال شده است
 Comment[fi]=Viesti on lähetetty
 Comment[fr]=Un message sortant a été envoyé
 Comment[gl]=Enviouse unha nova mensaxe
@@ -268,7 +268,7 @@
 Name[el]=Σε σύνδεση
 Name[es]=Conectado
 Name[et]=Võrgus
-Name[fa]=برخط‌
+Name[fa]=برخط
 Name[fi]=Yhteys auki
 Name[fr]=Se connecter
 Name[ga]=Ar Líne
@@ -316,7 +316,7 @@
 Comment[es]=Se ha conectado un contacto
 Comment[et]=Kontakt tuli võrku
 Comment[eu]=Kontaktu bat on line jarri da
-Comment[fa]=یک تماس برخط شد‌
+Comment[fa]=یک تماس برخط شد
 Comment[fi]=Yhteyshenkilö on saapunut verkkoon
 Comment[fr]=Un contact s'est connecté
 Comment[gl]=Acaba de conectarse un contact
@@ -365,7 +365,7 @@
 Name[es]=Desconectar
 Name[et]=Pole võrgus
 Name[eu]=Deskonektatuta
-Name[fa]=برون‌خط‌
+Name[fa]=برون‌خط
 Name[fi]=Yhteys katkaistu
 Name[fr]=Se déconnecter
 Name[ga]=As Líne
@@ -413,7 +413,7 @@
 Comment[es]=Se ha desconectado un contacto
 Comment[et]=Kontakt läks võrgust ära
 Comment[eu]=Kontaktu bat deskonektatu da
-Comment[fa]=یک تماس برون‌خط شد‌
+Comment[fa]=یک تماس برون‌خط شد
 Comment[fi]=Yhteyshenkilö on lähtenyt verkosta
 Comment[fr]=Un contact s'est déconnecté
 Comment[gl]=Acaba de desconctarse un contacto
@@ -466,7 +466,7 @@
 Name[es]=Cambiar estado
 Name[et]=Staatuse muutus
 Name[eu]=Egoera aldaketa
-Name[fa]=تغییر وضعیت‌
+Name[fa]=تغییر وضعیت
 Name[fi]=Tilan muuttuminen
 Name[fr]=Changement d'état
 Name[ga]=Athrú Stádais
@@ -517,7 +517,7 @@
 Comment[es]=El estado de conexión de un contacto ha cambiado
 Comment[et]=Kontakt muutis oma võrgusoleku staatust
 Comment[eu]=Kontaktu baten on line egoera aldatu da
-Comment[fa]=وضعیت یک تماس برخط تغییر یافت‌
+Comment[fa]=وضعیت تماس برخط تغییر یافت
 Comment[fi]=Yhteyshenkilön online-tila on muuttunut
 Comment[fr]=Un contact a changé son état de connexion
 Comment[gl]=O estado en liña dun contacto acaba de mudar
@@ -570,7 +570,7 @@
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
-Name[fa]=مشخص‌
+Name[fa]=مشخص
 Name[fi]=Korostus
 Name[fr]=Surlignement
 Name[ga]=Aibhsiú
@@ -620,7 +620,7 @@
 Comment[es]=Se ha recibido un mensaje resaltado
 Comment[et]=Saabus esiletõstetud sõnum
 Comment[eu]=Nabarmendutako mezu bat jaso da
-Comment[fa]=یک پیام مشخص شده دریافت شده است‌
+Comment[fa]=یک پیام مشخص‌شده دریافت شده است
 Comment[fi]=Korostettu viesti on saapunut
 Comment[fr]=Un message surligné a été reçu
 Comment[gl]=Recibiuse unha mensaxe subliñada
@@ -671,7 +671,7 @@
 Name[es]=Mensajes de prioridad baja
 Name[et]=Madala prioriteediga sõnumid
 Name[eu]=Lehentasun gutxiko mezuak
-Name[fa]=پیامهای کم اولویت‌
+Name[fa]=پیامهای کم اولویت
 Name[fi]=Matalan prioriteetin viestit
 Name[fr]=Messages de basse priorité
 Name[gl]=Mensaxes con baixa prioridade
@@ -717,7 +717,7 @@
 Comment[es]=Se ha recibido un mensaje marcado con poca prioridad
 Comment[et]=Saabus madalaprioriteediline sõnum
 Comment[eu]=Lehentasun gutxiko bezala markatutako mezu bat jaso da
-Comment[fa]=یک پیام با نشان اولویت کم دریافت شده است‌
+Comment[fa]=یک پیام با نشان اولویت کم دریافت شده است
 Comment[fi]=Matalaprioriteettinen viesti on saapunut
 Comment[fr]=Un message marqué avec une basse priorité a été reçu
 Comment[gl]=Unha mensaxe marcada coma de baixa prioridade foi recibida
@@ -733,7 +733,7 @@
 Comment[nds]=En Naricht mit siete Prioriteet keem rin
 Comment[nl]=Er is een bericht met een lage prioriteit binnengekomen
 Comment[nn]=Ei melding markert med låg prioritet er motteken
-Comment[pl]=Otrzymany została wiadomość o niskim priorytecie
+Comment[pl]=Otrzymana została wiadomość o niskim priorytecie
 Comment[pt]=Foi recebida uma mensagem marcada como de baixo prioridade
 Comment[pt_BR]=Chegou uma mensagem marcada com baixa prioridade
 Comment[ru]=Получены сообщения с низким приоритетом
@@ -755,24 +755,28 @@
 [kopete_authorization]
 Name=Authorization
 Name[ca]=Autorització
+Name[cs]=Autorizace
 Name[da]=Godkendelse
 Name[de]=Autorisierung
 Name[el]=Πιστοποίηση
 Name[es]=Autorización
 Name[et]=Autoriseerimine
-Name[fa]=اجازه‌
+Name[fa]=اجازه
 Name[fi]=Hyväksyminen
 Name[fr]=Autorisation
 Name[he]=הזדהות
+Name[hu]=Felhasználóazonosítás
 Name[is]=Auðkenning
 Name[it]=Autorizzazione
 Name[ja]=許可
 Name[km]=សេចក្ដី​អនុញ្ញាត
+Name[nb]=Autorisering
 Name[nds]=Identifikatschoon
 Name[nl]=Autorisatie
 Name[pl]=Autoryzacja
 Name[pt]=Autorização
 Name[pt_BR]=Autorização
+Name[ru]=Авторизация
 Name[sk]=Autorizácia
 Name[sl]=Odobritev
 Name[sr]=Ауторизација
@@ -783,24 +787,28 @@
 Name[zh_TW]=認證
 Comment=An user has accepted/declined your authorization request
 Comment[ca]=Un usuari ha autoritzat/declinat la vostra petició d'autorització
+Comment[cs]=Uživatel přijmul/odmítnul váš požadavek na autorizaci
 Comment[da]=En bruger har godkendt/afslået din godkendelsesforespørgsel
 Comment[de]=Ein Benutzer hat Ihre Autorisierung erlaubt/abgelehnt
 Comment[el]=Ένας χρήστης έχει πιστοποιήσει/απορρίψει την αίτησή σας για πιστοποίηση
 Comment[es]=Un usuario ha aceptado/declinado su petición de autorización
 Comment[et]=Kasutaja autoriseeris/lükkas tagasi sinu autoriseerimissoovi
-Comment[fa]=کاربری درخواست اجازۀ شما را پذیرفته/نپذیرفته است‌
+Comment[fa]=کاربری درخواست اجازۀ شما را پذیرفته/نپذیرفته است
 Comment[fi]=Käyttäjä on hyväksynyt/hylännyt hyväksymispyyntösi
 Comment[fr]=Un utilisateur a accepté ou refusé votre demande d'autorisation
 Comment[he]=משתמש אישר/דחה את בקשתך לזיהוי
+Comment[hu]=Egy felhasználó elfogadta vagy elutasította az Ön felhasználóazonosítási kérését
 Comment[is]=Notandi hefur heimilað eða hafnað beiðni þinni um auðkenningu auðkenningabeiðni þinni
 Comment[it]=Un utente ha autorizzato/declinato la tua richiesta
 Comment[ja]=ユーザはあなたの許可要求を承諾/拒絶しました
 Comment[km]=អ្នក​ប្រើ​បានទទួល​យក/បដិសេធ នូវ​សំណើ​សេចក្ដី​អនុញ្ញាត​របស់​អ្នក
+Comment[nb]=En bruker har autorisert eller avvist din forespørsel om autorisering
 Comment[nds]=En Bruker hett Dien Identifikatschoonanfraag tolaten/afwiest
 Comment[nl]=Een gebruiker heeft uw autorisatieverzoek geaccepteerd/afgewezen
 Comment[pl]=Użytkownik zaakceptował/odrzucił Twoje żądanie autoryzacji
 Comment[pt]=Um utilizador autorizou/rejeitou o seu pedido de autorização
 Comment[pt_BR]=Um utilizador autorizou/rejeitou o seu pedido de autorização
+Comment[ru]=Пользователь авторизовал вас или отклонил ваш запрос
 Comment[sk]=Užívateľ prijal/odmietol vašu požiadavku o autorizáciu
 Comment[sl]=Uporabnik je spejel/zavrnil vaš zahtevek za odobritev
 Comment[sr]=Корисник је прихватио/одбио ваш захтев за ауторизацију
@@ -820,7 +828,7 @@
 Name[bs]=Yahoo mail
 Name[ca]=Correu Yahoo
 Name[es]=Correo de Yahoo
-Name[fa]=نامۀ یاهو‌
+Name[fa]=نامۀ یاهو
 Name[fi]=Yahoo-sähköposti
 Name[fr]=Courrier Yahoo
 Name[he]=דוא"ל של Yahoo
@@ -857,7 +865,7 @@
 Comment[es]=Tiene correo nuevo en la cuenta de Yahoo
 Comment[et]=Saabus uus kiri sinu Yahoo Inboxi
 Comment[eu]=E-posta berri bat jaso da zure Yahoo-ko sarrerako ontzian
-Comment[fa]=یک رایانامۀ جدید در دریافتی یاهو شما رسیده است‌
+Comment[fa]=یک رایانامۀ جدید در دریافتی یاهوی شما رسیده است
 Comment[fi]=Uutta postia saapunut Yahoo-sähköpostilaatikkoon
 Comment[fr]=Un nouveau message est arrivé dans votre boîte aux lettres Yahoo
 Comment[gl]=Unha nova mensaxe chegou ao teu cartafol de entrada de Yahoo
@@ -895,23 +903,27 @@
 [msn_alert]
 Name=MSN Alert
 Name[ca]=Alerta del MSN
+Name[cs]=MSN upozornění
 Name[da]=MSN-alarm
 Name[de]=MSN-Warnung
 Name[el]=Ειδοποίηση του MSN
 Name[es]=Alerta MSN
 Name[et]=MSN teade
-Name[fa]=هشدار ام اس ان‌
+Name[fa]=هشدار ام‌اس‌ان
 Name[fi]=MSN-varoitus
 Name[fr]=Alerte MSN
 Name[he]=אזהרה של MSN
+Name[hu]=MSN értesítő
 Name[is]=MSN skeyti
 Name[it]=Avviso MSN
 Name[km]=សេចក្ដី​ជូនដំណឹង MSN
+Name[nb]=MSN-varsling
 Name[nds]=MSN-Alarm
 Name[nl]=MSN-melding
 Name[pl]=Alarm MSN
 Name[pt]=Alerta MSN
 Name[pt_BR]=Alerta MSN
+Name[ru]=Предупреждение MSN
 Name[sk]=MSN Upozornenie
 Name[sl]=Alarm MSN
 Name[sr]=MSN аларм
@@ -922,24 +934,28 @@
 Name[zh_TW]=MSN 警告
 Comment=A new alert has been sent to you
 Comment[ca]=Se us ha enviat una nova alerta
+Comment[cs]=Bylo vám doručeno nové upozornění
 Comment[da]=En ny alarm er sendt til dig
 Comment[de]=Sie haben eine neue Warnung erhalten
 Comment[el]=Σας στάλθηκε μια νέα ειδοποίηση
 Comment[es]=Se le ha enviado una nueva alerta
 Comment[et]=Sulle saadeti uus teade
-Comment[fa]=هشدار جدیدی برای شما ارسال شده است‌
+Comment[fa]=هشدار جدیدی برای شما ارسال شده است
 Comment[fi]=Sinulle on lähetetty uusi varoitus
 Comment[fr]=Une nouvelle alerte vous a été envoyée
 Comment[he]=אזהרה חדשה נשלחה אליך
+Comment[hu]=Új értesítőt küldtek Önnek
 Comment[is]=Þér hefur verið sent nýtt skeyti
 Comment[it]=Ti è stato inviato un avviso
 Comment[ja]=新しいアラートを受信しました
 Comment[km]=បានផ្ញើ​សេចក្ដី​ជូន​ដំណឹង​ទៅឲ្យអ្នក
+Comment[nb]=En ny varsling er sendt til deg
 Comment[nds]=Een hett Di en niegen Alarm sendt
 Comment[nl]=U hebt een nieuwe melding ontvangen
 Comment[pl]=Nowy alarm został wysłany do Ciebie
 Comment[pt]=Foi enviada um novo alerta
 Comment[pt_BR]=Foi enviada um novo alerta
+Comment[ru]=Вам отправлено предупреждение
 Comment[sk]=Bolo vám poslané nové upozornenie
 Comment[sl]=Poslan vam je bil alarm
 Comment[sr]=Послат вам је нови аларм
@@ -963,7 +979,7 @@
 Name[da]=MSN-Mail
 Name[de]=MSN-Mail
 Name[es]=Correo MSN
-Name[fa]=نامۀ ام اس ان‌
+Name[fa]=نامۀ ام‌اس‌ان
 Name[fi]=MSN-sähköposti
 Name[fr]=Courrier MSN
 Name[gl]=Correo MSN
@@ -1005,7 +1021,7 @@
 Comment[es]=Tiene correo nuevo en la cuenta de MSN
 Comment[et]=Saabus uus kiri sinu MSN Inboxi
 Comment[eu]=E-posta berri bat jaso da zure MSN-ko sarrerako ontzian
-Comment[fa]=یک رایانامۀ جدید در دریافتی ام اس ان شما رسیده است‌
+Comment[fa]=یک رایانامۀ جدید در دریافتی ام‌اس‌ان شما رسیده است
 Comment[fi]=Uutta postia saapunut MSN-sähköpostilaatikkoon
 Comment[fr]=Un nouveau message est arrivé dans votre boîte aux lettres MSN
 Comment[gl]=Unha nova mensaxe chegou ao teu cartafol de entrada de MSN
@@ -1055,7 +1071,7 @@
 Name[es]=Autorización ICQ
 Name[et]=ICQ autoriseerimine
 Name[eu]=ICQ baimena
-Name[fa]=اجازۀ ICQ‌
+Name[fa]=اجازۀ ICQ
 Name[fi]=ICQ-todennus
 Name[fr]=Autorisation ICQ
 Name[ga]=Údárú ICQ
@@ -1114,7 +1130,7 @@
 Comment[nds]=En ICQ-Bruker hett Dien Identifikatschoonanfraag tolaten/afwiest
 Comment[nl]=Een ICQ-gebruiker heeft uw autorisatieverzoek geaccepteerd/afgewezen
 Comment[nn]=Ein ICQ-brukar har godtatt eller nekta førespurnaden din om autorisering
-Comment[pl]=Użytkownik ICQ zaakceptował/odrzucił twoje żądanie autoryzacji
+Comment[pl]=Użytkownik ICQ zaakceptował/odrzucił Twoje żądanie autoryzacji
 Comment[pt]=Um utilizador ICQ autorizou/rejeitou o seu pedido de autorização
 Comment[pt_BR]=Um usuário do ICQ aceitou/declinou seu pedido de autorização
 Comment[ru]=Пользователь ICQ авторизовал вас или отклонил ваш запрос
@@ -1143,7 +1159,7 @@
 Name[es]=Evento IRC
 Name[et]=IRC sündmus
 Name[eu]=IRC gertaera
-Name[fa]=رویداد IRC‌
+Name[fa]=رویداد IRC
 Name[fi]=IRC-tapahtuma
 Name[fr]=Évènement IRC
 Name[ga]=Teagmhas IRC
@@ -1187,7 +1203,7 @@
 Comment[es]=Ocurrio un evento IRC
 Comment[et]=Midagi toimus IRCus
 Comment[eu]=IRC gertaera bat gertatu da
-Comment[fa]=یک رویداد IRC رخ داده است‌
+Comment[fa]=یک رویداد IRC رخ داده است
 Comment[fi]=IRC-tapahtuma
 Comment[fr]=Un évènement IRC s'est produit
 Comment[gl]=Ocorreu un evento IRC
@@ -1232,7 +1248,7 @@
 Name[es]=Error en la conexión
 Name[et]=Ühenduse viga
 Name[eu]=Konexio-errorea
-Name[fa]=خطای اتصال‌
+Name[fa]=خطای اتصال
 Name[fi]=Yhteysvirhe
 Name[fr]=Erreur de connexion
 Name[ga]=Earráid Naisc
@@ -1275,7 +1291,7 @@
 Comment[es]=Ocurrio un error en la conexión
 Comment[et]=Ühendusega tekkis viga
 Comment[eu]=Errore bat gertatu da konexioan
-Comment[fa]=یک خطا هنگام اتصال رخ داده است‌
+Comment[fa]=هنگام اتصال خطایی رخ داده است
 Comment[fi]=Yhteydessä tapahtui virhe
 Comment[fr]=Une erreur de connexion est apparue
 Comment[gl]=Ocorreu un erro na conexión
@@ -1322,7 +1338,7 @@
 Name[es]=Conexión perdida
 Name[et]=Ühendus kadus
 Name[eu]=Konexioa galdu da
-Name[fa]=اتصال مفقود شد‌
+Name[fa]=اتصال مفقود شد
 Name[fi]=Yhteys hävisi
 Name[fr]=Connexion perdue
 Name[ga]=Cailleadh an Nasc
@@ -1338,7 +1354,7 @@
 Name[nds]=Verbinnen afreten
 Name[nl]=Verbinding verbroken
 Name[nn]=Samband stengt
-Name[pl]=Połączenie stracone
+Name[pl]=Połączenie utracone
 Name[pt]=Perdeu-se a Ligação
 Name[pt_BR]=Conexão Perdida
 Name[ru]=Соединение утеряно
@@ -1364,10 +1380,11 @@
 Comment[es]=Se perdió la conexión
 Comment[et]=Ühendus kadus
 Comment[eu]=Konexioa galdu da
-Comment[fa]=اتصال مفقود شده است‌
+Comment[fa]=اتصال مفقود شده است
 Comment[fi]=Yhteys on hävinnyt
 Comment[fr]=La connexion a été perdue
 Comment[ga]=Cailleadh an nasc
+Comment[gl]=Perdeuse a conexión
 Comment[he]=החיבור נסגר
 Comment[hu]=A kapcsolat megszakadt
 Comment[is]=Tengingin tapaðist
@@ -1382,6 +1399,7 @@
 Comment[pl]=Połączenie zostało przerwane
 Comment[pt]=A ligação foi-se abaixo
 Comment[pt_BR]=A ligação foi-se abaixo
+Comment[ru]=Разрыв соединения
 Comment[sk]=Spojenie sa stratilo
 Comment[sl]=Povezava je bila prekinjena
 Comment[sr]=Веза је изгубљена
@@ -1408,7 +1426,7 @@
 Name[es]=No se pudo conectar
 Name[et]=Ühendumine ebaõnnestus
 Name[eu]=Ezin da konektatu
-Name[fa]=نمی‌تواند متصل شود‌
+Name[fa]=نمی‌تواند متصل شود
 Name[fi]=Ei voitu yhdistää
 Name[fr]=Impossible de se connecter
 Name[ga]=Ní Féidir Nasc a Dhéanamh
@@ -1427,7 +1445,7 @@
 Name[pl]=Nie można się połączyć
 Name[pt]=Não É Possível Ligar
 Name[pt_BR]=Não foi possível efetuar a conexão
-Name[ru]=Не удаётся соединиться
+Name[ru]=Не удаётся подключиться
 Name[sk]=Nedá sa pripojiť
 Name[sl]=Povezava ni mogoča
 Name[sr]=Повезивање немогуће
@@ -1451,7 +1469,7 @@
 Comment[es]=Kopete no se puede conectar al servicio
 Comment[et]=Kopetel ebaõnnestus ühendumine teenusega
 Comment[eu]=Kopete-k ezin du zerbitzuarekin konektatu
-Comment[fa]=Kopete نمی‌تواند به خدمت متصل شود‌
+Comment[fa]=Kopete نمی‌تواند به خدمت متصل شود
 Comment[fi]=Kopete ei voi yhdistää palveluun
 Comment[fr]=Kopete ne peut pas se connecter à ce service
 Comment[gl]=Kopete non pode conectar co servicio
@@ -1496,7 +1514,7 @@
 Name[es]=Problemas de red
 Name[et]=Võrguprobleemid
 Name[eu]=Sare-arazoak
-Name[fa]=مسئله‌های شبکه‌
+Name[fa]=مسئله‌های شبکه
 Name[fi]=Verkko-ongelma
 Name[fr]=Problèmes réseaux
 Name[ga]=Fadhbanna Líonra
@@ -1539,7 +1557,7 @@
 Comment[es]=La red sufre problemas
 Comment[et]=Võrguga on mingeid probleeme
 Comment[eu]=Sareak arazoak ditu
-Comment[fa]=شبکه، مسائل را آزمایش می‌کند 
+Comment[fa]=شبکه، مسائل را آزمایش می‌کند
 Comment[fi]=Verkossa on ongelmia
 Comment[fr]=Le réseau rencontre des problèmes
 Comment[gl]=A rede está experimentando problemas
@@ -1582,7 +1600,7 @@
 Name[es]=Error interno del servidor
 Name[et]=Serveri sisemine viga
 Name[eu]=Zerbitzariaren barne-errorea
-Name[fa]=خطای درونی کارساز‌
+Name[fa]=خطای درونی کارساز
 Name[fi]=Palvelimen sisäinen virhe
 Name[fr]=Erreur interne du serveur
 Name[gl]=Erro Interno do Servidor
@@ -1621,9 +1639,10 @@
 Comment[es]=Ocurrió un error interno en el servicio
 Comment[et]=Tekkis teenuse sisemine viga
 Comment[eu]=Zerbitzuaren barne-errore bat gertatu da
-Comment[fa]=یک خطای درونی رخ داده است‌
+Comment[fa]=یک خطای درونی رخ داده است
 Comment[fi]=Tapahtui palvelun sisäinen virhe
 Comment[fr]=Une erreur interne au service s'est produite
+Comment[gl]=Ocorreu un erro interno do servicio
 Comment[hu]=Belső hiba történt a szolgáltatásban
 Comment[is]=Innri villa í þjónustu hefur átt sér stað
 Comment[it]=Si è verificato un errore interno del servizio
@@ -1637,6 +1656,7 @@
 Comment[pl]=Wystąpił błąd wewnętrzny usługi
 Comment[pt]=Ocorreu um erro interno do serviço
 Comment[pt_BR]=Ocorreu um erro interno do serviço
+Comment[ru]=Внутренняя ошибка службы
 Comment[sk]=Nastala interná chyba servera
 Comment[sl]=Prišlo je do notranje napake pri storitvi
 Comment[sr]=Дошло јо до интерне грешке сервиса
@@ -1647,7 +1667,7 @@
 Comment[zh_CN]=发生了服务内部错误
 Comment[zh_HK]=服務發生內部錯誤
 Comment[zh_TW]=服務發生內部錯誤
-default_presentation=2
+default_presentation=16
 
 [buzz_nudge]
 Name=Buzz/Nudge
@@ -1692,7 +1712,7 @@
 Comment[es]=Un contacto le ha mandado un zumbido
 Comment[et]=Kontakt müksas sind.
 Comment[eu]=Kontaktu batek burrumbada/ukondokada bat bidali dizu.
-Comment[fa]=یک تماس برای شما یک buzz/nudge ارسال کرده است.‌
+Comment[fa]=تماسی برای شما یک buzz/nudge ارسال کرده است.
 Comment[fr]=Un contact vous a envoyé une vibration.
 Comment[hu]=Egy partner figyelemfelhívó üzenetet küldött.
 Comment[is]=Notandi hefur ýtt við þér.
Index: kopete/kopete/kopete.desktop
===================================================================
--- kopete/kopete/kopete.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/kopete.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 GenericName[es]=Mensajería instantánea
 GenericName[et]=Kiirsuhtlemisrakendus
 GenericName[eu]=Berehalako mezularitza
-GenericName[fa]=پیام گیر فوری‌
+GenericName[fa]=پیام‌رسان فوری
 GenericName[fi]=Pikaviestinohjelma
 GenericName[fr]=Messagerie instantanée
 GenericName[ga]=Clár teachtaireachtaí meandaracha
@@ -67,7 +67,7 @@
 Comment[es]=Mensajería instantánea
 Comment[et]=Kiirsuhtlusrakendus
 Comment[eu]=Berehalako mezularitza
-Comment[fa]=پیام گیر فوری‌
+Comment[fa]=پیام‌رسان فوری
 Comment[fi]=Pikaviestinohjelma
 Comment[fr]=Messagerie instantanée
 Comment[gl]=Mensaxería Instantánea
Index: kopete/kopete/kopeteiface.cpp
===================================================================
--- kopete/kopete/kopeteiface.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/kopeteiface.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -316,5 +316,29 @@
 	}
 }
 
+QStringList KopeteIface::contactsForDisplayName( const QString & displayName )
+{
+	Kopete::MetaContact * mc = Kopete::ContactList::self()->findMetaContactByDisplayName( displayName );
+	QStringList contactIds;
+	if ( mc )
+	{
+		QPtrList<Kopete::Contact> contacts = mc->contacts();
+		QPtrListIterator<Kopete::Contact> it( contacts );
+		for( ; it.current(); ++it )
+		{
+			contactIds.append( (*it)->contactId() );
+    	}
+    }
+	return contactIds;
+}
+
+QStringList KopeteIface::metacontactsForContactId( const QString & contactId )
+{
+	Kopete::MetaContact * mc = Kopete::ContactList::self()->findMetaContactByContactId( contactId );
+	if ( mc )
+		return QStringList( mc->displayName() );
+	else
+		return QStringList();
+}
 // vim: set noet ts=4 sts=4 sw=4:
 
Index: kopete/kopete/x-kopete-emoticons.desktop
===================================================================
--- kopete/kopete/x-kopete-emoticons.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/x-kopete-emoticons.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
 Comment[es]=Archivo de emoticonos de Kopete
 Comment[et]=Kopete emotikoniarhiiv
 Comment[eu]=Kopete emoticon artxiboa
-Comment[fa]=بایگانی تصاویر متحرک Kopete‌
+Comment[fa]=بایگانی تصاویر متحرک Kopete
 Comment[fi]=Kopeten hymiöarkisto
 Comment[fr]=Archive d'émoticônes pour Kopete
 Comment[gl]=Arquivo de Emoticonas de Kopete
Index: kopete/kopete/config/accounts/kopete_accountconfig.desktop
===================================================================
--- kopete/kopete/config/accounts/kopete_accountconfig.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/accounts/kopete_accountconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Cuentas
 Name[et]=Kontod
 Name[eu]=Kontuak
-Name[fa]=حسابها‌
+Name[fa]=حسابها
 Name[fi]=Tilit
 Name[fr]=Comptes
 Name[ga]=Cuntais
@@ -79,7 +79,7 @@
 Comment[es]=Gestiona todas sus cuentas
 Comment[et]=Kõigi oma kohtode haldamine
 Comment[eu]=Hemen zure kontu guztiak kudeatu ditzakezu
-Comment[fa]=اینجا می‌توانید همۀ حسابهای خود را مدیریت کنید‌
+Comment[fa]=اینجا می‌توانید همۀ حسابهای خود را مدیریت کنید
 Comment[fi]=Täältä voit hallita kaikkia tilejäsi
 Comment[fr]=Vous pouvez gérer vos comptes ici
 Comment[ga]=Tig leat do chuntais uile a láimhseáil anseo
Index: kopete/kopete/config/appearance/kopete_appearanceconfig.desktop
===================================================================
--- kopete/kopete/config/appearance/kopete_appearanceconfig.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/appearance/kopete_appearanceconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Apariencia
 Name[et]=Välimus
 Name[eu]=Itxura
-Name[fa]=ظاهر‌
+Name[fa]=ظاهر
 Name[fi]=Ulkonäkö
 Name[fr]=Apparence
 Name[ga]=Cuma
@@ -79,7 +79,7 @@
 Comment[es]=Aquí­ puede modificar el aspecto de Kopete
 Comment[et]=Siin saab muuta Kopete väljanägemist
 Comment[eu]=Hemen Kopete-ren itxura eta izaera alda dezakezu
-Comment[fa]=اینجا می‌توانید ویژگیهای ظاهری Kopete را تغییر دهید‌
+Comment[fa]=اینجا می‌توانید ویژگیهای ظاهری Kopete را تغییر دهید
 Comment[fi]=Täältä voit muuttaa Kopeten ulkonäköä ja tuntumaa
 Comment[fr]=Vous pouvez modifier l'apparence et l'ergonomie de Kopete ici
 Comment[gl]=Aquí podes modificar o aspecto de Kopete
Index: kopete/kopete/config/appearance/appearanceconfig.cpp
===================================================================
--- kopete/kopete/config/appearance/appearanceconfig.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/appearance/appearanceconfig.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -771,6 +771,7 @@
 	msgHigh.setImportance( Kopete::Message::Highlight );
 	// This is a UTF-8 string btw.
 	Kopete::Message msgRightToLeft(d->myself, d->jack, i18n("This special UTF-8 string is to test if the style support Right-to-Left language display.", "הודעות טקסט"), Kopete::Message::Outbound);
+	Kopete::Message msgExplanation( d->myself, d->jack, i18n( "That message was in a Right-to-Left language, which Kopete also supports." ), Kopete::Message::Outbound );
 	Kopete::Message msgBye ( d->myself, d->jack,   i18n( "Bye" ), Kopete::Message::Outbound );
 
 	// Add the messages to ChatMessagePart
@@ -783,6 +784,7 @@
 	d->preview->appendMessage(msgAct);
 	d->preview->appendMessage(msgHigh);
 	d->preview->appendMessage(msgRightToLeft);
+	d->preview->appendMessage(msgExplanation);
 	d->preview->appendMessage(msgBye);
 }
 
Index: kopete/kopete/config/behavior/kopete_behaviorconfig.desktop
===================================================================
--- kopete/kopete/config/behavior/kopete_behaviorconfig.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/behavior/kopete_behaviorconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -27,7 +27,7 @@
 Name[es]=Comportamiento
 Name[et]=Käitumine
 Name[eu]=Portaera
-Name[fa]=رفتار‌
+Name[fa]=رفتار
 Name[fi]=Käytös
 Name[fr]=Comportement
 Name[ga]=Oibriú
@@ -81,7 +81,7 @@
 Comment[es]=Aquí­ puede personalizar Kopete
 Comment[et]=Siin saab muuta Kopete just selliseks, nagu sulle meeldib
 Comment[eu]=Hemen Kopete pertsonalizatu dezakezu
-Comment[fa]=اینجا می‌توانید Kopete را شخصی کنید‌
+Comment[fa]=اینجا می‌توانید Kopete را شخصی کنید
 Comment[fi]=Täällä voit yksilöllistää Kopetea
 Comment[fr]=Vous pouvez personnaliser Kopete ici
 Comment[ga]=Tig Leat Kopete a Oiriúnú Duit Féin Anseo
Index: kopete/kopete/config/avdevice/kopete_avdeviceconfig.desktop
===================================================================
--- kopete/kopete/config/avdevice/kopete_avdeviceconfig.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/avdevice/kopete_avdeviceconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -25,7 +25,7 @@
 Name[es]=Dispositivos
 Name[et]=Seadmed
 Name[eu]=Dispositiboak
-Name[fa]=دستگاهها‌
+Name[fa]=دستگاهها
 Name[fi]=Laitteet
 Name[fr]=Périphériques
 Name[ga]=Gléasanna
@@ -76,7 +76,7 @@
 Comment[es]=Aquí­ puede configurar los dispositivos de sonido y audio de Kopete
 Comment[et]=Siin saab muuta Kopete video- ja heliseadmete seadistusi
 Comment[eu]=Hemen Kopete-ren bideo eta audio ezarpenak ezar ditzakezu
-Comment[fa]=اینجا می‌توانید تنظیمات دستگاههای ویدئویی وصوتیKopete را تغییر دهید‌ 
+Comment[fa]=اینجا می‌توانید تنظیمات دستگاههای ویدیویی و صوتیKopete را تغییر دهید
 Comment[fi]=Täältä voit muuttaa Kopeten video- ja äänilaitteiden asetuksia
 Comment[fr]=Vous pouvez modifier ici la configuration des périphériques audio et vidéo de Kopete
 Comment[gl]=Aquí podes modificar as opcións dos dispositivos de video e audio de Kopete
Index: kopete/kopete/config/identity/kopete_identityconfig.desktop
===================================================================
--- kopete/kopete/config/identity/kopete_identityconfig.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/config/identity/kopete_identityconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Name[es]=Identidad
 Name[et]=Identiteet
 Name[eu]=Identitatea
-Name[fa]=هویت‌
+Name[fa]=هویت
 Name[fi]=Identiteetti
 Name[fr]=Identité
 Name[ga]=Aitheantas
@@ -66,7 +66,7 @@
 Comment[es]=Aqui puede gestionar su identidad global
 Comment[et]=Siin saad hallata oma globaalset identiteeti
 Comment[eu]=Hemen zure identitate globala kudea dezakezu
-Comment[fa]=اینجا می‌توانید هویت سراسری خود را مدیریت کنید‌
+Comment[fa]=اینجا می‌توانید هویت سراسری خود را مدیریت کنید
 Comment[fi]=Täältä voit hallita globaalia identiteettiäsi
 Comment[fr]=Vous pouvez gérer ici votre identité principale
 Comment[ga]=Tig Leat d'Aitheantas a Láimhseáil Anseo
Index: kopete/kopete/chatwindow/chatwindow.desktop
===================================================================
--- kopete/kopete/chatwindow/chatwindow.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/chatwindow/chatwindow.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -29,7 +29,7 @@
 Name[es]=Ventana de charla de Kopete
 Name[et]=Kopete vestlusaken
 Name[eu]=Kopete elkarrizketa leihoa
-Name[fa]=پنجرۀ گپ Kopete‌
+Name[fa]=پنجرۀ گپ Kopete
 Name[fi]=Kopeten keskusteluikkuna
 Name[fr]=Fenêtre de discussion de Kopete
 Name[ga]=Fuinneog Chomhrá Kopete
@@ -81,7 +81,7 @@
 Comment[es]=La ventana de charla predeterminada de Kopete
 Comment[et]=Kopete vaikimisi vestlusaken
 Comment[eu]=Kopete elkarrizketa leiho lehenetsia
-Comment[fa]=پنجرۀ پیش‌فرض گپ Kopete‌
+Comment[fa]=پنجرۀ پیش‌فرض گپ Kopete
 Comment[fi]=Kopeten oletuskeskusteluikkuna
 Comment[fr]=La fenêtre de discussion par défaut de Kopete
 Comment[ga]=Fuinneog chomhrá réamhshocruithe Kopete
Index: kopete/kopete/chatwindow/emailwindow.desktop
===================================================================
--- kopete/kopete/chatwindow/emailwindow.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/chatwindow/emailwindow.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -26,7 +26,7 @@
 Name[es]=Ventana de correo de Kopete
 Name[et]=Kopete e-posti aken
 Name[eu]=Kopete elkarrizketa leihoa
-Name[fa]=پنجرۀ رایانامۀ Kopete‌
+Name[fa]=پنجرۀ رایانامۀ Kopete
 Name[fi]=Kopeten sähköposti-ikkuna
 Name[fr]=Fenêtre de courrier électronique Kopete
 Name[ga]=Fuinneog R-Phoist Kopete
@@ -70,7 +70,7 @@
 Comment[es]=La ventana de correo de Kopete
 Comment[et]=Kopete e-posti aken
 Comment[eu]=Kopete elkarrizketa leiho lehenetsia
-Comment[fa]=پنجرۀ رایانامۀ Kopete‌
+Comment[fa]=پنجرۀ رایانامۀ Kopete
 Comment[fi]=Kopeten sähköposti-ikkuna
 Comment[fr]=La fenêtre de courrier électronique de Kopete
 Comment[ga]=An fhuinneog r-phoist Kopete
Index: kopete/kopete/chatwindow/chatmessagepart.cpp
===================================================================
--- kopete/kopete/chatwindow/chatmessagepart.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/chatwindow/chatmessagepart.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -218,7 +218,7 @@
 	d->currentChatStyle = ChatWindowStyleManager::self()->getStyleFromPool( kopetePrefs->stylePath() );
 
 	//Security settings, we don't need this stuff
-	setJScriptEnabled( true ) ;
+	setJScriptEnabled( false ) ;
 	setJavaEnabled( false );
 	setPluginsEnabled( false );
 	setMetaRefreshEnabled( false );
@@ -568,9 +568,23 @@
 {
 	KopetePrefs *p = KopetePrefs::prefs();
 
+	int fontSize = 0;
+	QString fontSizeCss;
+	// Use correct font size unit, depending of how the QFont was build.
+	if( p->fontFace().pointSize() != -1 )
+	{
+		fontSize = p->fontFace().pointSize();
+		fontSizeCss = QString::fromUtf8("%1pt;").arg(fontSize);
+	}
+	else if( p->fontFace().pixelSize() != -1 )
+	{
+		fontSize = p->fontFace().pixelSize();
+		fontSizeCss = QString::fromUtf8("%1px;").arg(fontSize);
+	}
+
 	QString style = QString::fromLatin1(
-		"body{background-color:%1;font-family:%2;font-size:%3pt;color:%4}"
-		"td{font-family:%5;font-size:%6pt;color:%7}"
+		"body{background-color:%1;font-family:%2;font-size:%3;color:%4}"
+		"td{font-family:%5;font-size:%6;color:%7}"
 		"a{color:%8}a.visited{color:%9}"
 		"a.KopeteDisplayName{text-decoration:none;color:inherit;}"
 		"a.KopeteDisplayName:hover{text-decoration:underline;color:inherit}"
@@ -578,10 +592,10 @@
 		".KopeteMessageBody > p:first-child{margin:0;padding:0;display:inline;}" /* some html messages are encapsuled into a <p> */ )
 		.arg( p->bgColor().name() )
 		.arg( p->fontFace().family() )
-		.arg( p->fontFace().pointSize() )
+		.arg( fontSizeCss )
 		.arg( p->textColor().name() )
 		.arg( p->fontFace().family() )
-		.arg( p->fontFace().pointSize() )
+		.arg( fontSizeCss )
 		.arg( p->textColor().name() )
 		.arg( p->linkColor().name() )
 		.arg( p->linkColor().name() );
Index: kopete/kopete/chatwindow/kopetechatwindow.h
===================================================================
--- kopete/kopete/chatwindow/kopetechatwindow.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/chatwindow/kopetechatwindow.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -83,7 +83,7 @@
 	/**
 	 * Returns the number of chat views attached to this window
 	 */
-	const int chatViewCount() { return chatViewList.count(); }
+	int chatViewCount() { return chatViewList.count(); }
 
 	/**
 	 * Returns the chatview in the currently active tab, or the only chat view
Index: kopete/kopete/chatwindow/kopetechatwindowstylemanager.cpp
===================================================================
--- kopete/kopete/chatwindow/kopetechatwindowstylemanager.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/chatwindow/kopetechatwindowstylemanager.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -97,6 +97,10 @@
 void ChatWindowStyleManager::loadStyles()
 {
 	QStringList chatStyles = KGlobal::dirs()->findDirs( "appdata", QString::fromUtf8( "styles" ) );
+        QString localStyleDir( locateLocal( "appdata", QString::fromUtf8("styles/"),true) );
+        if( !chatStyles.contains(localStyleDir))
+                chatStyles<<localStyleDir;
+
 	QStringList::const_iterator it;
 	for(it = chatStyles.constBegin(); it != chatStyles.constEnd(); ++it)
 	{
@@ -283,7 +287,9 @@
 bool ChatWindowStyleManager::removeStyle(const QString &stylePath)
 {
 	// Find for the current style in avaiableStyles map.
-	StyleList::Iterator foundStyle = d->availableStyles.find(stylePath);
+        KURL urlStyle(stylePath);
+	QString styleName=urlStyle.fileName();
+	StyleList::Iterator foundStyle = d->availableStyles.find(styleName);
 	// QMap iterator return end() if it found no item.
 	if(foundStyle != d->availableStyles.end())
 	{
@@ -298,7 +304,7 @@
 		}
 	
 		// Do the actual deletion of the directory style.
-		return KIO::NetAccess::del( KURL(stylePath), 0 );
+		return KIO::NetAccess::del( urlStyle, 0 );
 	}
 	else
 	{
Index: kopete/kopete/Makefile.am
===================================================================
--- kopete/kopete/Makefile.am	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete/Makefile.am	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -9,6 +9,7 @@
 	-I$(kopete_srcdir)/kopete/addcontactwizard \
 	-I$(kopete_srcdir)/kopete/config/accounts \
 	-I$(kopete_builddir)/kopete/addcontactwizard \
+	-I$(kopete_builddir)/libkopete/ \
 	-I$(kopete_srcdir)/libkopete/ui \
 	-I$(kopete_srcdir)/kopete/contactlist \
 	-I$(kopete_builddir)/kopete/contactlist \
Index: kopete/kopete.kdevelop
===================================================================
--- kopete/kopete.kdevelop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/kopete.kdevelop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -12,14 +12,13 @@
     </keywords>
     <projectdirectory>.</projectdirectory>
     <absoluteprojectpath>false</absoluteprojectpath>
-    <description/>
+    <description></description>
     <ignoreparts>
       <part>kdevabbrev</part>
       <part>kdevbookmarks</part>
       <part>kdevsnippet</part>
       <part>kdevdebugger</part>
       <part>kdevdistpart</part>
-      <part>kdevquickopen</part>
     </ignoreparts>
     <secondaryLanguages/>
     <versioncontrol>kdevsubversion</versioncontrol>
@@ -36,7 +35,7 @@
     </groups>
     <tree>
       <hidenonprojectfiles>false</hidenonprojectfiles>
-      <hidepatterns></hidepatterns>
+      <hidepatterns/>
       <showvcsfields>true</showvcsfields>
     </tree>
   </kdevfileview>
@@ -127,16 +126,17 @@
       <abortonerror>true</abortonerror>
       <numberofjobs>1</numberofjobs>
       <dontact>false</dontact>
-      <makebin>make</makebin>
+      <makebin>unsermake --compile-jobs=20</makebin>
       <prio>0</prio>
+      <runmultiplejobs>false</runmultiplejobs>
     </make>
     <general>
       <useconfiguration>default</useconfiguration>
-      <activetarget>libkopete/avdevice/libkopete_videodevice.la</activetarget>
+      <activetarget>protocols/groupwise/kopete_groupwise.la</activetarget>
     </general>
     <run>
       <mainprogram>kopete/kopete</mainprogram>
-      <programargs/>
+      <programargs></programargs>
       <terminal>false</terminal>
       <envvars/>
       <directoryradio>build</directoryradio>
@@ -145,9 +145,9 @@
     </run>
     <configurations>
       <default>
-        <configargs>--enable-debug=full</configargs>
-        <builddir/>
-        <topsourcedir/>
+        <configargs>--enable-debug=full --without-arts --prefix=/space/kde/installs/3_5</configargs>
+        <builddir>/space/kde/builds/3_5/kdenetwork/kopete</builddir>
+        <topsourcedir>/space/kde/sources/3_5/kdenetwork/kopete</topsourcedir>
         <cppflags/>
         <ldflags/>
         <ccompiler>kdevgccoptions</ccompiler>
@@ -205,10 +205,22 @@
       <argumentsHintDelay>100</argumentsHintDelay>
       <automaticHeaderCompletion>true</automaticHeaderCompletion>
       <headerCompletionDelay>250</headerCompletionDelay>
+      <showOnlyAccessibleItems>false</showOnlyAccessibleItems>
+      <completionBoxItemOrder>0</completionBoxItemOrder>
+      <howEvaluationContextMenu>true</howEvaluationContextMenu>
+      <showCommentWithArgumentHint>true</showCommentWithArgumentHint>
+      <statusBarTypeEvaluation>false</statusBarTypeEvaluation>
+      <namespaceAliases>std=_GLIBCXX_STD</namespaceAliases>
+      <processPrimaryTypes>true</processPrimaryTypes>
+      <processFunctionArguments>false</processFunctionArguments>
     </codecompletion>
-    <references/>
+    <references>
+      <pcs>Qt</pcs>
+      <pcs>libkopete</pcs>
+      <pcs>KDElibs</pcs>
+    </references>
     <creategettersetter>
-      <prefixGet/>
+      <prefixGet></prefixGet>
       <prefixSet>set</prefixSet>
       <prefixVariable>m_,_</prefixVariable>
       <parameterName>theValue</parameterName>
@@ -221,6 +233,11 @@
         <implementation class="dlgChatRoomsList" path="protocols/jabber/ui/dlgchatroomslist.ui" implementationpath="protocols/jabber/ui/dlgchatroomslist.h" />
       </qtdesigner>
     </designerintegration>
+    <qt>
+      <used>false</used>
+      <version>3</version>
+      <root>/usr/lib/qt3</root>
+    </qt>
   </kdevcppsupport>
   <kdevcvsservice>
     <recursivewhenupdate>true</recursivewhenupdate>
Index: kopete/libkopete/avdevice/videodevice.h
===================================================================
--- kopete/libkopete/avdevice/videodevice.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/avdevice/videodevice.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -41,6 +41,11 @@
 #define __u64 unsigned long long
 #endif // __u64
 
+#ifndef __s64 //required by videodev.h
+#define __s64 long long
+#endif // __s64
+
+
 #ifndef pgoff_t
 #define pgoff_t unsigned long
 #endif
Index: kopete/libkopete/kopeteutils.cpp
===================================================================
--- kopete/libkopete/kopeteutils.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopeteutils.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -64,7 +64,7 @@
 		QObject::connect( n, SIGNAL(closed()) , NotifyHelper::self() , SLOT( slotEventClosed() ) );
 }
 
-void notifyConnectionLost( const Account *account, const QString caption, const QString message, const QString explanation, const QString debugInfo)
+void notifyConnectionLost( const Account *account, const QString &caption, const QString &message, const QString &explanation, const QString &debugInfo )
 {
 	if (!account)
 		return;
@@ -93,7 +93,7 @@
 	return false; // On error, assume we are online
 }
 
-void notifyCannotConnect( const Account *account, const QString explanation, const QString debugInfo)
+void notifyCannotConnect( const Account *account, const QString &explanation, const QString &debugInfo)
 {
 	if (!account)
 		return;
@@ -101,6 +101,24 @@
 	notify( account->accountIcon(), QString::fromLatin1("cannot_connect"), notifyCannotConnect_DefaultCaption, notifyCannotConnect_DefaultMessage, notifyCannotConnect_DefaultExplanation, debugInfo);
 }
 
+void notifyConnectionError( const Account *account, const QString &caption, const QString &message, const QString &explanation, const QString &debugInfo )
+{
+	if (!account)
+		return;
+
+	// TODO: Display a specific default connection error message, I don't want to introducte too many new strings
+	notify( account->accountIcon(32), QString::fromLatin1("connection_error"), caption, message, explanation, debugInfo);
+}
+
+void notifyServerError( const Account *account, const QString &caption, const QString &message, const QString &explanation, const QString &debugInfo )
+{
+	if (!account)
+		return;
+
+	// TODO: Display a specific default server error message, I don't want to introducte too many new strings
+	notify( account->accountIcon(32), QString::fromLatin1("server_error"), caption, message, explanation, debugInfo);
+}
+
 } // end ns ErrorNotifier
 } // end ns Kopete
 
Index: kopete/libkopete/kopetemessagehandler.cpp
===================================================================
--- kopete/libkopete/kopetemessagehandler.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopetemessagehandler.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -76,7 +76,6 @@
 {
 public:
 	static FactoryList &factories();
-	FactoryList::Iterator iterator;
 };
 
 MessageHandlerFactory::FactoryList &MessageHandlerFactory::Private::factories()
@@ -91,12 +90,12 @@
 MessageHandlerFactory::MessageHandlerFactory()
 	: d( new Private )
 {
-	d->iterator = Private::factories().append(this);
+	Private::factories().append(this);
 }
 
 MessageHandlerFactory::~MessageHandlerFactory()
 {
-	Private::factories().remove( d->iterator );
+	Private::factories().remove( this );
 	delete d;
 }
 
Index: kopete/libkopete/kopetemetacontact.cpp
===================================================================
--- kopete/libkopete/kopetemetacontact.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopetemetacontact.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -687,7 +687,13 @@
 
 QImage MetaContact::photo() const
 {
-	return picture().image();
+  if( picture().image().width() > 96 && picture().image().height() > 96 )
+    {
+      kdDebug( 14010 )  << k_funcinfo << "Resizing image from " << picture().image().width() << " x " << picture().image().height() << endl;
+      return picture().image().smoothScale(96,96,QImage::ScaleMin);
+    }
+  else
+    return picture().image();
 }
 
 Picture &MetaContact::picture() const
Index: kopete/libkopete/kopeteui.desktop
===================================================================
--- kopete/libkopete/kopeteui.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopeteui.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 Comment[es]=Plugin de UI de Kopete
 Comment[et]=Kopete kasutajaliidese plugin
 Comment[eu]=Kopete UI plugin bat
-Comment[fa]=یک وصلۀ شناسۀ کاربر Kopete‌‌
+Comment[fa]=یک وصلۀ شناسۀ کاربر Kopete
 Comment[fi]=Kopeten käyttöliittymäliitännäinen
 Comment[fr]=Un module d'interface utilisateur pour Kopete
 Comment[ga]=Breiseán Chomhéadan Úsáideora Kopete
Index: kopete/libkopete/kopeteutils.h
===================================================================
--- kopete/libkopete/kopeteutils.h	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopeteutils.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -53,10 +53,10 @@
  * explanation, Kopete will use a default explanation.
  */
 void KOPETE_EXPORT notifyConnectionLost( const Account *account,
-                                         const QString caption = QString::null,
-                                         const QString message = QString::null,
-                                         const QString explanation = QString::null,
-                                         const QString debugInfo = QString::null );
+                                         const QString &caption = QString::null,
+                                         const QString &message = QString::null,
+                                         const QString &explanation = QString::null,
+                                         const QString &debugInfo = QString::null );
 
 
 /**
@@ -70,9 +70,44 @@
  * explanation, Kopete will use a default explanation.
  */
 void KOPETE_EXPORT notifyCannotConnect( const Account *account,
-                                        const QString explanation = QString::null,
-                                        const QString debugInfo = QString::null);
+                                        const QString &explanation = QString::null,
+                                        const QString &debugInfo = QString::null);
 
+/**
+ * Notifies the user that an error on a connection occcured without coupling plugins with GUI code.
+ *
+ * @param account The account where the connection error occured and wants to notify the user.
+ * @param caption A brief subject line, used where possible if the presentation allows it.
+ * @param message A short description of the error.
+ * @param explanation A long description on how the error occured and what the user can do about it.
+ * @param debugInfo Debug info that can be sent to the developers or to the network service owners.
+ *
+ * You can not provide debugInfo without an user explanation. If you don't provide a caption, message, or
+ * explanation, Kopete will use a default explanation.
+ */
+void KOPETE_EXPORT notifyConnectionError( const Account *account,
+                                          const QString &caption = QString::null,
+                                          const QString &message = QString::null,
+                                          const QString &explanation = QString::null,
+                                          const QString &debugInfo = QString::null );
+
+/**
+ * Notifies the user that an error on the server occcured without coupling plugins with GUI code.
+ *
+ * @param account The account where the server error occured and wants to notify the user.
+ * @param caption A brief subject line, used where possible if the presentation allows it.
+ * @param message A short description of the error.
+ * @param explanation A long description on how the error occured and what the user can do about it.
+ * @param debugInfo Debug info that can be sent to the developers or to the network service owners.
+ *
+ * You can not provide debugInfo without an user explanation. If you don't provide a caption, message, or
+ * explanation, Kopete will use a default explanation.
+ */
+void KOPETE_EXPORT notifyServerError( const Account *account,
+                                      const QString &caption = QString::null,
+                                      const QString &message = QString::null,
+                                      const QString &explanation = QString::null,
+                                      const QString &debugInfo = QString::null );
 } // end ns Utils
 } // end ns Kopete
 
Index: kopete/libkopete/kopeteprotocol.desktop
===================================================================
--- kopete/libkopete/kopeteprotocol.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopeteprotocol.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
 Comment[es]=Plugin de protocolo de Kopete
 Comment[et]=Kopete protokolliplugin
 Comment[eu]=Kopete protocolo plugin-a
-Comment[fa]=وصلۀ قرارداد Kopete‌‌
+Comment[fa]=وصلۀ قرارداد Kopete
 Comment[fi]=Kopeten yhteyskäytäntöliitännäinen
 Comment[fr]=Module de protocole pour Kopete
 Comment[ga]=Breiseán Phrótacal Kopete
Index: kopete/libkopete/ui/userinfodialog.cpp
===================================================================
--- kopete/libkopete/ui/userinfodialog.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/ui/userinfodialog.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -196,6 +196,7 @@
 		text.append( d->info + "</div><br>" );
 	}
 */
+	d->htmlPart->setOnlyLocalReferences( true );
 	d->htmlPart->begin();
 	d->htmlPart->write( text );
 	d->htmlPart->end();
Index: kopete/libkopete/kopeteplugin.desktop
===================================================================
--- kopete/libkopete/kopeteplugin.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kopete/libkopete/kopeteplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -19,7 +19,7 @@
 Comment[es]=Plugin de KDE
 Comment[et]=Kopete plugin
 Comment[eu]=Kopete plugin-a
-Comment[fa]=Kopete وصلۀ‌
+Comment[fa]=Kopete وصلۀ
 Comment[fi]=Kopete-liitännäinen
 Comment[fr]=Module de Kopete
 Comment[ga]=Breiseán Kopete
Index: knewsticker/kntsrcfilepropsdlg/kntsrcfilepropsdlg.desktop
===================================================================
--- knewsticker/kntsrcfilepropsdlg/kntsrcfilepropsdlg.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ knewsticker/kntsrcfilepropsdlg/kntsrcfilepropsdlg.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -18,7 +18,7 @@
 Name[es]=Página de propiedades de archivos fuente de KNewsticker
 Name[et]=KNewstickeri lähtefaili omaduste dialoog
 Name[eu]=KNewsticker iturburu fitxategiaren propietateen orria
-Name[fa]=صفحۀ ویژگیهای پروندۀ مبدا KNewsticker‌
+Name[fa]=صفحۀ ویژگیهای پروندۀ مبدأ KNewsticker
 Name[fi]=KNewsticker lähdetiedostojen asetussivu
 Name[fr]=Page des propriétés du fichier source de KNewsTicker
 Name[gl]=Páxina de propiedades dos arquivos fonte de KNewsTicker
Index: knewsticker/knewsticker-standalone.desktop
===================================================================
--- knewsticker/knewsticker-standalone.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ knewsticker/knewsticker-standalone.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -11,7 +11,6 @@
 Name[lv]=KZiņuTikkers
 Name[nb]=Nyhetstelegraf
 Name[nso]=Seswai sa KDitaba
-Name[pl]=News Ticker
 Name[pt_BR]=Mostrador de Notícias
 Name[sv]=Knewsticker
 Name[ta]=கேசெய்தி அறிவிப்பான்
@@ -42,7 +41,7 @@
 GenericName[es]=Teletipo de noticias
 GenericName[et]=Uudiste jälgija
 GenericName[eu]=Berri markatzailea
-GenericName[fa]=تیکر اخبار‌
+GenericName[fa]=تیکر اخبار
 GenericName[fi]=Uutisnäyttäjä
 GenericName[fr]=Téléscripteur
 GenericName[gl]=Teletipo de noticias
Index: knewsticker/knewstickerstub/knewstickerstub.desktop
===================================================================
--- knewsticker/knewstickerstub/knewstickerstub.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ knewsticker/knewstickerstub/knewstickerstub.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -12,7 +12,7 @@
 Name[es]=Interfaz de configuración de KNewsTicker
 Name[et]=Uudistejälgija seadistamine
 Name[eu]=KNewsTicker konfigurazio interfazea
-Name[fa]=پیکر بندی پایانه KNewsTicker‌
+Name[fa]=پایانۀ پیکربندی KNewsTicker
 Name[fi]=KNewsTickerin asetusten käyttöliittymä
 Name[fr]=Interface pour la configuration du téléscripteur
 Name[gl]=Interface de Configuración de KNewsTicker
@@ -28,7 +28,7 @@
 Name[nds]=KNewsTicker-Inrichten
 Name[nl]=KNewsTicker configuratie-interface
 Name[nn]=Oppsett av KNewsTicker
-Name[pl]=Interfejs konfiguracji KNewsTicker
+Name[pl]=Interfejs konfiguracji KNewsTickera
 Name[pt]=Configuração das Notícias
 Name[pt_BR]=Interface de configuração do KNewsTicker
 Name[ro]=Interfaţă configurare Ştiri Internet
@@ -63,7 +63,7 @@
 Comment[es]=Un interfaz para la configuración de KNewsTicker
 Comment[et]=Uudistejälgija seadistamise kasutajaliides
 Comment[eu]=KNewsTicker konfigurazioaren interfazea
-Comment[fa]=یک پایانه برای پیکربندی KNewsTicker‌
+Comment[fa]=یک پایانه برای پیکربندی KNewsTicker
 Comment[fi]=Käyttöliittymä KNewsTicker-asetuksiin
 Comment[fr]=Interface pour la configuration de KNewsTicker
 Comment[ga]=Comhéadan le haghaidh chumraíocht KNewsTicker
@@ -117,7 +117,7 @@
 Type=Application
 Terminal=false
 InitialPreference=8
-Actions=Add
+Actions=Add;
 X-KDE-StartupNotify=false
 
 [Desktop Action Add]
@@ -140,7 +140,7 @@
 Name[es]=Usar con KNewsTicker
 Name[et]=Kasutamine KNewsTickeriga
 Name[eu]=Erabili KNewsTicker-ekin
-Name[fa]=استفاده با KNewsTicker‌
+Name[fa]=استفاده با KNewsTicker
 Name[fi]=Käytä KNewsTicker-ohjelman kanssa
 Name[fr]=Utiliser avec KNewsTicker
 Name[gl]=Usar con KNewsTicker
@@ -165,7 +165,7 @@
 Name[nl]=Gebruik met KNewsTicker
 Name[nn]=Bruk med KNewsTicker
 Name[nso]=Somisa le Seswai sa KDitaba
-Name[pl]=Użyj za pomocą KNewsTicker
+Name[pl]=Użyj za pomocą KNewsTickera
 Name[pt]=Usar com as Notícias
 Name[pt_BR]=Usar com KNewsTicker
 Name[ro]=Utilizează cu Ştiri Internet
Index: knewsticker/eventsrc
===================================================================
--- knewsticker/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ knewsticker/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -18,7 +18,7 @@
 Comment[es]=Teletipo de noticias
 Comment[et]=Uudiste jälgija
 Comment[eu]=Berri markatzailea
-Comment[fa]=تیکر اخبار‌‌
+Comment[fa]=تیکر اخبار
 Comment[fi]=Uutisnäyttäjä
 Comment[fr]=Téléscripteur
 Comment[gl]=Teletipo
@@ -83,11 +83,11 @@
 Name[es]=Nuevas noticias disponibles
 Name[et]=Uus uudis
 Name[eu]=Azken berriak eskuragarri
-Name[fa]=خبرهای جدید دست یافتنی
+Name[fa]=خبرهای جدید در دسترس
 Name[fi]=Uutisia saatavilla
 Name[fr]=Des nouvelles sont arrivées
 Name[ga]=Nuacht Nua ar Fáil
-Name[gl]=Novas noticias dispoñíbeis
+Name[gl]=Novas noticias dispoñibles
 Name[he]=ישנן חדשות זמינות
 Name[hi]=नया समाचार उपलब्ध
 Name[hr]=Novosti su raspoložive
@@ -148,11 +148,11 @@
 Comment[es]=Hay nuevas noticias disponibles
 Comment[et]=Uusi uudiseid pole
 Comment[eu]=Azken berriak eskuragarri
-Comment[fa]=اخبار جدید دست یافتنی است‌
+Comment[fa]=اخبار جدید در دسترس است
 Comment[fi]=Uutisia saatavilla
 Comment[fr]=De nouvelles informations sont arrivées.
 Comment[ga]=Tá nuacht nua ar fáil
-Comment[gl]=Hai novas noticias dispoñíbeis
+Comment[gl]=Hai novas noticias dispoñibles
 Comment[he]=ישנן חדשות זמינות
 Comment[hi]=वहाँ नया समाचार उपलब्ध है
 Comment[hr]=Postoje nove novosti
@@ -219,7 +219,7 @@
 Name[es]=Archivo RDF no válido
 Name[et]=Vigane RDF-fail
 Name[eu]=RDF fitxategia baliogabea da
-Name[fa]=پروندۀ RDF نامعتبر‌
+Name[fa]=پروندۀ RDF نامعتبر
 Name[fi]=Virheellinen RDF-tiedosto
 Name[fr]=Fichier RDF non valable
 Name[ga]=Comhad RDF Neamhbhailí
@@ -280,7 +280,7 @@
 Comment[es]=El archivo RDF descargado no se pudo analizar
 Comment[et]=Allalaaditud RDF-faili pole võimalik parsida
 Comment[eu]=Deskargatutako RDF fitxategia ezin izan da aztertu
-Comment[fa]=پروندۀ بارگیری شدۀ RDF نتوانست تجزیه شود‌
+Comment[fa]=پروندۀ بارگیری‌شدۀ RDF نتوانست تجزیه شود
 Comment[fi]=Haettua RDF-tiedostoa ei saatu jäsennettyä
 Comment[fr]=Le fichier RDF téléchargé n'a pas pu être analysé
 Comment[ga]=Ní féidir an comhad RDF íosluchtaithe a pharsáil
Index: knewsticker/knewsticker.desktop
===================================================================
--- knewsticker/knewsticker.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ knewsticker/knewsticker.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -14,7 +14,7 @@
 Name[eo]=Novaĵprezentilo
 Name[et]=Uudiste jälgija
 Name[eu]=Berri-markatzailea
-Name[fa]=تیکر اخبار‌
+Name[fa]=تیکر اخبار
 Name[fr]=Téléscripteur de nouvelles
 Name[gl]=Visor de Novas
 Name[he]=צג חדשות
@@ -36,6 +36,7 @@
 Name[nso]=Seswai sa Ditaba
 Name[pt]=Extractor de Notícias
 Name[pt_BR]=Mostrador de Notícias
+Name[ru]=Монитор новостей
 Name[sk]=Sledovač správ
 Name[sl]=Prikazovalnik novic
 Name[sv]=Nyhetsläsare
@@ -63,7 +64,7 @@
 Comment[es]=Teletipo de noticias RDF
 Comment[et]=RDF uudiste jälgija
 Comment[eu]=RDF berri-markatzailea
-Comment[fa]=یک لغزاندن تیکر اخبار  RDF‌
+Comment[fa]=یک لغزاندن تیکر اخبار RDF
 Comment[fi]=Skrollaava RDF-uutisnäyttäjä
 Comment[fr]=Défilement de nouvelles RDF
 Comment[gl]=Un visor de novas RDF deslizante
Index: kget/kget_plug_in/kget_plug_in.desktop
===================================================================
--- kget/kget_plug_in/kget_plug_in.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/kget_plug_in/kget_plug_in.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -28,13 +28,13 @@
 Comment[ca]=Gestor de descàrregues
 Comment[cs]=Správce stahování
 Comment[cy]=Trefnydd Lawrlwytho
-Comment[da]=Håndtering af nedtagninger
+Comment[da]=Håndtering af download
 Comment[de]=Herunterladen von Dateien
 Comment[el]=Διαχειριστής λήψεων αρχείων
 Comment[es]=Gestor de descargas
 Comment[et]=Allalaadimiste haldur
 Comment[eu]=Deskarga kudeatzailea
-Comment[fa]=مدیر بارگیری‌
+Comment[fa]=مدیر بارگیری
 Comment[fi]=Tiedostonlataaja
 Comment[fr]=Gestionnaire de téléchargements
 Comment[ga]=Bainisteoir Íosluchtaithe
Index: kget/kget_plug_in/kget_linkview.cpp
===================================================================
--- kget/kget_plug_in/kget_linkview.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/kget_plug_in/kget_linkview.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,9 +1,12 @@
 #include "kget_linkview.h"
 
+#include <qlayout.h>
+
 #include <dcopclient.h>
 #include <kaction.h>
 #include <kapplication.h>
 #include <kiconloader.h>
+#include <klistviewsearchline.h>
 #include <klocale.h>
 #include <kmessagebox.h>
 #include <kprocess.h>
@@ -52,7 +55,11 @@
     toolBar()->insertLineSeparator();
     actionSelectAll->plug( toolBar() );
 
-    m_view = new KListView( this, "listview" );
+    QWidget *mainWidget = new QWidget( this );
+    QVBoxLayout *layout = new QVBoxLayout( mainWidget );
+    setCentralWidget( mainWidget );
+
+    m_view = new KListView( mainWidget, "listview" );
     m_view->setSelectionMode( QListView::Extended );
     m_view->addColumn( i18n("File Name") );
     m_view->addColumn( i18n("Description") );
@@ -60,7 +67,9 @@
     m_view->addColumn( i18n("Location (URL)") );
     m_view->setShowSortIndicator( true );
 
-    setCentralWidget( m_view );
+    KListViewSearchLineWidget *line = new KListViewSearchLineWidget( m_view, mainWidget, "search line" );
+    layout->addWidget( line );
+    layout->addWidget( m_view );
 
     // setting a fixed (not floating) toolbar
     toolBar()->setMovingEnabled( false );
Index: kget/kget.desktop
===================================================================
--- kget/kget.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/kget.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,13 +24,13 @@
 GenericName[ca]=Gestor de descàrregues
 GenericName[cs]=Správce stahování
 GenericName[cy]=Rheolydd Lawrlwytho
-GenericName[da]=Håndtering af nedtagninger
+GenericName[da]=Håndtering af download
 GenericName[de]=Datentransfer-Verwaltung
 GenericName[el]=Διαχειριστής λήψεων αρχείων
 GenericName[es]=Gestor de descargas
 GenericName[et]=Allalaadimiste haldur
 GenericName[eu]=Deskarga kudeatzailea
-GenericName[fa]=مدیر بارگیری‌
+GenericName[fa]=مدیر بارگیری
 GenericName[fi]=Tiedostonlataaja
 GenericName[fr]=Gestionnaire de téléchargements
 GenericName[ga]=Bainisteoir Thíosluchtaithe
Index: kget/x-kgetlist.desktop
===================================================================
--- kget/x-kgetlist.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/x-kgetlist.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -10,14 +10,14 @@
 Comment[ca]=Llista de descàrrega del Kget
 Comment[cs]=Seznam stahování KGet
 Comment[cy]=Rhestr Lawrlwytho KNôl
-Comment[da]=KGet-nedtagningsliste
+Comment[da]=KGet-download-liste
 Comment[de]=Kget Dateiliste zum Herunterladen
 Comment[el]=Λίστα λήψεων αρχείων του Kget
 Comment[eo]=Kget Deŝutolisto
 Comment[es]=Lista de descarga de KGet
 Comment[et]=KGeti allalaadimise nimekiri
 Comment[eu]=Kget deskargatzeko zerrenda
-Comment[fa]=فهرست بارگیری Kget‌
+Comment[fa]=فهرست بارگیری Kget
 Comment[fi]=Kget-hakulista
 Comment[fr]=Liste de téléchargement de KGet
 Comment[ga]=Liosta Thíosluchtaithe Kget
Index: kget/kget_download.desktop
===================================================================
--- kget/kget_download.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/kget_download.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -21,7 +21,7 @@
 Name[es]=Descarga con KGet
 Name[et]=Laadi alla KGeti abil
 Name[eu]=Deskargatu KGet-ekin
-Name[fa]=بارگیری با KGet‌
+Name[fa]=بارگیری با KGet
 Name[fi]=Hae KGet ohjelmalla
 Name[fr]=Télécharger avec KGet
 Name[ga]=Íosluchtaigh le KGet
Index: kget/eventsrc
===================================================================
--- kget/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kget/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -2,7 +2,6 @@
 IconName=kget
 Comment=KGet
 Comment[bn]=কে-গেট
-Comment[fa]=KGet‌
 Comment[sv]=Kget
 
 [added]
@@ -14,7 +13,7 @@
 Name[es]=TransferenciaAñadida
 Name[et]=Ülekanne lisatud
 Name[eu]=DeskargaGehituta
-Name[fa]=انتقال افزوده‌
+Name[fa]=انتقال افزوده
 Name[fi]=SiirtoLisätty
 Name[fr]=Transfert ajouté
 Name[gl]=TransferenciaEngadida
@@ -44,13 +43,13 @@
 Comment[bs]=Dodan je novi download
 Comment[ca]=S'ha afegit una descàrrega nova
 Comment[cs]=Byl přidán nový přenos
-Comment[da]=En ny nedtagning er blevet tilføjet
+Comment[da]=En ny download er blevet tilføjet
 Comment[de]=Ein neuer Transfer wurde hinzugefügt
 Comment[el]=Προστέθηκε μια νέα λήψη αρχείου
 Comment[es]=Se ha añadido una nueva descarga
 Comment[et]=Lisati uus allalaadimine
 Comment[eu]=Deskarga berri bat gehitu da
-Comment[fa]=یک باگیری جدید اضافه شد‌
+Comment[fa]=بارگیری جدیدی اضافه شده است
 Comment[fi]=Uusi tiedoston haku lisätty
 Comment[fr]=Un nouveau téléchargement a été ajouté
 Comment[gl]=Engadiuse unha nova descarga
@@ -94,7 +93,7 @@
 Name[es]=DescargaComenzada
 Name[et]=Allalaadimine alustatud
 Name[eu]=DeskargaHasita
-Name[fa]=آغاز بارگیری‌
+Name[fa]=آغاز بارگیری
 Name[fi]=HakuAlkoi
 Name[fr]=Téléchargement démarré
 Name[gl]=DescargaComezada
@@ -128,13 +127,13 @@
 Comment[bs]=Pokrenut download
 Comment[ca]=S'ha iniciat la descàrrega
 Comment[cs]=Bylo zahájeno stahování
-Comment[da]=Nedtagning startet
+Comment[da]=Download startet
 Comment[de]=Herunterladen gestartet
 Comment[el]=Η λήψη των αρχείων ξεκίνησε
 Comment[es]=Una descarga comenzó
 Comment[et]=Allalaadimine alustatud
 Comment[eu]=Deskarga hasi da
-Comment[fa]=بارگیری آغاز شد‌
+Comment[fa]=بارگیری آغاز شد
 Comment[fi]=Tiedoston hakeminen alkoi
 Comment[fr]=Téléchargement démarré
 Comment[gl]=Comezou a descarga
@@ -178,7 +177,7 @@
 Name[es]=DescargaAcabada
 Name[et]=Allalaadimine lõpetatud
 Name[eu]=DeskargaAmaituta
-Name[fa]=پایان بارگیری‌
+Name[fa]=پایان بارگیری
 Name[fi]=HakuValmistui
 Name[fr]=Téléchargement terminé
 Name[gl]=DescargaRematada
@@ -212,13 +211,13 @@
 Comment[bs]=Završen download
 Comment[ca]=Ha acabat la descàrrega
 Comment[cs]=Stahování bylo dokončeno
-Comment[da]=Nedtagning afsluttet
+Comment[da]=Download afsluttet
 Comment[de]=Herunterladen abgeschlossen
 Comment[el]=Η λήψη των αρχείων ολοκληρώθηκε
 Comment[es]=Una descarga acabó
 Comment[et]=Allalaadimine lõpetatud
 Comment[eu]=Deskarga amaitu da
-Comment[fa]=بارگیری پایان یافت‌
+Comment[fa]=بارگیری پایان یافت
 Comment[fi]=Tiedoston haku valmistui
 Comment[fr]=Téléchargement terminé
 Comment[gl]=Rematou a descarga
@@ -260,7 +259,7 @@
 Name[es]=AñadirDescargasAcabadas
 Name[et]=Kõik allalaadimised lõpetatud
 Name[eu]=GehituDeskargakAmaituta
-Name[fa]=پایان بارگیریهای افزوده‌
+Name[fa]=پایان بارگیریهای افزوده
 Name[fi]=LisääHautValmistui
 Name[fr]=Téléchargements ajoutés terminés
 Name[hu]=FelvettLetöltésBefejeződött
@@ -289,13 +288,13 @@
 Comment[bs]=Završeni svi downloadi
 Comment[ca]=Han acabat totes les descàrregues
 Comment[cs]=Všechna stahování byla dokončena
-Comment[da]=Alle nedtagninger afsluttet
+Comment[da]=Alle download afsluttet
 Comment[de]=Alle Datentransfers sind abgeschlossen
 Comment[el]=Ολοκληρώθηκαν όλες οι λήψεις
 Comment[es]=Todas las descargas acabaron
 Comment[et]=Kõik allalaadimised lõpetatud
 Comment[eu]=Deskarga guztiak amaituta
-Comment[fa]=همۀ بارگیریها پایان یافت‌
+Comment[fa]=همۀ بارگیریها پایان یافت
 Comment[fi]=Kaikki tiedostojen haut ovat valmistuneet
 Comment[fr]=Tous les téléchargements sont terminés
 Comment[gl]=Tódalas descargar están rematadas
Index: filesharing/advanced/kcm_sambaconf/kcmsambaconf.desktop
===================================================================
--- filesharing/advanced/kcm_sambaconf/kcmsambaconf.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ filesharing/advanced/kcm_sambaconf/kcmsambaconf.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -27,7 +27,7 @@
 Comment[es]=Un modulo para configurar recursos compartidos de Microsoft Windows
 Comment[et]=Microsoft Windowsi jagatud ressursside seadistusmoodul
 Comment[eu]=Microsoft Windows-en partekatzeak konfiguratzeko modulu bat
-Comment[fa]=یک پیمانه جهت پیکربندی مشترکات برای میکروسافت ویندوز‌
+Comment[fa]=یک پیمانه جهت پیکربندی مشترکات برای میکروسافت ویندوز
 Comment[fi]=Moduli Microsoft Windows jakojen asetuksiin
 Comment[fr]=Un module permettant de configurer les partages Microsoft Windows
 Comment[gl]=Un módulo para configurar comparticións con Microsoft Windows
@@ -63,7 +63,7 @@
 Keywords[de]=KcmSambaConf,kcmsambaconf,samba,windows,freigabe
 Keywords[et]=KcmSambaConf,kcmsambaconf,samba,windows,jagatud ressursid
 Keywords[eu]=KcmSambaConf,kcmsambaconf,samba,windows,partekatze
-Keywords[fa]=KcmSambaConf,kcmsambaconf,samba,وویندوز،مشترک‌
+Keywords[fa]=KcmSambaConf، kcmsambaconf، samba، ویندوز، مشترک
 Keywords[fi]=KcmSambaConf,kcmsambaconf,samba,windows,jako
 Keywords[fr]=KcmSambaConf,kcmsambaconf,samba,windows,partage
 Keywords[gl]=KcmSambaConf,kcmsambaconf,samba,widows,compartir
Index: filesharing/advanced/kcm_sambaconf/Makefile.am
===================================================================
--- filesharing/advanced/kcm_sambaconf/Makefile.am	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ filesharing/advanced/kcm_sambaconf/Makefile.am	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,24 +1,24 @@
 KDE_ICON = AUTO
 noinst_LTLIBRARIES = libfilesharesamba.la
-kde_module_LTLIBRARIES = libkcm_kcmsambaconf.la 
+kde_module_LTLIBRARIES = kcm_kcmsambaconf.la 
 
 AM_CPPFLAGS = $(all_includes)
 METASOURCES=AUTO
 
-libkcm_kcmsambaconf_la_SOURCES = \
+kcm_kcmsambaconf_la_SOURCES = \
       kcminterface.ui \
       kcmprinterdlg.ui \
       printerdlgimpl.cpp \
       kcmsambaconf.cpp \
       joindomaindlg.ui 
-libkcm_kcmsambaconf_la_COMPILE_FIRST = usertab.h share.h
+kcm_kcmsambaconf_la_COMPILE_FIRST = usertab.h share.h
       
 
-libkcm_kcmsambaconf_la_LIBADD = \
+kcm_kcmsambaconf_la_LIBADD = \
       -lkdeprint \
       libfilesharesamba.la
       
-libkcm_kcmsambaconf_la_LDFLAGS = $(all_libraries) -module $(KDE_PLUGIN)
+kcm_kcmsambaconf_la_LDFLAGS = $(all_libraries) -module $(KDE_PLUGIN)
 
 libfilesharesamba_la_SOURCES = \
     sambafile.cpp \
Index: filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop
===================================================================
--- filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -14,7 +14,7 @@
 Name[es]=Página de propiedades del directorio para compartir archivos de Konqueror
 Name[et]=Failijagamise Konquerori kataloogi omaduste lehekülg
 Name[eu]=Fitxategiak partekatzeko Konqueror direktorio propietateen orria 
-Name[fa]=صفحۀ ویژگیهای فهرست راهنمای اشتراک پروندۀ Konqueror‌
+Name[fa]=صفحۀ ویژگیهای فهرست راهنمای اشتراک پروندۀ Konqueror
 Name[fi]=Konquerorin tiedostojakojen ominaisuussivu
 Name[fr]=Page des propriétés d'un dossier de partage de Konqueror
 Name[gl]=Páxina coas Propiedades do Directorio de Ficheiros Compartidos de Konqueror
@@ -59,7 +59,7 @@
 Comment[es]=Diálogo de propiedades del plugin de Konqueror para compartir un directorio con la red local
 Comment[et]=Konquerori omaduste dialoogi plugin kataloogi jagamiseks kohtvõrgus
 Comment[eu]=Konqueror-en propietateen elkarrizketa-koadro plugina direktorio bat sare lokalean partekatzeko
-Comment[fa]= ویژگیهای وصلۀ محاورۀ Konqueror برای اشتراک یک فهرست راهنما با یک شبکۀ محلی‌
+Comment[fa]=ویژگیهای وصلۀ محاورۀ Konqueror برای اشتراک فهرست راهنما با شبکۀ محلی
 Comment[fi]=Konqueroroin laajennus, jolla voi jakaa kansioita lähiverkossa
 Comment[fr]=Module de Konqueror pour le partage d'un dossier sur le réseau local
 Comment[gl]=Diálogo de propiedades do plugin de Konqueror para compartir coa rede local
Index: filesharing/simple/fileshare.cpp
===================================================================
--- filesharing/simple/fileshare.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ filesharing/simple/fileshare.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -393,7 +393,7 @@
   
   QListViewItem* item;
   for ( item = items.first(); item; item = items.next() ) {
-      files.append(new KFileItem(KURL(items.first()->text(0)),"",0));
+      files.append(new KFileItem(KURL::fromPathOrURL(item->text(0)),"",0));
   }
   
   showShareDialog(files);
Index: filesharing/simple/fileshare.desktop
===================================================================
--- filesharing/simple/fileshare.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ filesharing/simple/fileshare.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,7 +23,7 @@
 Name[es]=Compartir ficheros
 Name[et]=Failijagamine
 Name[eu]=Fitxategi partekatzea
-Name[fa]=اشتراک پرونده‌
+Name[fa]=اشتراک پرونده
 Name[fi]=Tiedostojen jakaminen
 Name[fr]=Partage de fichiers
 Name[ga]=Roinnt na gComhad
@@ -73,7 +73,7 @@
 Comment[es]=Habilitar o deshabilitar el compartir archivos
 Comment[et]=Failide jagamise lubamine või keelamine
 Comment[eu]=Gaitu edo ezgaitu fitxategi partekatzea
-Comment[fa]=فعال یا غیرفعال کردن اشتراک پرونده‌
+Comment[fa]=فعال یا غیرفعال‌سازی اشتراک پرونده
 Comment[fi]=Ota tiedostojen jakaminen käyttöön tai pois käytöstä
 Comment[fr]=Activer ou désactiver le partage de fichiers
 Comment[gl]=Habilitar ou deshabilitar a compartición de fichieros
@@ -103,7 +103,7 @@
 Comment[ta]=கோப்பு பகிர்வை செயல்படுத்து அல்லது செயல்நீக்கு
 Comment[tg]=Фаъол сохтан ё хомӯш кардани истифобадарии муштараки файлҳо
 Comment[tr]=Dosya paylaşımını etkinleştir/kapat
-Comment[uk]=Ввімкання або вимикання спільного доступу до файлів
+Comment[uk]=Увімкнення або вимикання спільного доступу до файлів
 Comment[zh_CN]=启用或禁用文件共享
 Comment[zh_HK]=啟用或停用檔案分享
 Comment[zh_TW]=開啟或關閉檔案分享
@@ -119,7 +119,7 @@
 Keywords[el]=Κοινόχρηστο
 Keywords[es]=Compartir
 Keywords[et]=Jagamine
-Keywords[fa]=مشترک‌
+Keywords[fa]=مشترک
 Keywords[fi]=Jakaminen,Jako
 Keywords[fr]=partage
 Keywords[gl]=Compartir
Index: kdict/applet/kdictapplet.desktop
===================================================================
--- kdict/applet/kdictapplet.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdict/applet/kdictapplet.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 Comment[es]=Busca expresiones en un diccionario
 Comment[et]=Fraaside otsimine sõnaraamatust
 Comment[eu]=Bilatu esaldiak hiztegi batean
-Comment[fa]=مراجعه به واژه‌نامه برای عبارات‌
+Comment[fa]=مراجعه به واژه‌نامه برای عبارتها
 Comment[fi]=Hae lauseita sanakirjasta
 Comment[fr]=Recherche de phrases dans un dictionnaire
 Comment[ga]=Cuardaigh frásaí i bhfoclóir
@@ -85,7 +85,7 @@
 Name[es]=Diccionario
 Name[et]=Sõnaraamat
 Name[eu]=Hiztegia
-Name[fa]=واژه‌نامه‌
+Name[fa]=واژه‌نامه
 Name[fi]=Sanakirja
 Name[fr]=Dictionnaire
 Name[ga]=Foclóir
Index: kdict/kdict.desktop
===================================================================
--- kdict/kdict.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kdict/kdict.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -23,7 +23,7 @@
 Name[es]=Diccionario
 Name[et]=Sõnaraamat
 Name[eu]=Hiztegia
-Name[fa]=واژه‌نامه‌
+Name[fa]=واژه‌نامه
 Name[fi]=Sanakirja
 Name[fr]=Dictionnaire
 Name[ga]=Foclóir
@@ -90,7 +90,7 @@
 GenericName[es]=Diccionario en lí­nea
 GenericName[et]=Võrgusõnaraamat
 GenericName[eu]=On line hiztegia
-GenericName[fa]=واژه‌نامۀ برخط‌
+GenericName[fa]=واژه‌نامۀ برخط
 GenericName[fi]=Sanakirja
 GenericName[fr]=Dictionnaire électronique
 GenericName[ga]=Foclóir ar líne
Index: wifi/kwireless/kwireless.desktop
===================================================================
--- wifi/kwireless/kwireless.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/kwireless/kwireless.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -14,7 +14,7 @@
 Comment[es]=Muestra información acerca de los dispositivos de la red inalámbrica
 Comment[et]=Näitab infot traadita võrgu seadmete kohta
 Comment[eu]=Kablerik gabeko sare gailuen informazioa erakusten du
-Comment[fa]=اطلاعات دربارۀ دستگاههای  شبکۀ بی سیم را نمایش می‌دهد‌
+Comment[fa]=اطلاعاتی دربارۀ دستگاههای شبکۀ بی‌سیم را نمایش می‌دهد
 Comment[fi]=Tietoja langattoman verkon laitteista
 Comment[fr]=Affiche des informations sur les périphériques réseau sans fil
 Comment[gl]=Información sobre os dispositivos de rede inalámbirca
@@ -66,7 +66,7 @@
 Name[es]=Información de red inalámbrica
 Name[et]=Traadita võrgu info
 Name[eu]=Kablerik gabeko sarearen informazioa
-Name[fa]=اطلاعات شبکۀ بی سیم‌
+Name[fa]=اطلاعات شبکۀ بی‌سیم
 Name[fi]=Langattoman verkon tiedot
 Name[fr]=Informations sur le réseau sans fil
 Name[ga]=Eolas faoi Ghréasán gan sreang
Index: wifi/kcmwifi/ifconfigpagebase.ui
===================================================================
--- wifi/kcmwifi/ifconfigpagebase.ui	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/kcmwifi/ifconfigpagebase.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -8,336 +8,451 @@
         <rect>
             <x>0</x>
             <y>0</y>
-            <width>631</width>
-            <height>265</height>
+            <width>626</width>
+            <height>242</height>
         </rect>
     </property>
     <grid>
         <property name="name">
             <cstring>unnamed</cstring>
         </property>
-        <widget class="QCheckBox" row="6" column="0" rowspan="1" colspan="3">
+        <widget class="QLayoutWidget" row="0" column="0">
             <property name="name">
-                <cstring>cb_useCrypto</cstring>
+                <cstring>layout16</cstring>
             </property>
-            <property name="text">
-                <string>Use encryption</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Enables WEP encryption.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QLabel">
+                    <property name="name">
+                        <cstring>lb_netName</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Network name:</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>SSID of the network to connect to. "any" means "arbitrary available network".</string>
+                    </property>
+                </widget>
+                <widget class="KLineEdit">
+                    <property name="name">
+                        <cstring>le_networkName</cstring>
+                    </property>
+                </widget>
+                <widget class="QLabel">
+                    <property name="name">
+                        <cstring>lb_ifName</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Interface:</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>SSID of the network to connect to. "any" means "arbitrary available network".</string>
+                    </property>
+                </widget>
+                <widget class="QLineEdit">
+                    <property name="name">
+                        <cstring>le_interface</cstring>
+                    </property>
+                    <property name="enabled">
+                        <bool>false</bool>
+                    </property>
+                </widget>
+                <widget class="QCheckBox">
+                    <property name="name">
+                        <cstring>cb_Autodetect</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Autodetect</string>
+                    </property>
+                    <property name="checked">
+                        <bool>true</bool>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer16</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>226</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <spacer row="6" column="5" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="4" column="0">
             <property name="name">
-                <cstring>spacer5</cstring>
+                <cstring>layout13</cstring>
             </property>
-            <property name="orientation">
-                <enum>Horizontal</enum>
-            </property>
-            <property name="sizeType">
-                <enum>Expanding</enum>
-            </property>
-            <property name="sizeHint">
-                <size>
-                    <width>120</width>
-                    <height>20</height>
-                </size>
-            </property>
-        </spacer>
-        <widget class="QCheckBox" row="5" column="0" rowspan="1" colspan="3">
-            <property name="name">
-                <cstring>cb_pmEnabled</cstring>
-            </property>
-            <property name="text">
-                <string>Enable power management</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Enables advanced power management settings.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QLabel">
+                    <property name="name">
+                        <cstring>lb_connectScript</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Script:</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Command to perform after the connection is established, e.g. for obtaining a DHCP lease.</string>
+                    </property>
+                </widget>
+                <widget class="KURLRequester">
+                    <property name="name">
+                        <cstring>url_connectScript</cstring>
+                    </property>
+                    <property name="enabled">
+                        <bool>false</bool>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer18</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>196</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <widget class="QPushButton" row="6" column="3" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="5" column="0">
             <property name="name">
-                <cstring>pb_setupCrypto</cstring>
+                <cstring>layout11</cstring>
             </property>
-            <property name="enabled">
-                <bool>false</bool>
-            </property>
-            <property name="text">
-                <string>Configure...</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Clicking this button opens the Encryption menu.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QCheckBox">
+                    <property name="name">
+                        <cstring>cb_pmEnabled</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Enable power management</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Enables advanced power management settings.</string>
+                    </property>
+                </widget>
+                <widget class="QPushButton">
+                    <property name="name">
+                        <cstring>pb_setupPower</cstring>
+                    </property>
+                    <property name="enabled">
+                        <bool>false</bool>
+                    </property>
+                    <property name="text">
+                        <string>Configure...</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Clicking this button opens the Power Management menu.</string>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer4</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>285</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <widget class="QPushButton" row="5" column="3" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="2" column="0">
             <property name="name">
-                <cstring>pb_setupPower</cstring>
+                <cstring>layout6</cstring>
             </property>
-            <property name="enabled">
-                <bool>false</bool>
-            </property>
-            <property name="text">
-                <string>Configure...</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Clicking this button opens the Power Management menu.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QLabel">
+                    <property name="name">
+                        <cstring>textLabel2</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Speed:</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Sets the connection speed. Not all cards support this.</string>
+                    </property>
+                </widget>
+                <widget class="QComboBox">
+                    <item>
+                        <property name="text">
+                            <string>Auto</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>1 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>2 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>5.5 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>6 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>9 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>11 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>12 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>18 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>24 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>36 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>48 Mb/s</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>54 Mb/s</string>
+                        </property>
+                    </item>
+                    <property name="name">
+                        <cstring>cmb_speed</cstring>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer6</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>190</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <widget class="QLabel" row="1" column="0" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="1" column="0">
             <property name="name">
-                <cstring>lb_opMode</cstring>
+                <cstring>layout5</cstring>
             </property>
-            <property name="text">
-                <string>Operation mode:</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Operation mode of the card. For standard infrastructure networks, "Managed" is appropriate.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QLabel">
+                    <property name="name">
+                        <cstring>lb_opMode</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Operation mode:</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Operation mode of the card. For standard infrastructure networks, "Managed" is appropriate.</string>
+                    </property>
+                </widget>
+                <widget class="QComboBox">
+                    <item>
+                        <property name="text">
+                            <string>Ad-Hoc</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>Managed</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>Repeater</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>Master</string>
+                        </property>
+                    </item>
+                    <item>
+                        <property name="text">
+                            <string>Secondary</string>
+                        </property>
+                    </item>
+                    <property name="name">
+                        <cstring>cmb_wifiMode</cstring>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer5_2</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>413</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <widget class="QLabel" row="2" column="0" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="3" column="0">
             <property name="name">
-                <cstring>textLabel2</cstring>
+                <cstring>layout14</cstring>
             </property>
-            <property name="text">
-                <string>Speed:</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Sets the connection speed. Not all cards support this.</string>
-            </property>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
+                </property>
+                <widget class="QCheckBox">
+                    <property name="name">
+                        <cstring>cb_runScript</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Execute script on connect</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Activates a script to perform arbitrary operations after associating with the network.</string>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer19</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>131</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <spacer row="5" column="5" rowspan="1" colspan="2">
+        <widget class="QLayoutWidget" row="6" column="0">
             <property name="name">
-                <cstring>spacer4</cstring>
+                <cstring>layout17</cstring>
             </property>
-            <property name="orientation">
-                <enum>Horizontal</enum>
-            </property>
-            <property name="sizeType">
-                <enum>Expanding</enum>
-            </property>
-            <property name="sizeHint">
-                <size>
-                    <width>110</width>
-                    <height>20</height>
-                </size>
-            </property>
-        </spacer>
-        <widget class="QLabel" row="4" column="1">
-            <property name="name">
-                <cstring>lb_connectScript</cstring>
-            </property>
-            <property name="text">
-                <string>Script:</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Command to perform after the connection is established, e.g. for obtaining a DHCP lease.</string>
-            </property>
-        </widget>
-        <widget class="QComboBox" row="1" column="2">
-            <item>
-                <property name="text">
-                    <string>Ad-Hoc</string>
+            <hbox>
+                <property name="name">
+                    <cstring>unnamed</cstring>
                 </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>Managed</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>Repeater</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>Master</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>Secondary</string>
-                </property>
-            </item>
-            <property name="name">
-                <cstring>cmb_wifiMode</cstring>
-            </property>
+                <widget class="QCheckBox">
+                    <property name="name">
+                        <cstring>cb_useCrypto</cstring>
+                    </property>
+                    <property name="text">
+                        <string>Use encryption</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Enables WEP encryption.</string>
+                    </property>
+                </widget>
+                <widget class="QPushButton">
+                    <property name="name">
+                        <cstring>pb_setupCrypto</cstring>
+                    </property>
+                    <property name="enabled">
+                        <bool>false</bool>
+                    </property>
+                    <property name="text">
+                        <string>Configure...</string>
+                    </property>
+                    <property name="toolTip" stdset="0">
+                        <string>Clicking this button opens the Encryption menu.</string>
+                    </property>
+                </widget>
+                <spacer>
+                    <property name="name">
+                        <cstring>spacer5</cstring>
+                    </property>
+                    <property name="orientation">
+                        <enum>Horizontal</enum>
+                    </property>
+                    <property name="sizeType">
+                        <enum>Expanding</enum>
+                    </property>
+                    <property name="sizeHint">
+                        <size>
+                            <width>396</width>
+                            <height>20</height>
+                        </size>
+                    </property>
+                </spacer>
+            </hbox>
         </widget>
-        <widget class="QComboBox" row="2" column="2">
-            <item>
-                <property name="text">
-                    <string>Auto</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>1 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>2 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>5.5 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>6 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>9 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>11 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>12 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>18 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>24 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>36 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>48 Mb/s</string>
-                </property>
-            </item>
-            <item>
-                <property name="text">
-                    <string>54 Mb/s</string>
-                </property>
-            </item>
-            <property name="name">
-                <cstring>cmb_speed</cstring>
-            </property>
-        </widget>
-        <widget class="KURLRequester" row="4" column="2" rowspan="1" colspan="5">
-            <property name="name">
-                <cstring>url_connectScript</cstring>
-            </property>
-            <property name="enabled">
-                <bool>false</bool>
-            </property>
-        </widget>
-        <widget class="QCheckBox" row="3" column="0" rowspan="1" colspan="5">
-            <property name="name">
-                <cstring>cb_runScript</cstring>
-            </property>
-            <property name="text">
-                <string>Execute script on connect</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>Activates a script to perform arbitrary operations after associating with the network.</string>
-            </property>
-        </widget>
-        <spacer row="2" column="3" rowspan="1" colspan="4">
-            <property name="name">
-                <cstring>spacer6</cstring>
-            </property>
-            <property name="orientation">
-                <enum>Horizontal</enum>
-            </property>
-            <property name="sizeType">
-                <enum>Expanding</enum>
-            </property>
-            <property name="sizeHint">
-                <size>
-                    <width>190</width>
-                    <height>20</height>
-                </size>
-            </property>
-        </spacer>
-        <spacer row="1" column="3" rowspan="1" colspan="4">
-            <property name="name">
-                <cstring>spacer5_2</cstring>
-            </property>
-            <property name="orientation">
-                <enum>Horizontal</enum>
-            </property>
-            <property name="sizeType">
-                <enum>Expanding</enum>
-            </property>
-            <property name="sizeHint">
-                <size>
-                    <width>190</width>
-                    <height>20</height>
-                </size>
-            </property>
-        </spacer>
-        <spacer row="4" column="0">
-            <property name="name">
-                <cstring>spacer7</cstring>
-            </property>
-            <property name="orientation">
-                <enum>Horizontal</enum>
-            </property>
-            <property name="sizeType">
-                <enum>Preferred</enum>
-            </property>
-            <property name="sizeHint">
-                <size>
-                    <width>17</width>
-                    <height>20</height>
-                </size>
-            </property>
-        </spacer>
-        <widget class="QLabel" row="0" column="0" rowspan="1" colspan="2">
-            <property name="name">
-                <cstring>lb_netName</cstring>
-            </property>
-            <property name="text">
-                <string>Network name:</string>
-            </property>
-            <property name="toolTip" stdset="0">
-                <string>SSID of the network to connect to. "any" means "arbitrary available network".</string>
-            </property>
-        </widget>
-        <widget class="KLineEdit" row="0" column="2" rowspan="1" colspan="2">
-            <property name="name">
-                <cstring>le_networkName</cstring>
-            </property>
-        </widget>
-        <widget class="QCheckBox" row="0" column="4" rowspan="1" colspan="2">
-            <property name="name">
-                <cstring>cb_Autodetect</cstring>
-            </property>
-            <property name="text">
-                <string>Interface: Autodetect?</string>
-            </property>
-            <property name="checked">
-                <bool>true</bool>
-            </property>
-        </widget>
-        <widget class="QLineEdit" row="0" column="6">
-            <property name="name">
-                <cstring>le_interface</cstring>
-            </property>
-            <property name="enabled">
-                <bool>false</bool>
-            </property>
-        </widget>
     </grid>
 </widget>
 <connections>
@@ -377,9 +492,9 @@
 <layoutdefaults spacing="6" margin="11"/>
 <layoutfunctions spacing="KDialog::spacingHint" margin="KDialog::marginHint"/>
 <includehints>
+    <includehint>klineedit.h</includehint>
     <includehint>kurlrequester.h</includehint>
     <includehint>klineedit.h</includehint>
     <includehint>kpushbutton.h</includehint>
-    <includehint>klineedit.h</includehint>
 </includehints>
 </UI>
Index: wifi/kcmwifi/kcmwifi.desktop
===================================================================
--- wifi/kcmwifi/kcmwifi.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/kcmwifi/kcmwifi.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,4 +1,5 @@
 [Desktop Entry]
+Encoding=UTF-8
 Icon=kwifimanager
 Type=Application
 Exec=kcmshell kcmwifi
@@ -21,7 +22,7 @@
 Name[es]=Red inalámbrica
 Name[et]=Traadita võrk
 Name[eu]=Kablerik gabeko sarea
-Name[fa]=شبکۀ بی سیم‌
+Name[fa]=شبکۀ بی‌سیم
 Name[fi]=Langaton verkko
 Name[fr]=Réseau sans fil
 Name[ga]=Gréasán gan sreang
@@ -74,7 +75,7 @@
 Comment[es]=Configure su red inalámbrica local
 Comment[et]=Traadita võrgu seadistamine
 Comment[eu]=Konfiguratu zure kablerik gabeko LAN-a
-Comment[fa]=تنظیم شبکه داخلی بی سیم شما
+Comment[fa]=تنظیم شبکۀ داخلی بی‌سیم شما
 Comment[fi]=Aseta langaton lähiverkko
 Comment[fr]=Configuration de votre réseau sans fil
 Comment[gl]=Configura a túa rede inalámbrica
@@ -121,7 +122,7 @@
 Keywords[es]=red,orinoco,inalámbrica,wlan,wlan-ng,wifi,Ad-Hoc
 Keywords[et]=võrk,orinoco,traadita,wlan,wlan-ng,wifi,Ad-Hoc
 Keywords[eu]=sarea,orinoco,kablerik gabe,wlan,wlan-ng,ad-hoc
-Keywords[fa]=شبکه،orinoco،بی سیم،شبکۀ محلی بی سیم،wlan-ng,wifi,Ad-Hoc‌
+Keywords[fa]=شبکه، orinoco، بی‌سیم، شبکۀ محلی بی‌سیم، wlan-ng، wifi، Ad-Hoc
 Keywords[fi]=verkko,orinoco,langaton,wlan,wlan-ng,wifi,Ad-Hoc
 Keywords[fr]=network,orinoco,wireless,wlan,wlan-ng,sans fil,Ad-Hoc
 Keywords[gl]=rede,orinoco,sen fíos,wlan,wlan-ng,wifi,Ad-Hoc
Index: wifi/interface_wireless_wirelessextensions.cpp
===================================================================
--- wifi/interface_wireless_wirelessextensions.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/interface_wireless_wirelessextensions.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -141,6 +141,7 @@
   /* Get ESSID */
   /* prepare NULL-terminated buffer in case the string returned by SIOCGIWESSID is NOT NULL-terminated */
   memset(wrq.u.essid.pointer, '\0', IW_ESSID_MAX_SIZE + 1);
+  wrq.u.essid.pointer = (caddr_t) WIFI_CONFIG(info,essid);
   wrq.u.essid.length = IW_ESSID_MAX_SIZE + 1;
   wrq.u.essid.flags = 0;
   if (iw_get_ext (skfd, ifname, SIOCGIWESSID, &wrq) >= 0)
Index: wifi/status.cpp
===================================================================
--- wifi/status.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/status.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -67,50 +67,82 @@
     temp2 = "%1";
   if (freq >= 1000000000)
     {
-           if (freq / 1000000. >= 5785.)
+      if (freq / 1000000. > 5690.)
         {
-          temp3 = temp3.arg(161);
+          temp3 = temp3.arg(140);
         }
-      else if (freq / 1000000. >= 5765.)
+      else if (freq / 1000000. > 5670.)
         {
-          temp3 = temp3.arg(157);
+          temp3 = temp3.arg(136);
         }
-      else if (freq / 1000000. > 5745.)
+      else if (freq / 1000000. > 5650.)
         {
-          temp3 = temp3.arg(153);
+          temp3 = temp3.arg(132);
         }
-      else if (freq / 1000000. >= 5320.)
+      else if (freq / 1000000. > 5630.)
         {
-          temp3 = temp3.arg(149);
+          temp3 = temp3.arg(128);
         }
-      else if (freq / 1000000. > 5300.)
+      else if (freq / 1000000. > 5610.)
         {
+          temp3 = temp3.arg(124);
+        }
+      else if (freq / 1000000. > 5590.)
+        {
+          temp3 = temp3.arg(120);
+        }
+      else if (freq / 1000000. > 5570.)
+        {
+          temp3 = temp3.arg(116);
+        }
+      else if (freq / 1000000. > 5550.)
+        {
+          temp3 = temp3.arg(112);
+        }
+      else if (freq / 1000000. > 5530.)
+        {
+          temp3 = temp3.arg(108);
+        }
+      else if (freq / 1000000. > 5510.)
+        {
+          temp3 = temp3.arg(104);
+        }
+      else if (freq / 1000000. > 5490.)
+        {
+          temp3 = temp3.arg(100);
+        }
+      else if (freq / 1000000. > 5310.)
+        {
           temp3 = temp3.arg(64);
         }
-      else if (freq / 1000000. > 5280.)
+      else if (freq / 1000000. > 5290.)
         {
           temp3 = temp3.arg(60);
         }
-      else if (freq / 1000000. > 5260.)
+      else if (freq / 1000000. > 5270.)
         {
           temp3 = temp3.arg(56);
         }
-      else if (freq / 1000000. > 5240.)
+      else if (freq / 1000000. > 5250.)
         {
           temp3 = temp3.arg(52);
         }
-      else if (freq / 1000000. > 5220.)
+      else if (freq / 1000000. > 5230.)
         {
           temp3 = temp3.arg(48);
         }
-      else if (freq / 1000000. > 5200.)
+      else if (freq / 1000000. > 5210.)
         {
           temp3 = temp3.arg(44);
         }
-      else if (freq / 1000000. > 5180.)
+      else if (freq / 1000000. > 5190.)
         {
           temp3 = temp3.arg(40);
         }
+      else if (freq / 1000000. > 5170.)
+        {
+          temp3 = temp3.arg(36);
+        }
       else if (freq / 1000000. > 2474.)
 	{
 	  temp3 = temp3.arg (14);
@@ -173,9 +205,84 @@
     }
 
   if (freq < 1000000000)
-    {
-      if (freq >= 14.)
+    {if (freq >= 140.)
 	{
+	  temp2 = temp2.arg (5.700);
+	}
+      else if (freq >= 136.)
+	{
+	  temp2 = temp2.arg (5.680);
+	}
+      else if (freq >= 132.)
+	{
+	  temp2 = temp2.arg (5.660);
+	}
+      else if (freq >= 128.)
+	{
+	  temp2 = temp2.arg (5.640);
+	}
+      else if (freq >= 124.)
+	{
+	  temp2 = temp2.arg (5.620);
+	}
+      else if (freq >= 120.)
+	{
+	  temp2 = temp2.arg (5.600);
+	}
+      else if (freq >= 116.)
+	{
+	  temp2 = temp2.arg (5.580);
+	}
+      else if (freq >= 112.)
+	{
+	  temp2 = temp2.arg (5.560);
+	}
+      else if (freq >= 108.)
+	{
+	  temp2 = temp2.arg (5.540);
+	}
+      else if (freq >= 104.)
+	{
+	  temp2 = temp2.arg (5.520);
+	}
+      else if (freq >= 100.)
+	{
+	  temp2 = temp2.arg (5.500);
+	}
+      else if (freq >= 64.)
+	{
+	  temp2 = temp2.arg (5.320);
+	}
+      else if (freq >= 60.)
+	{
+	  temp2 = temp2.arg (5.300);
+	}
+      else if (freq >= 56.)
+	{
+	  temp2 = temp2.arg (5.280);
+	}
+      else if (freq >= 52.)
+	{
+	  temp2 = temp2.arg (5.260);
+	}
+      else if (freq >= 48.)
+	{
+	  temp2 = temp2.arg (5.240);
+	}
+      else if (freq >= 44.)
+	{
+	  temp2 = temp2.arg (5.220);
+	}
+      else if (freq >= 40.)
+	{
+	  temp2 = temp2.arg (5.200);
+	}
+      else if (freq >= 36.)
+	{
+	  temp2 = temp2.arg (5.180);
+	}
+      else if (freq >= 14.)
+	{
 	  temp2 = temp2.arg (2.484);
 	}
       else if (freq >= 13.)
Index: wifi/kwifimanager.desktop
===================================================================
--- wifi/kwifimanager.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ wifi/kwifimanager.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -1,5 +1,6 @@
 # KDE Config File
 [Desktop Entry]
+Encoding=UTF-8
 Type=Application
 Exec=kwifimanager -caption "%c" %i %m
 Icon=kwifimanager
@@ -18,7 +19,7 @@
 Comment[es]=Monitor de conexiones de redes inalámbricas
 Comment[et]=Traadita kohtvõrgu ühenduse monitor
 Comment[eu]=Kablerik gabeko LAN konexio monitorea
-Comment[fa]=یک نمایشگر اتصال شبکۀ داخلی بی سیم‌
+Comment[fa]=یک نمایشگر اتصال شبکۀ داخلی بی‌سیم
 Comment[fi]=Langattoman lähiverkon yhteyden valvonta
 Comment[fr]=Un écran de contrôle des connexions locales sans fil
 Comment[gl]=Unha ferramente para a monitorización de redes inalámbricas
@@ -61,7 +62,6 @@
 Name[cy]=KRheolyddDiWi
 Name[de]=KWiFi-Verwaltung
 Name[et]=KWiFi haldur
-Name[fa]=مدیر KWiFi‌
 Name[gl]=Configuración de KWiFI
 Name[hi]=के-विफि-मैनेजर
 Name[ja]=KWiFiマネージャ
@@ -83,7 +83,7 @@
 GenericName[es]=Gestor de red inalámbrica
 GenericName[et]=Traadita võrgu haldur
 GenericName[eu]=Kablerik gabeko LAN kudeatzailea
-GenericName[fa]=مدیر شبکۀ داخلی بی سیم‌
+GenericName[fa]=مدیر شبکۀ داخلی بی‌سیم
 GenericName[fi]=Langattoman lähiverkon hallinta
 GenericName[fr]=Gestionnaire de réseau sans fil
 GenericName[ga]=Bainisteoir Ghréasáin gan sreang
Index: doc/kopete/index.docbook
===================================================================
--- doc/kopete/index.docbook	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ doc/kopete/index.docbook	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -83,11 +83,11 @@
 
 <legalnotice>&FDLNotice;</legalnotice>
 
-<date>2004-02-24</date>
-<releaseinfo>0.10</releaseinfo>
+<date>2006-12-15</date>
+<releaseinfo>0.12</releaseinfo>
 
 <copyright>
-<year>2003, 2004, 2005</year>
+<year>2003, 2004, 2005, 2006</year>
 </copyright>
 
 <!-- Abstract about this handbook -->
@@ -137,7 +137,7 @@
 </chapterinfo>
 -->
 <sect1 id="intro-to-kopete">
-<title>Kopete, the &kde; instant messaging client</title>
+<title>&kopete;, the &kde; instant messaging client</title>
 <sect2 id="intro-to-kopete-next">
 <title>Before starting...</title>
 <para>If you're not familiar with Instant Messaging, please read the <link linkend="getting-started">Getting Started</link> section to learn about this wonderful world before continuing.</para>
@@ -202,11 +202,14 @@
 <sect3 id="contact-list-layout-menu"><title>Menu</title><para>You will usually find the menu bar at the top of the contact list.  If it's not there, you might have turned it off; you can re-enable it with <keycombo action="simul">&Ctrl;<keycap>M</keycap></keycombo>.  Details on each menu item can be found in the <link linkend="menus">chapter on menu structure</link>.</para>
 </sect3>
 <sect3 id="contact-list-layout-toolbar"><title>Tool bar</title><para>The toolbar holds the most frequently used &kopete; actions.  You can customize it with <menuchoice><guimenu>Settings</guimenu> <guimenuitem>Configure Toolbars...</guimenuitem></menuchoice>.  Notice the <guibutton>Show Offline Users</guibutton> and <guibutton>Show Empty Groups</guibutton> buttons.  With these you can hide contacts and groups that are offline.</para>
+	<para>&kopete; makes it even easier to set a status message to let your contacts know about your mood or why you're busy at the moment.  Click on the <guibutton>Set Status Message</guibutton> button and start typing to enter a new message, or choose from one of the previous messages you have used.</para>
+	<para>The <guilabel>Quick Search Toolbar</guilabel> quickly filters the contact list, by typing a few letters from a contact's name.</para>
 </sect3>
 <sect3 id="contact-list-layout-contactlist"><title>Contact List</title><para>The <interface>Contact List</interface> takes up the main part of the window.  All your contacts are listed here, in the groups you have chosen for them.  You can open or close groups by clicking the plus symbol adjacent to the group.  You can reverse the order the groups are sorted in by clicking the <guilabel>Contacts</guilabel> label above the list.</para>
 <para>The context menu in the <interface>Contact List</interface> changes depending on the item under the mouse.  <link linkend="organise-contacts-grouping">Groups</link>, <link linkend="organise-contacts-metacontacts">Metacontacts</link> and &im; system specific contacts have their own options.  In empty areas of the <interface>Contact List</interface>, the context menu allows you to add contacts or groups, or change the viewing options for the list.</para>
 </sect3>
 <sect3 id="contact-list-layout-statusbar"><title>Status bar</title><para>The status bar shows an icon for each &im; account you have created.  The icons represent the current presence of each account, which can be changed by <mousebutton>right</mousebutton>-clicking the account icon.  </para>
+	<para>Kopete also shows your current status message in the <guilabel>Status Bar></guilabel>.  By clicking on the note icon in the corner, you can change or clear the status message as well.</para>
 </sect3>
 </sect2>
 <sect2 id="contact-list-setting-presence">
@@ -222,7 +225,7 @@
 </sect2>
 <sect2 id="contact-list-send-file">
 	<title>Send A File</title>
-	<para>You can send files from the <interface>Contact List</interface>, using the context menu on the person you want to send to.  If Kopete supports file transfer on their &im; system, there will be a <menuchoice><guimenuitem>Send File...</guimenuitem></menuchoice> item.  Alternatively, you can drag a file from anywhere else in KDE onto their name to start a file transfer.</para>
+	<para>You can send files from the <interface>Contact List</interface>, using the context menu on the person you want to send to.  If &kopete; supports file transfer on their &im; system, there will be a <menuchoice><guimenuitem>Send File...</guimenuitem></menuchoice> item.  Alternatively, you can drag a file from anywhere else in KDE onto their name to start a file transfer.</para>
 </sect2>
 <sect2 id="organise-contacts">
 <title>Organising Contacts</title>
@@ -347,6 +350,7 @@
 <sect3 id="chat-window-layout-tabbing"><title>Tabbing</title><para>&kopete; lets you carry on multiple conversations in one window, by putting each one in its own tab within the window.  The tab titles change color to show when a new message has been received:</para>
 <variablelist>
 <varlistentry><term>Red</term><listitem><para>Someone typed a message.</para></listitem></varlistentry>
+<varlistentry><term>Green</term><listitem><para>Someone is typing a message.</para></listitem></varlistentry>
 <varlistentry><term>Blue</term><listitem><para>Someone typed a message containing your nickname.</para></listitem></varlistentry>
 </variablelist>
 <para>There are several different ways to control grouping.  To configure this behavior, go to the Chat tab of the Behavior page of the Configure &kopete; dialog.  You can also move chats between windows using the <menuchoice><guimenu>Tabs</guimenu></menuchoice> menu, and control the placement of the tabs in the window.</para></sect3>
@@ -354,11 +358,11 @@
 <sect2 id="chat-window-group">
 <title>Group Chats in &kopete;</title>
 <para>You can use &kopete; to chat one to one, or in a group, where the &im; system supports this.</para>
-<para>MSN lets you invite others into a chat using <menuchoice><guimenu>Chat</guimenu><guisubmenu>Invite</guisubmenu><guimenuitem>&lt;contact name&gt;</guimenuitem></menuchoice>.</para>
+<para>To invite others into a chat, drag them from the Contact List into the chat window, or use <menuchoice><guimenu>Chat</guimenu><guisubmenu>Invite</guisubmenu><guimenuitem>&lt;contact name&gt;</guimenuitem></menuchoice>.</para>
 </sect2>
 <sect2 id="chat-window-file-xfer">
 <title>File Transfers</title>
-<para>Some &im; systems allow you to send and receive files.  You can access this function from the contact's context menu.  If you're already chatting, and want to send a file, select the recipient from the <menuchoice><guimenu>Chat</guimenu><guisubmenu>Contacts</guisubmenu></menuchoice> menu.</para>
+<para>Some &im; systems allow you to send and receive files.  You can access this function from the contact's context menu.  If you're already chatting, and want to send a file, simply drag the file from any other part of &kde; into the Chat Window, or select the <menuchoice><guimenu>Chat</guimenu><guimenuitem>Send File</guimenuitem></menuchoice> menu.</para>
 </sect2>
 <sect2 id="chat-window-shortcuts">
 <title>Keyboard Shortcuts</title>
@@ -449,6 +453,10 @@
 <para>You can quickly distinguish between multiple accounts using the same &im; system by giving a custom color to each account's status bar entry and contact icons.  To do so, select the account and click the color selector on the right side of the page. </para>
 <para>You can control the priority of accounts using the <guiicon>Up</guiicon> and <guiicon>Down</guiicon> icons on this page.  If you have more than one way to message a contact, this determines the &im; system &kopete; will use to communicate them.</para>
 </sect2>
+<sect2 id="global-identity">
+<title>Global Identity</title>
+<para>&kopete;'s Global Identity lets you set your own nickname and photo once for all your &im; accounts.  You can read these details from the KDE address book entry for yourself, from a single one of your contacts, or add a completely new nickname or photo.  If you have an exciting dual life, you can create multiple identites and switch between them in the<guilabel>Identity</guilabel> section.</para>
+</sect2>
 <sect2 id="configuring-behavior">
 <title>Behavior</title>
 <para>Behavior covers the way &kopete; integrates with your desktop, <emphasis>Away</emphasis> settings, and chat user interface options.</para>
@@ -457,23 +465,35 @@
 <para>Here you can customize &kopete;'s desktop integration, and control the way the contact list is laid out.</para>
 <variablelist>
 <varlistentry>
-<term><guilabel>Show the system tray icon</guilabel></term>
+<term><guilabel>Show system tray icon</guilabel></term>
 <listitem>
 <para>By default, &kopete; places an icon in the &kde; System Tray.  If you prefer, you can turn this off here.</para>
 </listitem>
 </varlistentry>
 <varlistentry>
-<term><guilabel>Start hidden</guilabel></term>
+<term><guilabel>Start with hidden main window</guilabel></term>
 <listitem>
 <para>This causes &kopete; to start with the <interface>Contact List</interface> window hidden (docked).  You can make it visible by clicking the system tray icon or with the <link linkend="configuring-global-shortcuts">Show Contact List global shortcut</link>.</para>
 </listitem>
 </varlistentry>
 <varlistentry>
+<term><guilabel>Open messages instantly</guilabel></term>
+<listitem>
+<para>New messages open chat windows as soon as they arrive.</para>
+</listitem>
+</varlistentry>
+<varlistentry>
 <term><guilabel>Use message queue</guilabel></term>
 <listitem>
 <para>The message queue is where &kopete; puts messages when there is no chat window open.  This allows you to be notified of new messages with popup <quote>speech bubbles</quote>; or by animating the System Tray icon.  If you choose to disable the message queue, chat windows will open as soon as you receive a new message.</para>
 </listitem>
 </varlistentry>
+<varlistentry>
+<term><guilabel>Use message stack</guilabel></term>
+<listitem>
+<para>If you use a message stack, &kopete; shows recently received messages starting with the last message received.</para>
+</listitem>
+</varlistentry>
 </variablelist>
 <sect4 id="configuring-behavior-general-notifications">
 <title>Notifications</title>
@@ -504,7 +524,7 @@
 <para><userinput>echo %s | osd_cat -o 100 -p bottom -A center -f -*-helvetica-*-r-*-*-24-*-*-*-*-*-*-* -O 2 -c gold</userinput></para>
 <para>OhReally at the KDE Forum suggests having your online notifications read out by a speech synthesiser, using <ulink url="http://mambo.ucsc.edu/psl/mbrola">MBROLA</ulink> like so:</para>
 <para><userinput>echo %s | sed -e 's/online/onlaain/i' | /usr/local/bin/mbrdico.dutch.female</userinput></para>
-<para>The 'sed' in the middle phoneticises Kopete's output to so the synthesizer has a better Dutch pronunciation.</para>
+<para>The 'sed' in the middle phoneticises &kopete;'s output to so the synthesizer has a better Dutch pronunciation.</para>
 </listitem>
 </varlistentry>
 </variablelist>
@@ -583,9 +603,9 @@
 <sect4 id="configuring-appearance-chat-styles">
 <title>Styles</title>
 <para>The style of the chat view can be altered to look like other clients. Installed styles are shown in the list on the left and are previewed in the main panel. See <link linkend="chatwindowstyleguide">Chat Window Style guide</link> for a document how to make your own style.</para>
-<para>Third party styles are available at <ulink url="http://kde-look.org">http://kde-look.org</ulink>. Starting with &kopete; 0.12, it support styles from Adium(a &im; program on Mac OS X). So you can download styles from Adium here: <ulink url="http://www.adiumxtras.com/">Adium Xtras</ulink> and select Message View Styles.</para>
+<para>Third party styles are available at <ulink url="http://kde-look.org">http://kde-look.org</ulink>. &kopete; 0.12 now supports styles from Adium(an &im; program on Mac OS X). So you can download styles from Adium here: <ulink url="http://www.adiumxtras.com/">Adium Xtras</ulink> and select Message View Styles.</para>
 <para>To install a style, click<guibutton>Instal...</guibutton>. Select a archive file containing the style. To delete a style, select a style in the list and click <guibutton>Delete</guibutton>.</para>
-<para><guilabel>Group consecutive messages</guilabel> is a nice option. It group consecutive message coming from the same user. </para>
+<para><guilabel>Group consecutive messages</guilabel> is a useful option to make your chats more readable.  If you receive several messages in a row from teh same contact, they are grouped without repeating the sender name.</para>
 </sect4>
 </sect3>
 <sect3 id="configuring-behavior-general-contactlist">
@@ -606,13 +626,13 @@
 <varlistentry>
 <term><guilabel>Contact Display Mode</guilabel></term>
 <listitem>
-	<para>There are several ways you can present the contact list here.  Of particular interest may be the <guilabel>Detailed with contact photos</guilabel> style, that shows the contact list including photos from the &im; system or the KDE Address Book</para>
+	<para>There are several ways you can present the contact list here.  Of particular interest may be the <guilabel>Use contact photos when available</guilabel> option, that shows the contact list using photos chosen by your contacts or the KDE Address Book</para>
 </listitem>
 </varlistentry>
 <varlistentry>
 <term><guilabel>Contact List Animations</guilabel></term>
 <listitem>
-	<para>This controls the degree of animation of the contact list.  Turning this off will make Kopete more responsive on slower machines.</para>
+	<para>This controls the degree of animation of the contact list.  Turning this off will make &kopete; more responsive on slower machines.</para>
 </listitem>
 </varlistentry>
 <varlistentry>
@@ -622,7 +642,7 @@
 </listitem>
 </varlistentry>
 <varlistentry>
-<term><guilabel>Change Tootip Contents...</guilabel></term>
+<term><guilabel>Change Tooltip Contents...</guilabel></term>
 <listitem>
 	<para>You have a lot of control over how much or how little detail appears inthe tooltips shown on the contact list using this dialog.</para>
 </listitem>
@@ -635,30 +655,104 @@
 <title>Chat Window Colors</title>
 <para>Here you can alter the base font and text colors used for chatting.</para>
 </sect4>
+<sect4 id="configuring-appearance-colors-fonts-overrides">
+<title>Formatting Overrides</title>
+<para>If your contacts tend to choose fonts and colors that you dislike, you can tell &kopete; to ignore these and use your regular font.</para>
+</sect4>
 <sect4 id="configuring-appearance-colors-fonts-contactlist">
 <title>Contact List</title>
 <para>Some &im; systems let you see whether contacts are idle at their computers.  This option enables you to change the color used for idle contacts.</para>
 </sect4>
 </sect3>
 </sect2> <!-- configuring-appearance -->
+<sect2 id="configuring-devices">
+<title>Devices</title>
+<para>The Devices section allows you to choose and configure which multimedia devices are used for A/V chatting.  Whether this works for you is highly dependent on the hardware you have and how well it is supported by your operating system.</para>
+<sect3 id="configuring-devices-video">
+<title>Video</title>
+<para>&kopete; uses the Video4Linux 2 system for video.  This shows a blue square if no video device is found, or a preview if the camera is working.  For up-to-date information on &kopete; webcam support, see the <ulink url="http://wiki.kde.org/tiki-index.php?page=Kopete%20Webcam%20Support">Kopete Webcam Support wiki page</ulink>.</para>
+</sect3>
+<sect3 id="configuring-devices-audio">
+<title>Audio</title>
+	<para>Audio support in &kopete; is at an experimental stage.  If you have an Audio tab, you are probably using a preview build of &kopete;.</para>
+</sect3>
+</sect2>
 </sect1>
 
 <sect1 id="configuring-load-plugins-dialog">
 <title>Loading Plugins</title>
 <para>You can customize &kopete; with special functions that may be useful or just a bit of fun.  Bring up the <guilabel>Configure Plugins</guilabel> dialog with  <menuchoice><guimenu>Settings</guimenu><guimenuitem>Configure Plugins...</guimenuitem></menuchoice>.</para>
-<para>Plugins can be turned on or off in the list on the left side of the page.  Each plugin may be configured on the right side.  See the <link linkend="plugins">next chapter</link> for details on each plugin.</para>
+<para>Plugins can be turned on or off in the list on the left side of the page.  Each plugin may be configured on the right side.  See the <link linkend="plugins">chapter on plugins</link> for details on each plugin.</para>
 </sect1>
 </chapter> <!-- configuring -->
 
+<chapter id="protocols">
+	<title>&kopete;'s Protocols</title>
+	<para>&kopete; calls different &im; systems 'Protocols'.  When you add an account, it is specific to a single protocol.  Although &kopete; tries to make instant messaging appear the same, no matter what protocol you use, there are some differences in the level of support for advanced features such as file transfer and multimedia.</para>
+	<sect1 id="protocols-list">
+		<title>Protocols</title>
+		<sect2 id="protocols-aim">
+			<title>AIM</title>
+			<para>AIM supports chatrooms.  Use the <guilabel>Join Chat...</guilabel> command on the AIM account menu to join a chatroom. Contact pictures and custom emoticons are also supported.</para>
+		</sect2>
+		<sect2 id="protocols-icq">
+			<title>ICQ</title>
+			<para>ICQ has an Invisibility feature which allows you to hide from selected contacts.  You may also search the ICQ user directory when adding a contact.  A wide range of contact details can be set using the <guilabel>Properties</guilabel> option.</para>
+		</sect2>
+		<sect2 id="protocols-msn">
+			<title>MSN</title> 
+			<para>MSN supports the sending and receiving of webcams, if your camera is supported by the Video4Linux 2 (v4l2) standard.  To view someone's webcam, right click on their MSN buttefly icon and select <menuchoice><guimenuitem>View Contact's Webcam</guimenuitem></menuchoice>.  File transfer and multi user chats work.  To transfer a file,  drag the file from Konqueror or the desktop into the chat window.  To invite someone else into a chat, drag them from the Contact List into the chat window.  The <menuchoice><guimenu>File</guimenu></menuchoice> menu also contains these commands.  In addition, MSN supports custom emoticons.</para>
+			<para>To use file transfer or a webcam, make sure port 6891 is forwarded to your computer.</para>
+		</sect2>
+		<sect2 id="protocols-yahoo">
+			<title>Yahoo</title>
+			<para>Yahoo can send and receive webcam video.  It also supports Yahoo mail and the Yahoo addressbook from the account menu.  Conferencing is also possible.</para>
+		</sect2>
+		<sect2 id="protocols-jabber">
+			<title>Jabber</title>
+			<para>Jabber, also known as XMPP, supports file transfer, conferencing and any other services supplied by the Jabber server.  For example, many Jabber servers have a user directory, and some provide transports to other messaging systems.  To access services, use <menuchoice><guimenu>Services...</guimenu></menuchoice> on the account menu.  Jabber file transfer can work without port forwarding, but enjoys better performance where a direct connection is possible.  By default, port 8010 is used for port forwarding, but this is configurable in each account's settings.</para>
+		</sect2>
+		<sect2 id="protocols-gtalk">
+			<title>Google Talk</title>
+			<para>Since Google Talk is based upon Jabber, it is well supported in &kopete; with the exception of voice chat, which is worked upon.</para>
+			<para>To configure &kopete; for Google Talk: Use your complete Google Mail address as the user name.  Check <guilabel>Use protocol encryption (SSL)</guilabel>, <guilabel>Allow plain-text password authentication</guilabel> and <guilabel>Override default server information</guilabel>.  The server is <quote>talk.google.com</quote> or <quote>gmail.com</quote> and ports 443 or 5223 should be used.</para>
+		</sect2>
+		<sect2 id="protocols-groupwise">
+			<title>Novell GroupWise</title>
+			<para>GroupWise Messenger is an enterprise messenging system from Novell Inc.  The full range of features are supported, including privacy, group chat, rich text and user search.</para>
+		</sect2>
+		<sect2 id="protocols-gadu-gadu">
+			<title>Gadu-Gadu</title>
+			<para>Gadu-Gadu is a chat system originating from Poland.  At present, &kopete; supports basic chat functions.</para>
+		</sect2>
+		<sect2 id="protocols-winpopup">
+			<title>WinPopup</title>
+			<para>WinPopup is a way to use &kopete; to send and receive messages with Windows computers on the local network.  The WinPopup protocol only supports single, plain-text messages.</para>
+		</sect2>
+		<sect2 id="protocols-others">
+			<title>Other protocols</title>
+			<para>As well as the protocols named above, &kopete; has support for several other protocols.  In most cases, this is not enabled by default or an additional plugin must be installed.  Meanwhile, SMS, Skype and SILC are provided in this way.  See &kopetewww; for details, however, the &kopete; team are not responsible for these protocols.</para>
+		</sect2>
+	</sect1>
+</chapter>
+	
 <chapter id="plugins">
 <title>&kopete;'s Plugins</title>
 <para>&kopete; offers plugins that provide functions that aren't essential for messaging, but are useful for some people.</para>
 <sect1 id="plugins-list">
 <title>Plugins</title>
+<sect2 id="plugins-alias">
+<title>Alias</title>
+<para><guilabel>Alias</guilabel> lets you define your own commands, eg /hello, in &kopete; that run scripts and output the result in the chat window.  If you know how the alias Unix command works, this is just the same</para>
+</sect2>
 <sect2 id="plugins-auto-replace">
 <title>Auto Replace</title>
 <para><guilabel>Auto Replace</guilabel> allows you to correct frequently misspelled words or save typing certain words using abbreviations.</para>
 </sect2>
+<sect2 id="plugins-bookmarks">
+<title>Bookmarks</title>
+<para>The <guilabel>Bookmarks</guilabel> plugin creates bookmarks in your KDE bookmarks list from URLs that are received in &im; messages.</para>
+</sect2>
 <sect2 id="plugins-connection-status">
 <title>Connection Status</title>
 <para><guilabel>Connection Status</guilabel> is useful for modem users or others who don't have a permanent Internet connection.  It watches for an active Internet connection and sets your accounts online when it detects you have dialed up.</para>
@@ -800,7 +894,7 @@
 <qandaentry>
 <question><para>When I have more than one messaging service under a user's name in my contact list and I click on that user's name, it will message them on the wrong messaging service.</para>
 </question>
-<answer><para>You can change the order of accounts Kopete tries to message people with by using the Up and Down arrows in the bottom right corner of the account configuration screen. Kopete will try to connect with accounts starting from the top. However, if one service has a higher status value than the others for that user, Kopete will use that one. For example, if a person has three services and two are marked as away and the third is marked as online, Kopete will always try to message the user using the online service.</para><tip><para>If you click on the small protocol icon on the right of the menu item, instead of on the person's name, you will always try to contact the person using that service!</para></tip>
+<answer><para>You can change the order of accounts &kopete; tries to message people with by using the Up and Down arrows in the bottom right corner of the account configuration screen. &kopete; will try to connect with accounts starting from the top. However, if one service has a higher status value than the others for that user, &kopete; will use that one. For example, if a person has three services and two are marked as away and the third is marked as online, &kopete; will always try to message the user using the online service.</para><tip><para>If you click on the small protocol icon on the right of the menu item, instead of on the person's name, you will always try to contact the person using that service!</para></tip>
 </answer>
 </qandaentry>
 <qandaentry>
@@ -814,7 +908,7 @@
 <qandaentry>
 <question><para>Is it possible to customize the icons I see in &kopete;?</para></question>
 <answer><para>You can switch between different emoticons using the Emoticons tab of the Appearance page of the Configure &kopete; dialog.</para>
-<para>To install new emoticons, first look at <ulink url="http://www.kde-look.org/content/search.php">KDE-Look.org</ulink>, where there are a lot of additional emoticon sets to download:</para>
+<para>To install new emoticons, first look at <ulink url="http://www.kde-look.org/content/search.php">KDE-Look.org</ulink>, where there are a lot of additional emoticon sets to download.</para>
 
 <para>The emoticons are easy to install - you just place a directory containing
 the icon files along with an XML file describing the mapping from text to picture in
@@ -825,7 +919,7 @@
  $HOME/.kde/share/apps/kopete/pics/emoticons (or wherever $KDEHOME is)</para></listitem>
 <listitem><para>Select Configure &kopete; from the Settings menu and click on Appearance in the left panel of the Preferences window and click on the Emoticons tab</para></listitem>
 <listitem><para>Select the emoticons set you just installed from the list</para></listitem>
-<listitem><para>Now you can use the newly installed emoticons in Kopete</para></listitem>
+<listitem><para>Now you can use the newly installed emoticons in &kopete;</para></listitem>
 </orderedlist>
 <para>To replace the protocol icons, you'll have to replace the icons in
 $KDEDIR/share/apps/kopete/icons, or provide replacements to override them in
Index: kfile-plugins/torrent/kfile_torrent.desktop
===================================================================
--- kfile-plugins/torrent/kfile_torrent.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kfile-plugins/torrent/kfile_torrent.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -13,7 +13,7 @@
 Name[es]=Información Bit Torrent
 Name[et]=Bit Torrenti info
 Name[eu]=Bit-torrent informazioa
-Name[fa]=اطلاعات جریان بیتی‌
+Name[fa]=اطلاعات جریان بیتی
 Name[fi]=Bit Torrent 
 Name[fr]=Infos Bit Torrent
 Name[gl]=Información de Bit Torrent
Index: kppp/accounts.cpp
===================================================================
--- kppp/accounts.cpp	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kppp/accounts.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -232,12 +232,12 @@
   QueryReset dlg(this);
   int what = dlg.exec();
 
-  if(what && QueryReset::COSTS) {
+  if((what & QueryReset::COSTS)) {
     emit resetCosts(accountlist_l->text(accountlist_l->currentItem()));
     costedit->setText("0");
   }
 
-  if(what && QueryReset::VOLUME) {
+  if((what & QueryReset::VOLUME)) {
     emit resetVolume(accountlist_l->text(accountlist_l->currentItem()));
     voledit->setText(prettyPrintVolume(0));
   }
Index: kppp/Kppp.desktop
===================================================================
--- kppp/Kppp.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kppp/Kppp.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -12,7 +12,7 @@
 GenericName[es]=Herramienta de conexión telefónica a Internet
 GenericName[et]=Sissehelistamine
 GenericName[eu]=Internet markatzaile tresna
-GenericName[fa]=ابزار شماره گیری اینترنت‌
+GenericName[fa]=ابزار شماره‌گیری اینترنت
 GenericName[fi]=Internet-yhteyden soitto-ohjelma
 GenericName[fr]=Connexion internet par modem
 GenericName[gl]=Ferramenta de Conexión Telefónica a Internet
Index: kppp/logview/kppplogview.desktop
===================================================================
--- kppp/logview/kppplogview.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ kppp/logview/kppplogview.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -5,7 +5,7 @@
 Name[bs]=Preglednik Kppp dnevnika
 Name[de]=KPPP-Protokoll-Betrachter
 Name[el]=Προβολή καταγραφής KPPP
-Name[fa]=نمای ثبت KPPP‌
+Name[fa]=نمای ثبت KPPP
 Name[he]=KPPP תצוגת רישום
 Name[is]=KPPP annálaskoðari
 Name[it]=Visualizzatore log KPPP
@@ -31,7 +31,7 @@
 GenericName[es]=Visor del registro de conexión telefónica a Internet
 GenericName[et]=Interneti sissehelistamise rakenduse logide näitaja
 GenericName[eu]=Internet markatzaile tresnaren erregistroaren ikusgailua
-GenericName[fa]=ابزار مشاهده‌گر ثبت شماره گیری اینترنت‌
+GenericName[fa]=ابزار مشاهده‌گر ثبت شماره‌گیری اینترنت
 GenericName[fi]=Internet-yhteyden soitto-ohjelman lokin näytin
 GenericName[fr]=Afficheur de l'historique des connexion internet par modem
 GenericName[gl]=Visor de Rexistros da Ferramenta de Conexión a Internet por Teléfono
Index: ktalkd/kcmktalkd/kcmktalkd.desktop
===================================================================
--- ktalkd/kcmktalkd/kcmktalkd.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ ktalkd/kcmktalkd/kcmktalkd.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -27,7 +27,7 @@
 Name[es]= Charla red local
 Name[et]=Kohtvõrgu chat
 Name[eu]=Sare lokaleko elkarrizketa
-Name[fa]=گپ شبکۀ محلی‌
+Name[fa]=گپ شبکۀ محلی
 Name[fi]=Paikallinen verkkokeskustelu
 Name[fr]=Discussion sur Réseau local
 Name[gl]=Chat na rede local
@@ -88,7 +88,7 @@
 Comment[es]=Configuración del demonio Talk
 Comment[et]=Talk deemoni seadistamine
 Comment[eu]=Elkarrizketa deabruaren konfigurazioa
-Comment[fa]=پیکربندی شبح گفتگو‌
+Comment[fa]=پیکربندی شبح گفتگو
 Comment[fi]=Talk-palvelimen asetukset
 Comment[fr]=Configuration du démon Talk
 Comment[ga]=Cumraíocht deamhan comhrá
@@ -152,7 +152,7 @@
 Keywords[es]=hablar,notificación,cliente,sonido,contestar,correo,llamador,rótulo,enviar,destino
 Keywords[et]=talk,teadaanne,klient,heli,vastamine,meil,helistaja,bänner,edasisuunamine, adressaat
 Keywords[eu]=elkarrizketa,berri-ematea,bezeroa,soinua,erantzungailu automatikoa,posta,deitzailea,titularra,birbidali,helburua
-Keywords[fa]=گفتگو،اعلان،کارخواه،صوت،پاسخ،نامه،شماره گیرنده،عنوان سازی،پیش سو،مقصد‌
+Keywords[fa]=گفتگو، اعلان، کارخواه، صوت، پاسخ، نامه، شمارۀ گیرنده، عنوان‌سازی، پیش‌سو، مقصد
 Keywords[fi]=talk,julkistus,asiakas,ääni,vastaus,sähköposti,soittaja,mainos,uudelleenohjaa,kohde
 Keywords[fr]=talk,discussion,annonce,bavardage,client,son,réponse,mail,courrier électronique,message,appel,bannière,envoi,destination
 Keywords[gl]=talk,anuncio,cliente,son,resposta,correo
Index: ksirc/ksirc.desktop
===================================================================
--- ksirc/ksirc.desktop	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ ksirc/ksirc.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -17,7 +17,7 @@
 GenericName[es]=Cliente de IRC
 GenericName[et]=IRC klient
 GenericName[eu]=IRC bezeroa
-GenericName[fa]=کارخواه IRC‌
+GenericName[fa]=کارخواه IRC
 GenericName[fi]=IRC-asiakasohjelma
 GenericName[fr]=Client IRC
 GenericName[ga]=Cliant IRC
Index: ksirc/eventsrc
===================================================================
--- ksirc/eventsrc	(.../tags/KDE/3.5.5/kdenetwork)	(wersja 620391)
+++ ksirc/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 620391)
@@ -24,7 +24,7 @@
 Name[es]=Evento de canal
 Name[et]=Kanali sündmus
 Name[eu]=Kanal gertaera
-Name[fa]=رویداد کانال 
+Name[fa]=رویداد کانال
 Name[fi]=Kanavatapahtuma
 Name[fr]=Événement de canal
 Name[gl]=Evento de canle
@@ -83,7 +83,7 @@
 Comment[es]=Evento de canal IRC
 Comment[et]=IRC kanali sündmus
 Comment[eu]=IRC kanal gertaera
-Comment[fa]=رویداد کانال IRC‌
+Comment[fa]=رویداد کانال IRC
 Comment[fi]=IRC-kanavatapahtuma
 Comment[fr]=Événement de canal IRC
 Comment[gl]=Evento na canle de IRC
@@ -147,7 +147,7 @@
 Name[es]=Mensaje personal en canal
 Name[et]=Erasõnum kanalis
 Name[eu]=Mezu pertsonala kanalan
-Name[fa]=پیامهای شخصی در کانال‌
+Name[fa]=پیامهای شخصی در کانال
 Name[fi]=Henkilökohtainen viesti kanavalla
 Name[fr]=Message personnel dans le canal
 Name[gl]=Mensaxe personal na canle
@@ -206,7 +206,7 @@
 Comment[es]=Alguien mencionó su apodo en IRC
 Comment[et]=Keegi mainis sinu hüüdnime IRCs
 Comment[eu]=Norbaitek zure goitizena idatzi du IRC-an
-Comment[fa]=شخصی لقب شما را در IRC ذکر کرد‌
+Comment[fa]=شخصی لقب شما را در IRC ذکر کرد
 Comment[fi]=Joku mainitsi lempinimesi IRC:ssä
 Comment[fr]=Quelqu'un a mentionné votre pseudo sur IRC
 Comment[gl]=Alguén mencionou o teu alcume no IRC
@@ -228,7 +228,7 @@
 Comment[nl]=Iemand noemde uw bijnaam op IRC
 Comment[nn]=Nokon nemnde kallenamnet ditt på IRC
 Comment[nso]=Yo mongwe o boletse leina la gago la metlae go IRC
-Comment[pl]=Ktoś wspomniał Twoj przydomek
+Comment[pl]=Ktoś wspomniał Twój przydomek
 Comment[pt]=Alguém mencionou o seu nome no IRC
 Comment[pt_BR]=Alguém mencionou seu apelido no IRC
 Comment[ru]=Кто-то упомянул ваше имя в IRC
@@ -265,7 +265,7 @@
 Name[es]=Pitido recibido
 Name[et]=Saabus piiks
 Name[eu]=Bip-a jaso da
-Name[fa]=بوق دریافت شد‌
+Name[fa]=بوق دریافت شد
 Name[fr]=Bip reçu
 Name[ga]=Fuarthas bíp
 Name[gl]=Recibiuse unha badalada
@@ -306,7 +306,7 @@
 Comment[es]=Se ha recibido un pitido del servidor
 Comment[et]=Serverilt saabus piiks
 Comment[eu]=Bip bat jaso da zerbitzaritik
-Comment[fa]=یک بوق از کارساز دریافت شد‌
+Comment[fa]=یک بوق از کارساز دریافت شد
 Comment[fr]=Un bip a été reçu du serveur
 Comment[gl]=Recibiuse unha badalada dende o servidor
 Comment[he]=התקבל ביפ מהשרת

Zmiany atrybutów dla: .
___________________________________________________________________
Nazwa: svn:externals
   + admin https://svn.kde.org/home/kde/branches/KDE/3.5/kde-common/admin


