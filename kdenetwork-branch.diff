Index: kpf/kpfpropertiesdialogplugin.desktop
===================================================================
--- kpf/kpfpropertiesdialogplugin.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kpf/kpfpropertiesdialogplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -10,6 +10,7 @@
 Name[da]=KPF-mappes egenskabsside
 Name[de]=KPF Ordner-Eigenschaftenseite
 Name[el]=Σελίδα ιδιοτήτων καταλόγου του KPF
+Name[eo]=KPF-dosierujo-eco-paĝo
 Name[es]=Página de propiedades de directorio KPF
 Name[et]=KPF kataloogi omaduste lehekülg
 Name[eu]=KPF direktorio propietaten orria
Index: krdc/krdc.desktop
===================================================================
--- krdc/krdc.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krdc/krdc.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -20,6 +20,7 @@
 GenericName[da]=Ekstern desktopforbindelse
 GenericName[de]=Verbindung zu Fremdrechner
 GenericName[el]=Σύνδεση σε απομακρυσμένη επιφάνεια εργασίας
+GenericName[eo]=Konektilo al foraj tabuloj
 GenericName[es]=Conexión remota de escritorio
 GenericName[et]=Kaugtöölaua ühendus
 GenericName[eu]=Urruneko mahaigain konexioa
Index: krfb/krfb/krfb.desktop
===================================================================
--- krfb/krfb/krfb.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/krfb/krfb.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -21,6 +21,7 @@
 GenericName[da]=Desktopdeling
 GenericName[de]=Arbeitsfläche freigeben
 GenericName[el]=Κοινή χρήση επιφάνειας εργασίας
+GenericName[eo]=Tabulkomunigado
 GenericName[es]=Escritorio compartido
 GenericName[et]=Töölaua jagamine
 GenericName[eu]=Mahaigain partekatzea
Index: krfb/krfb/main.cpp
===================================================================
--- krfb/krfb/main.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/krfb/main.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -39,6 +39,7 @@
 
 #include <signal.h>
 
+#undef VERSION
 #define VERSION "1.0"
 
 static const char description[] = I18N_NOOP("VNC-compatible server to share "
Index: krfb/libvncserver/main.c
===================================================================
--- krfb/libvncserver/main.c	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/libvncserver/main.c	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -260,6 +260,7 @@
 	    UNLOCK(cl->updateMutex);
 
             if (!haveUpdate) {
+                LOCK(cl->updateMutex);
                 TIMEDWAIT(cl->updateCond, cl->updateMutex, PING_MS);
 		UNLOCK(cl->updateMutex); /* we really needn't lock now. */
 		if (!haveUpdate)
Index: krfb/krfb_httpd/kinetd_krfb_httpd.desktop
===================================================================
--- krfb/krfb_httpd/kinetd_krfb_httpd.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/krfb_httpd/kinetd_krfb_httpd.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -54,7 +54,7 @@
 Comment[cy]=Meicro-daemon http sy'n gwasanaethu'r rhaglennig gwelydd VNC
 Comment[da]=En mikro http-dæmon for krfb der betjener VNC visningsappletten.
 Comment[de]=Ein Mikro-HTTP-Server für krfb, der als Miniprogramm zu VNC-Anzeige dient.
-Comment[el]=Ένας μικρός δαίμονας http για το krfb που εξυπηρετεί το εφαρμογίδιο προβολής VNC.
+Comment[el]=Ένας μικρός δαίμονας http για το krfb που εξυπηρετεί τη μικροεφαρμογή προβολής VNC.
 Comment[es]=Un micro demonio http para krfb que sirve de applet de visor VNC.
 Comment[et]=Mikro-HTTP deemon KRfb jaoks, mis teenindab VNC apletti.
 Comment[eu]=VNC ikustaile applet-a zerbitzatzen duen krfb-rako micro http deabrua.
@@ -81,7 +81,7 @@
 Comment[pl]=Mikroskopijny serwer HTTP dla KRfb obsługującego aplet przeglądarki VNC.
 Comment[pt]=Um micro-servidor de HTTP para o krfb que serve a 'applet' de visualização de VNC.
 Comment[pt_BR]=Um micro daemon de http, para o krfb, que serve o miniaplicativo de visualização do VNC.
-Comment[ru]=Микро-сервер http для krfb, который обслуживает аплет просмотрщика VNC.
+Comment[ru]=Микро-сервер http для krfb, который обслуживает аплет просмотра VNC.
 Comment[sk]=Mikro http démon pre krfb ktorý ovláda prehliadací applet VNC.
 Comment[sl]=Mikro http strežnik za krfb, ki streže ogledovalnikom VNC.
 Comment[sr]=Микро http демон за krfb који опслужује аплет VNC приказивача.
Index: krfb/kcm_krfb/kcm_krfb.cpp
===================================================================
--- krfb/kcm_krfb/kcm_krfb.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/kcm_krfb/kcm_krfb.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -38,6 +38,7 @@
 #include <kdebug.h>
 #include <dcopclient.h>
 
+#undef VERSION
 #define VERSION "0.7"
 
 
Index: krfb/kcm_krfb/kcmkrfb.desktop
===================================================================
--- krfb/kcm_krfb/kcmkrfb.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/kcm_krfb/kcmkrfb.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -150,6 +150,7 @@
 Keywords[da]=desktopdeling,krfb,vnc,deling,krdc,ekstern desktopforbindelse,invitation,port,slp,ikke inviteret
 Keywords[de]=Arbeitsfläche freigeben,krfb,VNC,freigeben,krdc,Entfernte Arbeitsfläche,Einladung,Port,slp,uneingeladen
 Keywords[el]=κοινή χρήση επιφάνειας εργασίας,krfb,vnc,κοινή χρήση,krdc,σύνδεση σε απομακρυσμένη επιφάνεια εργασίας,πρόσκληση,θύρα,slp,απρόσκλητο
+Keywords[eo]=tabulo,tabulokomunigado,foraj tabuloj
 Keywords[es]=escritorio compartido,krfb,vnc,compartir,rdp,krdc, conexión escritorio remoto,invitación,puerto,slp,no invitado
 Keywords[et]=töölaua jagamine,krfb,vnc,jagamine,rdp,krdc,kaugtöölaua ühendus,rdp,kutse,port,slp,kutsumata
 Keywords[eu]=mahaigain partekatzea,krfb,vnc,partekatzea,krdc,urruneko mahaigain konexioa,gonbidapena,ataka,slp,gonbidapen gabea
@@ -175,6 +176,7 @@
 Keywords[pl]=współdzielenie pulpitu,krfb,vnc,współdzielenie,rdp,krdc,zdalne połączenie, zdalne biurko, zdalny pulpit, zaproszenie,port,slp
 Keywords[pt]=partilha do ecrã,krfb,vnc,partilha,krdc,ligação a um ecrã remoto,convite,porto,slp,sem convite
 Keywords[pt_BR]=compartilhamento de desktop,krfb,vnc,compartilhamento,krdc,conexão a desktop remoto,convite,porta,slp,não convidado
+Keywords[ru]=desktop sharing,krfb,vnc,sharing,krdc,remote desktop connection,invitation,port,slp,uninvited,совместные ресурсы,рабочий стол,удалённая работа
 Keywords[sk]=zdieľanie plochy,krfb,vnc,zdieľanie,rdp,krdc,pripojenie vzdialenej pracovnej plochy,rdp
 Keywords[sl]=namizje,souporaba,krfb,vnc,krdc,povezava oddaljenega namizja, povabilo,port,slp,nepovabljen
 Keywords[sr]=desktop sharing,krfb,vnc,sharing,krdc,remote desktop connection,invitation,port,slp,uninvited,радна површина,дељење,позив,порт,непозван,удаљено
Index: krfb/kinetd/kinetd.desktop
===================================================================
--- krfb/kinetd/kinetd.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ krfb/kinetd/kinetd.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -43,7 +43,7 @@
 Name[mn]=KDE Интернет-демон
 Name[ms]=Daemon Internet KDE
 Name[mt]=Daemon tal-internet KDE
-Name[nb]=KDEs Internett-nisse
+Name[nb]=KDEs internett-nisse
 Name[nds]=KDE-Internetdämoon
 Name[ne]=केडीई इन्टरनेट डेइमन
 Name[nn]=KDE-Internett-nisse
@@ -105,7 +105,7 @@
 Comment[mn]=Сүлжээ-үйлчилгээний эрэлтээр ассан Сүлжээний демон
 Comment[ms]=Daemon Internet yang memulakan servis jaringan di atas permintaan
 Comment[mt]=Proċess tal-internet li jħaddem servizzi skond il-bżonn
-Comment[nb]=Internett-nisse som starter nettverkstjenester ved behov
+Comment[nb]=internett-nisse som starter nettverkstjenester ved behov
 Comment[nds]=En Internet-Dämoon, wat Nettwarkdeensten op Anfraag start
 Comment[ne]=एउटा इन्टरनेट डेइमन जसले मागमा सञ्जाल सेवा सुरु गर्दछ
 Comment[nl]=Een internetdaemon die netwerkdiensten op afroep start
Index: lanbrowsing/kcmlisa/kcmkiolan.desktop
===================================================================
--- lanbrowsing/kcmlisa/kcmkiolan.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ lanbrowsing/kcmlisa/kcmkiolan.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -120,6 +120,7 @@
 Keywords[bg]=настройки, локална, мрежа, lan
 Keywords[bn]=ল্যান
 Keywords[de]=LAN
+Keywords[eo]=reto
 Keywords[fa]=شبکۀ داخلی
 Keywords[fr]=lan,réseau local,réseau
 Keywords[gl]=lan,redes locáis
Index: kdnssd/ioslave/zeroconf.desktop
===================================================================
--- kdnssd/ioslave/zeroconf.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kdnssd/ioslave/zeroconf.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -12,6 +12,7 @@
 Name[da]=Netværkstjenester
 Name[de]=Netzwerkdienste
 Name[el]=Υπηρεσίες δικτύου
+Name[eo]=Retservoj
 Name[es]=Servicios de red
 Name[et]=Võrguteenused
 Name[eu]=Sare zerbitzuak
Index: kopete/plugins/nowlistening/kopete_nowlistening_config.desktop
===================================================================
--- kopete/plugins/nowlistening/kopete_nowlistening_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/nowlistening/kopete_nowlistening_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Lytter nu
 Name[de]=Im Hintergrund läuft
 Name[el]=Τώρα ακούω
+Name[eo]=Nun aŭskultanta
 Name[es]=Escuchando
 Name[et]=Praegu kuulan
 Name[eu]=Orain entzuten
@@ -88,7 +89,7 @@
 Comment[hr]=Govori vašim prijateljima što trenutno slušate
 Comment[hu]=A partnerek értesítése arról, hogy Ön mit hallgat
 Comment[is]=Segir vinum þínum á hvað þú ert að hlusta
-Comment[it]=Di' ai tuoi amici stai ascoltando
+Comment[it]=Di' ai tuoi amici cosa stai ascoltando
 Comment[ja]=何を聴いているかを仲間に伝える
 Comment[kk]=Достарыңызға тыңдап тұрғаныңыз туралы хабарлайды
 Comment[km]=ប្រាប់​សម្លាញ់​អ្នក​ថា អ្នក​កំពុង​ស្ដាប់​អ្វី
Index: kopete/plugins/nowlistening/kopete_nowlistening.desktop
===================================================================
--- kopete/plugins/nowlistening/kopete_nowlistening.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/nowlistening/kopete_nowlistening.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Lytter nu
 Name[de]=Im Hintergrund läuft
 Name[el]=Τώρα ακούω
+Name[eo]=Nun aŭskultanta
 Name[es]=Escuchando
 Name[et]=Praegu kuulan
 Name[eu]=Orain entzuten
@@ -92,7 +93,7 @@
 Comment[hr]=Govori vašim prijateljima što trenutno slušate
 Comment[hu]=A partnerek értesítése arról, hogy Ön mit hallgat
 Comment[is]=Segir vinum þínum á hvað þú ert að hlusta
-Comment[it]=Di' ai tuoi amici stai ascoltando
+Comment[it]=Di' ai tuoi amici cosa stai ascoltando
 Comment[ja]=何を聴いているかを仲間に伝える
 Comment[kk]=Достарыңызға тыңдап тұрғаныңыз туралы хабарлайды
 Comment[km]=ប្រាប់​សម្លាញ់​អ្នក​ថា អ្នក​កំពុង​ស្ដាប់​អ្វី
Index: kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop
===================================================================
--- kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/smpppdcs/kopete_smpppdcs_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -66,6 +66,7 @@
 Comment[da]=SMPPPDCS-Plugin
 Comment[de]=SMPPPDCS-Modul
 Comment[el]=Πρόσθετο SMPPPDCS
+Comment[eo]=SMPPPDCS-kromaĵo
 Comment[es]=Extensión SMPPPDCS
 Comment[et]=SMPPPDCS plugin
 Comment[eu]=SMPPPDCS plugin-a
Index: kopete/plugins/alias/kopete_alias.desktop
===================================================================
--- kopete/plugins/alias/kopete_alias.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/alias/kopete_alias.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -23,6 +23,7 @@
 Name[ca]=Àlies
 Name[cy]=Ffugenw
 Name[el]=Αντιστοιχία
+Name[eo]=Alinomo
 Name[eu]=Aliasa
 Name[fa]=نام‌گردان
 Name[fi]=Uusi nimi
Index: kopete/plugins/alias/kopete_alias_config.desktop
===================================================================
--- kopete/plugins/alias/kopete_alias_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/alias/kopete_alias_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,6 +19,7 @@
 Name[ca]=Àlies
 Name[cy]=Ffugenw
 Name[el]=Αντιστοιχία
+Name[eo]=Alinomo
 Name[eu]=Aliasa
 Name[fa]=نام‌گردان
 Name[fi]=Uusi nimi
Index: kopete/plugins/translator/kopete_translator.desktop
===================================================================
--- kopete/plugins/translator/kopete_translator.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/translator/kopete_translator.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -27,6 +27,7 @@
 Name[da]=Oversætter
 Name[de]=Übersetzer
 Name[el]=Μεταφραστής
+Name[eo]=Tradukilo
 Name[es]=Traductor
 Name[et]=Tõlketeenus
 Name[eu]=Itzultzailea
Index: kopete/plugins/translator/kopete_translator_config.desktop
===================================================================
--- kopete/plugins/translator/kopete_translator_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/translator/kopete_translator_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -23,6 +23,7 @@
 Name[da]=Oversætter
 Name[de]=Übersetzer
 Name[el]=Μεταφραστής
+Name[eo]=Tradukilo
 Name[es]=Traductor
 Name[et]=Tõlketeenus
 Name[eu]=Itzultzailea
Index: kopete/plugins/statistics/kopete_statistics.desktop
===================================================================
--- kopete/plugins/statistics/kopete_statistics.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/statistics/kopete_statistics.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Statistik
 Name[de]=Statistiken
 Name[el]=Στατιστικά
+Name[eo]=Statistikoj
 Name[es]=Estadísticas
 Name[et]=Statistika
 Name[eu]=Estatistikak
Index: kopete/plugins/cryptography/kopete_cryptography_config.desktop
===================================================================
--- kopete/plugins/cryptography/kopete_cryptography_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/cryptography/kopete_cryptography_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Kryptografi
 Name[de]=Kryptographie
 Name[el]=Κρυπτογραφία
+Name[eo]=Ĉifrado
 Name[es]=Criptografí­a
 Name[et]=Krüpto
 Name[eu]=Kriptografia
Index: kopete/plugins/cryptography/kopete_cryptography.desktop
===================================================================
--- kopete/plugins/cryptography/kopete_cryptography.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/cryptography/kopete_cryptography.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Kryptografi
 Name[de]=Kryptographie
 Name[el]=Κρυπτογραφία
+Name[eo]=Ĉifrado
 Name[es]=Criptografí­a
 Name[et]=Krüpto
 Name[eu]=Kriptografia
Index: kopete/plugins/netmeeting/kopete_netmeeting_config.desktop
===================================================================
--- kopete/plugins/netmeeting/kopete_netmeeting_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/netmeeting/kopete_netmeeting_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -15,6 +15,7 @@
 Name[bg]=Видео чат
 Name[bn]=নেট মিটিং
 Name[da]=Netmøde
+Name[eo]=Reta renkontiĝo
 Name[fa]=نت میتینگ
 Name[fr]=Vidéo-conférence
 Name[hi]=नेटमीटिंग
Index: kopete/plugins/netmeeting/kopete_netmeeting.desktop
===================================================================
--- kopete/plugins/netmeeting/kopete_netmeeting.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/netmeeting/kopete_netmeeting.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,6 +19,7 @@
 Name[bg]=Видео чат
 Name[bn]=নেট মিটিং
 Name[da]=Netmøde
+Name[eo]=Reta renkontiĝo
 Name[fa]=نت میتینگ
 Name[fr]=Vidéo-conférence
 Name[hi]=नेटमीटिंग
Index: kopete/plugins/texteffect/kopete_texteffect.desktop
===================================================================
--- kopete/plugins/texteffect/kopete_texteffect.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/texteffect/kopete_texteffect.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Teksteffekt
 Name[de]=Texteffekte
 Name[el]=Εφέ κειμένου
+Name[eo]=Tekst-efektoj
 Name[es]=Efecto de texto
 Name[et]=Tekstiefektid
 Name[eu]=Testuaren efektua
@@ -82,6 +83,7 @@
 Comment[da]=Tilføj rare effekter til dine beskeder
 Comment[de]=Verschönern Sie eigene Nachrichten durch nette Effekte
 Comment[el]=Προσθέτει όμορφα εφέ στα μηνύματά σας
+Comment[eo]=Ornami viajn mesaĝojn per belaj efektoj
 Comment[es]=Añade efectos agradables a sus mensajes
 Comment[et]=Lisab sõnumitele vahvaid efekte
 Comment[eu]=Gehitu efektu atseginak zure mezuei
Index: kopete/plugins/texteffect/kopete_texteffect_config.desktop
===================================================================
--- kopete/plugins/texteffect/kopete_texteffect_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/texteffect/kopete_texteffect_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Teksteffekt
 Name[de]=Texteffekte
 Name[el]=Εφέ κειμένου
+Name[eo]=Tekst-efektoj
 Name[es]=Efecto de texto
 Name[et]=Tekstiefektid
 Name[eu]=Testuaren efektua
Index: kopete/plugins/history/kopete_history_config.desktop
===================================================================
--- kopete/plugins/history/kopete_history_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/history/kopete_history_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -91,6 +91,7 @@
 Comment[da]=Historik-plugin
 Comment[de]=Verlaufsmodul
 Comment[el]=Πρόσθετο ιστορικού
+Comment[eo]=Historio-kromaĵo
 Comment[es]=Complemento de Historial
 Comment[et]=Ajalooplugin
 Comment[eu]=Historia plugin-a
Index: kopete/plugins/webpresence/kopete_webpresence.desktop
===================================================================
--- kopete/plugins/webpresence/kopete_webpresence.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/webpresence/kopete_webpresence.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -77,6 +77,7 @@
 Name[da]=WWW-nærvær
 Name[de]=Web-Präsenz
 Name[el]=Παρουσία σε ιστοσελίδα
+Name[eo]=TTT-Prezenco
 Name[es]=Presencia Web
 Name[et]=Veebinimekiri
 Name[fa]=حضور وب
Index: kopete/plugins/webpresence/kopete_webpresence_config.desktop
===================================================================
--- kopete/plugins/webpresence/kopete_webpresence_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/webpresence/kopete_webpresence_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -73,6 +73,7 @@
 Name[da]=WWW-nærvær
 Name[de]=Web-Präsenz
 Name[el]=Παρουσία σε ιστοσελίδα
+Name[eo]=TTT-Prezenco
 Name[es]=Presencia Web
 Name[et]=Veebinimekiri
 Name[fa]=حضور وب
Index: kopete/plugins/connectionstatus/kopete_connectionstatus.desktop
===================================================================
--- kopete/plugins/connectionstatus/kopete_connectionstatus.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/connectionstatus/kopete_connectionstatus.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -25,6 +25,7 @@
 Name[da]=Forbindelsesstatus
 Name[de]=Verbindungsstatus
 Name[el]=Κατάσταση σύνδεσης
+Name[eo]=Konektostato
 Name[es]=Estado de conexión
 Name[et]=Ühenduse staatus
 Name[eu]=Konexioaren egoera
Index: kopete/plugins/contactnotes/kopete_contactnotes.desktop
===================================================================
--- kopete/plugins/contactnotes/kopete_contactnotes.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/contactnotes/kopete_contactnotes.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -27,6 +27,7 @@
 Name[da]=Kontaktnoter
 Name[de]=Kontakt-Notizen
 Name[el]=Σημειώσεις επαφής
+Name[eo]=Kontaktinformoj
 Name[es]=Notas de contacto
 Name[et]=Kontakti märkmed
 Name[eu]=Kontaktuaren oharrak
@@ -79,6 +80,7 @@
 Comment[da]=Tilføj personlige noter om dine kontakter
 Comment[de]=Ermöglicht das Hinzufügen persönlicher Notizen zu Kontakten
 Comment[el]=Προσθέστε προσωπικές σημειώσεις στις επαφές σας
+Comment[eo]=Aldoni personajn notojn al viaj kontaktoj
 Comment[es]=Añade notas personales a tus contactos
 Comment[et]=Isiklike märkmete lisamine kontaktide kohta
 Comment[eu]=Gehitu ohar pertsonalak zure kontaktuei
Index: kopete/plugins/autoreplace/kopete_autoreplace.desktop
===================================================================
--- kopete/plugins/autoreplace/kopete_autoreplace.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/autoreplace/kopete_autoreplace.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Auto-erstat
 Name[de]=Automatische Ersetzung
 Name[el]=Αυτόματη αντικατάσταση
+Name[eo]=Aŭtomata anstataŭigo
 Name[es]=Auto reemplazar
 Name[et]=Automaatne asendamine
 Name[eu]=Auto ordezkatu
Index: kopete/plugins/autoreplace/kopete_autoreplace_config.desktop
===================================================================
--- kopete/plugins/autoreplace/kopete_autoreplace_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/autoreplace/kopete_autoreplace_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Auto-erstat
 Name[de]=Automatische Ersetzung
 Name[el]=Αυτόματη αντικατάσταση
+Name[eo]=Aŭtomata anstataŭigo
 Name[es]=Auto reemplazar
 Name[et]=Automaatne asendamine
 Name[eu]=Auto ordezkatu
Index: kopete/plugins/highlight/kopete_highlight.desktop
===================================================================
--- kopete/plugins/highlight/kopete_highlight.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/highlight/kopete_highlight.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,7 @@
 Name[da]=Fremhæv
 Name[de]=Hervorhebung
 Name[el]=Τονισμός
+Name[eo]=Lumaĵo
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
@@ -81,6 +82,7 @@
 Comment[da]=Fremhæv beskeder
 Comment[de]=Hervorhebung von Nachrichten
 Comment[el]=Τονισμός μηνυμάτων
+Comment[eo]=Elstarigi mesaĝojn
 Comment[es]=Resaltar mensajes
 Comment[et]=Sõnumite esiletõstmine
 Comment[eu]=Nabarmendu mezuak
Index: kopete/plugins/highlight/kopete_highlight_config.desktop
===================================================================
--- kopete/plugins/highlight/kopete_highlight_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/highlight/kopete_highlight_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Fremhæv
 Name[de]=Hervorhebung
 Name[el]=Τονισμός
+Name[eo]=Lumaĵo
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
Index: kopete/plugins/latex/kopete_latex_config.desktop
===================================================================
--- kopete/plugins/latex/kopete_latex_config.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/plugins/latex/kopete_latex_config.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Fremhæv
 Name[de]=Hervorhebung
 Name[el]=Τονισμός
+Name[eo]=Lumaĵo
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
Index: kopete/protocols/groupwise/kopete_groupwise.desktop
===================================================================
--- kopete/protocols/groupwise/kopete_groupwise.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/groupwise/kopete_groupwise.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -18,7 +18,6 @@
 Name=GroupWise
 Name[bn]=গ্রুপ-ওয়াইজ
 Name[fa]=گروه هوشیار
-Name[it]=Per gruppi
 Name[ne]=समूहगत
 Name[ta]=குழு படி
 Name[tr]=Akıllı Gruplama
@@ -32,7 +31,7 @@
 Comment[fr]=Messagerie GroupWise Novell
 Comment[he]=תוכנת המסרים של נובל GroupWise
 Comment[is]=Novell GroupWise skilaboðaþjónustan
-Comment[it]=Messaggistica per gruppi di Novell
+Comment[it]=Messaggistica per GroupWise di Novell
 Comment[ja]=Novell GroupWise メッセンジャー
 Comment[kk]=Novell GroupWise хабарласуы
 Comment[km]=កម្មវិធី​ផ្ញើ​សារ​របស់​ណូវែល - GroupWise
Index: kopete/protocols/groupwise/libgroupwise/tasks/logintask.cpp
===================================================================
--- kopete/protocols/groupwise/libgroupwise/tasks/logintask.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/groupwise/libgroupwise/tasks/logintask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -75,30 +75,28 @@
 	// CREATE CONTACT LIST
 	// locate contact list
 	Field::MultiField * contactList = loginResponseFields.findMultiField( NM_A_FA_CONTACT_LIST );
-	if ( !contactList )
+	if ( contactList )
 	{
-		setError( Protocol );
-		return true;
+		Field::FieldList contactListFields = contactList->fields();
+		Field::MultiField * container;
+		// read folders
+		for ( Field::FieldListIterator it = contactListFields.find( NM_A_FA_FOLDER );
+				it != contactListFields.end();
+				it = contactListFields.find( ++it, NM_A_FA_FOLDER ) )
+		{
+			container = static_cast<Field::MultiField *>( *it );
+			extractFolder( container );
+		}
+
+		// read contacts
+		for ( Field::FieldListIterator it = contactListFields.find( NM_A_FA_CONTACT );
+				it != contactListFields.end();
+				it = contactListFields.find( ++it, NM_A_FA_CONTACT ) )
+		{
+			container = static_cast<Field::MultiField *>( *it );
+			extractContact( container );
+		}
 	}
-	Field::FieldList contactListFields = contactList->fields();
-	Field::MultiField * container;
-	// read folders
-	for ( Field::FieldListIterator it = contactListFields.find( NM_A_FA_FOLDER );
-		  it != contactListFields.end();
-		  it = contactListFields.find( ++it, NM_A_FA_FOLDER ) )
-	{
-		container = static_cast<Field::MultiField *>( *it );
-		extractFolder( container );
-	}
-		  
-	// read contacts
-	for ( Field::FieldListIterator it = contactListFields.find( NM_A_FA_CONTACT );
-		  it != contactListFields.end();
-		  it = contactListFields.find( ++it, NM_A_FA_CONTACT ) )
-	{
-		container = static_cast<Field::MultiField *>( *it );
-		extractContact( container );
-	}
 
 	extractKeepalivePeriod( loginResponseFields );
 
Index: kopete/protocols/jabber/kioslave/jabberdisco.protocol
===================================================================
--- kopete/protocols/jabber/kioslave/jabberdisco.protocol	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/jabber/kioslave/jabberdisco.protocol	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,7 +26,7 @@
 Description[gl]=Un KIO slave para Jabber Service Discovery
 Description[hu]=KDE-protokoll a Jabber szolgáltatáskereső használatához
 Description[is]=kioslave fyrir Jabber þjónustu uppgötvun
-Description[it]=Un KIO slave per il servizio di discovery per jabber
+Description[it]=Un KIO slave per il servizio di discovery per Jabber
 Description[ja]=Jabber Service Discovery の KIO スレーブ
 Description[kk]=Jabber қызметін байқау KIO slave қызметі
 Description[km]=KIO slave មួយ​សម្រាប់​របក​គំហើញ​សេវា Jabber
Index: kopete/protocols/oscar/liboscar/localcontactlisttask.h
===================================================================
--- kopete/protocols/oscar/liboscar/localcontactlisttask.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/localcontactlisttask.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -1,39 +0,0 @@
-/*
-  Kopete Oscar Protocol
-
-  Copyright (c) 2005 Jan Ritzerfeld <kde@bugs.jan.ritzerfeld.net>
-  Copyright (c) 2004-2005 Matt Rogers <mattr@kde.org>
-
-  Kopete (c) 2002-2005 by the Kopete developers <kopete-devel@kde.org>
-
-  *************************************************************************
-  *                                                                       *
-  * This library is free software; you can redistribute it and/or         *
-  * modify it under the terms of the GNU Lesser General Public            *
-  * License as published by the Free Software Foundation; either          *
-  * version 2 of the License, or (at your option) any later version.      *
-  *                                                                       *
-  *************************************************************************
-*/
-#ifndef LOCALCONTACTLISTTASK_H
-#define LOCALCONTACTLISTTASK_H
-
-#include "task.h"
-
-/**
-Fire and forget task to let the server think we're using a local contact list
-This will show status of "waiting for authorization" contacts
-
-@author Jan Ritzerfeld
-*/
-class LocalContactListTask : public Task
-{
-public:
-	LocalContactListTask( Task* parent );
-	~LocalContactListTask();
-	virtual void onGo();
-};
-
-#endif
-
-//kate: tab-width 4; indent-mode csands;
Index: kopete/protocols/oscar/liboscar/localcontactlisttask.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/localcontactlisttask.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/localcontactlisttask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -1,89 +0,0 @@
-/*
-   Kopete Oscar Protocol
-   fakelocalcontactlisttask.cpp
-
-   Copyright (c) 2005 Jan Ritzerfeld <kde@bugs.jan.ritzerfeld.net>
-   Copyright (c) 2004 Matt Rogers <mattr@kde.org>
-
-   Kopete (c) 2002-2005 by the Kopete developers <kopete-devel@kde.org>
-
-   *************************************************************************
-   *                                                                       *
-   * This library is free software; you can redistribute it and/or         *
-   * modify it under the terms of the GNU Lesser General Public            *
-   * License as published by the Free Software Foundation; either          *
-   * version 2 of the License, or (at your option) any later version.      *
-   *                                                                       *
-   *************************************************************************
-*/
-#include "localcontactlisttask.h"
-
-#include <kdebug.h>
-#include "buffer.h"
-#include "connection.h"
-#include "ssimanager.h"
-#include "oscarsettings.h"
-#include "oscartypes.h"
-#include "oscarutils.h"
-#include "transfer.h"
-
-using namespace Oscar;
-
-#define PACKET_SIZE_LIMIT 8000
-
-LocalContactListTask::LocalContactListTask(Task* parent): Task(parent)
-{
-}
-
-
-LocalContactListTask::~LocalContactListTask()
-{
-}
-
-
-void LocalContactListTask::onGo()
-{
-	if( !client()->settings()->respectRequireAuth() )
-	{
-		QValueList<Oscar::SSI> contactList = client()->ssiManager()->contactList();
-		
-		if ( contactList.isEmpty() )
-		{
-			setSuccess( 0, QString::null );
-			return;
-		}
-		
-		FLAP f = { 0x02, 0, 0 };
-		SNAC s = { 0x0003, 0x0004, 0x0000, client()->snacSequence() };
-		Buffer* buffer = new Buffer();
-		
-		kdDebug( OSCAR_RAW_DEBUG ) << k_funcinfo << "Sending contact list" << endl;
-		QValueList<Oscar::SSI>::const_iterator cEnd = contactList.constEnd();
-		for ( QValueList<Oscar::SSI>::const_iterator it = contactList.constBegin(); it != cEnd; ++it )
-		{
-			if ( ( buffer->length() + ( *it ).name().length() ) 
-				< PACKET_SIZE_LIMIT )
-			{
-				kdDebug( OSCAR_RAW_DEBUG ) << "Adding contact " << ( *it ).name() << " to CLI_BUDDYLIST_ADD packet" << endl;
-				buffer->addBUIN( ( *it ).name().latin1() );
-			}
-			else
-			{
-				kdDebug( OSCAR_RAW_DEBUG ) << "CLI_BUDDYLIST_ADD packet is full. Transmitting the packet" << endl;
-				Transfer* t = createTransfer( f, s, buffer );
-				send( t );
-
-				buffer = new Buffer();
-				kdDebug( OSCAR_RAW_DEBUG ) << "Adding contact " << ( *it ).name() << " to CLI_BUDDYLIST_ADD packet" << endl;
-				buffer->addBUIN( ( *it ).name().latin1() );
-			}
-		}
-	
-		Transfer* t = createTransfer( f, s, buffer );
-		send( t );
-	}
-	
-	setSuccess( 0, QString::null );
-}
-
-//kate: tab-width 4; indent-mode csands;
Index: kopete/protocols/oscar/liboscar/userdetails.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/userdetails.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/userdetails.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -124,7 +124,11 @@
 
 QString UserDetails::clientName() const
 {
-	return (m_clientName + m_clientVersion);
+	if ( !m_clientVersion.isEmpty() )
+		return i18n("Translators: client-name client-version",
+	                "%1 %2").arg(m_clientName, m_clientVersion);
+	else
+		return m_clientName;
 }
 
 void UserDetails::fill( Buffer * buffer )
@@ -196,10 +200,10 @@
 				m_dcInsideIp = KNetwork::KIpAddress( ntohl( b.getDWord() ) );
 				m_dcPort = b.getDWord();
 #ifdef OSCAR_USERINFO_DEBUG
-    			kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "Internal IP address is " << m_dcInsideIp.toString() << endl;
-    			kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "Port number is " << m_dcPort << endl;
+				kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "Internal IP address is " << m_dcInsideIp.toString() << endl;
+				kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "Port number is " << m_dcPort << endl;
 #endif
-    			m_dcType = b.getByte();
+				m_dcType = b.getByte();
 				m_dcProtoVersion = b.getWord();
 				m_dcAuthCookie = b.getDWord();
 				m_dcWebFrontPort = b.getDWord();
@@ -216,6 +220,9 @@
 			case 0x000D: //capability info
 				m_capabilities = Oscar::parseCapabilities( b, m_clientVersion );
 				m_capabilitiesSpecified = true;
+#ifdef OSCAR_USERINFO_DEBUG
+				kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "Got capability info" << endl;
+#endif
 				break;
 			case 0x0010:
 			case 0x000F: //online time
@@ -306,7 +313,7 @@
 	 * Thanks a lot for all the tests you guys must have made
 	 * without sim-icq I would have only checked for the capabilities
 	 */
-	 /*
+	 
 	bool clientMatched = false;
 	if (m_capabilities != 0)
 	{
@@ -345,9 +352,9 @@
 				m_clientName=i18n("Licq");
 
 			if (ver % 10)
-				m_clientVersion.sprintf("%d%d%u", ver/1000, (ver/10)%100, ver%10);
+				m_clientVersion.sprintf("%d.%d.%u", ver/1000, (ver/10)%100, ver%10);
 			else
-				m_clientVersion.sprintf("%d%u", ver/1000, (ver/10)%100);
+				m_clientVersion.sprintf("%d.%u", ver/1000, (ver/10)%100);
 			return;
 		}
 		else // some client we could not detect using capabilities
@@ -425,6 +432,9 @@
 			case 9:
 				m_clientName=QString::fromLatin1("ICQ Lite");
 				break;
+			case 8:
+				m_clientName=QString::fromLatin1("Miranda");
+				break;
 			default:
 				m_clientName=QString::fromLatin1("ICQ2go");
 			}
@@ -464,7 +474,7 @@
 
 	kdDebug(OSCAR_RAW_DEBUG) << k_funcinfo << "detected client as: " << m_clientName
 		<< " " << m_clientVersion << endl;
-	*/
+	
 }
 
 bool UserDetails::hasCap( int capNumber ) const
Index: kopete/protocols/oscar/liboscar/oscarsettings.h
===================================================================
--- kopete/protocols/oscar/liboscar/oscarsettings.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/oscarsettings.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -42,8 +42,6 @@
 	/* Authorization settings */
 	void setRequireAuth( bool require );
 	bool requireAuth() const;
-	void setRespectRequireAuth( bool require );
-	bool respectRequireAuth() const;
 	
 	/* Hide IP Settings */
 	void setHideIP( bool hide );
@@ -53,7 +51,6 @@
 	
 	bool m_webAware;
 	bool m_requireAuth;
-	bool m_respectRequireAuth;
 	bool m_hideIP;
 };
 
Index: kopete/protocols/oscar/liboscar/Makefile.am
===================================================================
--- kopete/protocols/oscar/liboscar/Makefile.am	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/Makefile.am	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,7 +19,7 @@
 	offlinemessagestask.cpp ssiauthtask.cpp userinfotask.cpp icquserinfo.cpp icquserinfotask.cpp \
 	usersearchtask.cpp warningtask.cpp changevisibilitytask.cpp typingnotifytask.cpp \
 	buddyicontask.cpp serverredirecttask.cpp oscarsettings.cpp \
-	localcontactlisttask.cpp chatnavservicetask.cpp connectionhandler.cpp chatservicetask.cpp
+	chatnavservicetask.cpp connectionhandler.cpp chatservicetask.cpp
 
 liboscar_la_LDFLAGS = -no-undefined $(all_libraries)
 liboscar_la_LIBADD = $(LIB_QT) $(LIB_KDECORE)
Index: kopete/protocols/oscar/liboscar/oscarsettings.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/oscarsettings.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/oscarsettings.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -49,16 +49,6 @@
 	return m_requireAuth;
 }
 
-void Settings::setRespectRequireAuth( bool respect )
-{
-	m_respectRequireAuth = respect;
-}
-
-bool Settings::respectRequireAuth() const
-{
-	return m_respectRequireAuth;
-}
-
 void Settings::setHideIP( bool hide )
 {
 	m_hideIP = hide;
Index: kopete/protocols/oscar/liboscar/client.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/client.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/client.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -564,6 +564,10 @@
 	}
 	else if ( ! msg.hasProperty( Oscar::Message::AutoResponse ) )
 	{
+		// Filter out miranda's invisible check
+		if ( msg.messageType() == 0x0004 && msg.textArray().isEmpty() )
+			return;
+
 		// let application handle it
 		kdDebug( OSCAR_RAW_DEBUG ) << k_funcinfo << "Emitting receivedMessage" << endl;
 		emit messageReceived( msg );
Index: kopete/protocols/oscar/liboscar/servicesetuptask.cpp
===================================================================
--- kopete/protocols/oscar/liboscar/servicesetuptask.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/liboscar/servicesetuptask.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -21,7 +21,6 @@
 #include "blmlimitstask.h"
 #include "connection.h"
 #include "clientreadytask.h"
-#include "localcontactlisttask.h"
 #include "icbmparamstask.h"
 #include "locationrightstask.h"
 #include "ownuserinfotask.h"
@@ -110,8 +109,6 @@
 		crt->setFamilies( familyList );
 		sitt->go( true );
 		crt->go( true ); //autodelete
-		LocalContactListTask* lclt = new LocalContactListTask( client()->rootTask() );
-		lclt->go( true );
 	}
 	
 	if ( m_finishedTaskCount == 8 )
Index: kopete/protocols/oscar/icq/icqpresence.h
===================================================================
--- kopete/protocols/oscar/icq/icqpresence.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/icq/icqpresence.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -96,8 +96,8 @@
 	/**
 	 * Friendly types this status can be
 	 */
-	enum Type { Offline, DoNotDisturb, Occupied, NotAvailable, Away, FreeForChat, Online };
-	enum { TypeCount = Online + 1 };
+	enum Type { Offline, DoNotDisturb, Occupied, NotAvailable, Away, Online, FreeForChat };
+	enum { TypeCount = FreeForChat + 1 };
 	
 	enum Visibility { Invisible, Visible };
 	
Index: kopete/protocols/oscar/icq/x-icq.desktop
===================================================================
--- kopete/protocols/oscar/icq/x-icq.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/icq/x-icq.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -13,6 +13,7 @@
 Comment[da]=ICQ-Kontakt
 Comment[de]=ICQ-Kontakt
 Comment[el]=Επαφή ICQ
+Comment[eo]=ICQ-kontakto
 Comment[es]=Contacto de ICQ
 Comment[et]=ICQ kontakt
 Comment[eu]=ICQ kontaktua
Index: kopete/protocols/oscar/icq/icqaccount.cpp
===================================================================
--- kopete/protocols/oscar/icq/icqaccount.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/icq/icqaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -172,8 +172,6 @@
 		Oscar::Settings* oscarSettings = engine()->clientSettings();
 		oscarSettings->setWebAware( configGroup()->readBoolEntry( "WebAware", false ) );
 		oscarSettings->setHideIP( configGroup()->readBoolEntry( "HideIP", true ) );
-		oscarSettings->setRequireAuth( configGroup()->readBoolEntry( "RequireAuth", false ) );
-		oscarSettings->setRespectRequireAuth( configGroup()->readBoolEntry( "RespectRequireAuth", true ) );
 		//FIXME: also needed for the other call to setStatus (in setPresenceTarget)
 		DWORD status = pres.toOscarStatus();
 
Index: kopete/protocols/oscar/icq/ui/icqeditaccountwidget.cpp
===================================================================
--- kopete/protocols/oscar/icq/ui/icqeditaccountwidget.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/icq/ui/icqeditaccountwidget.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -78,9 +78,6 @@
         bool configValue = mAccount->configGroup()->readBoolEntry( "RequireAuth", false );
 		mAccountSettings->chkRequireAuth->setChecked( configValue );
 
-        configValue = mAccount->configGroup()->readBoolEntry( "RespectRequireAuth", true );
-		mAccountSettings->chkRespectRequireAuth->setChecked( configValue );
-
         configValue = mAccount->configGroup()->readBoolEntry( "HideIP", true );
 		mAccountSettings->chkHideIP->setChecked( configValue );
 
@@ -130,9 +127,6 @@
     bool configValue = mAccountSettings->chkRequireAuth->isChecked();
 	mAccount->configGroup()->writeEntry( "RequireAuth", configValue );
 
-    configValue = mAccountSettings->chkRespectRequireAuth->isChecked();
-	mAccount->configGroup()->writeEntry( "RespectRequireAuth", configValue );
-
     configValue = mAccountSettings->chkHideIP->isChecked();
 	mAccount->configGroup()->writeEntry( "HideIP", configValue );
 
Index: kopete/protocols/oscar/icq/ui/icqeditaccountui.ui
===================================================================
--- kopete/protocols/oscar/icq/ui/icqeditaccountui.ui	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/oscar/icq/ui/icqeditaccountui.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -331,14 +331,6 @@
                             </widget>
                             <widget class="QCheckBox" row="1" column="0">
                                 <property name="name">
-                                    <cstring>chkRespectRequireAuth</cstring>
-                                </property>
-                                <property name="text">
-                                    <string>Respect other contacts' &amp;wish to require authorization</string>
-                                </property>
-                            </widget>
-                            <widget class="QCheckBox" row="2" column="0">
-                                <property name="name">
                                     <cstring>chkHideIP</cstring>
                                 </property>
                                 <property name="text">
@@ -351,7 +343,7 @@
                                     <string>Checking this box will not allow people to see what your IP address if they view your ICQ user details such as name, address, or age.</string>
                                 </property>
                             </widget>
-                            <widget class="QCheckBox" row="3" column="0">
+                            <widget class="QCheckBox" row="2" column="0">
                                 <property name="name">
                                     <cstring>chkWebAware</cstring>
                                 </property>
Index: kopete/protocols/meanwhile/meanwhileeditaccountwidget.cpp
===================================================================
--- kopete/protocols/meanwhile/meanwhileeditaccountwidget.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhileeditaccountwidget.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,6 +19,7 @@
 #include <qcheckbox.h>
 #include <qpushbutton.h>
 #include <qspinbox.h>
+#include <qcombobox.h>
 #include <kdebug.h>
 #include <kopeteaccount.h>
 #include <kopetepasswordwidget.h>
@@ -27,10 +28,41 @@
 #include "meanwhileprotocol.h"
 #include "meanwhileaccount.h"
 #include "meanwhileeditaccountwidget.h"
+#include "meanwhilesession.h"
 
 #define DEFAULT_SERVER "messaging.opensource.ibm.com"
 #define DEFAULT_PORT 1533
 
+void MeanwhileEditAccountWidget::setupClientList()
+{
+    const struct MeanwhileClientID *id;
+    int i = 0;
+
+    for (id = MeanwhileSession::getClientIDs(); id->name; id++, i++) {
+        QString name = QString("%1 (0x%2)")
+                           .arg(QString(id->name))
+                           .arg(id->id, 0, 16);
+
+        mClientID->insertItem(name, i);
+
+        if (id->id == mwLogin_MEANWHILE)
+            mClientID->setCurrentItem(i);
+    }
+}
+
+void MeanwhileEditAccountWidget::selectClientListItem(int selectedID)
+{
+    const struct MeanwhileClientID *id;
+    int i = 0;
+
+    for (id = MeanwhileSession::getClientIDs(); id->name; id++, i++) {
+        if (id->id == selectedID) {
+            mClientID->setCurrentItem(i);
+            break;
+        }
+    }
+}
+
 MeanwhileEditAccountWidget::MeanwhileEditAccountWidget( 
                                 QWidget* parent, 
                                 Kopete::Account* theAccount,
@@ -40,16 +72,34 @@
 {
     protocol = theProtocol;
 
+    /* setup client identifier combo box */
+    setupClientList();
+
     if (account())
     {
+        int clientID, verMajor, verMinor;
+        bool useCustomID;
+
         mScreenName->setText(account()->accountId());
         mScreenName->setReadOnly(true); 
         mScreenName->setDisabled(true);
         mPasswordWidget->load(&static_cast<MeanwhileAccount*>(account())->password());
         mAutoConnect->setChecked(account()->excludeConnect());
+
         MeanwhileAccount *myAccount = static_cast<MeanwhileAccount *>(account());
+        useCustomID = myAccount->getClientIDParams(&clientID,
+                &verMajor, &verMinor);
+
         mServerName->setText(myAccount->getServerName());
         mServerPort->setValue(myAccount->getServerPort());
+
+        if (useCustomID) {
+            selectClientListItem(clientID);
+            mClientVersionMajor->setValue(verMajor);
+            mClientVersionMinor->setValue(verMinor);
+            chkCustomClientID->setChecked(true);
+        }
+
     }
     else
     {
@@ -81,6 +131,15 @@
     myAccount->setServerName(mServerName->text());
     myAccount->setServerPort(mServerPort->value());
 
+    if (chkCustomClientID->isChecked()) {
+        const struct MeanwhileClientID *ids = MeanwhileSession::getClientIDs();
+        myAccount->setClientID(ids[mClientID->currentItem()].id,
+                mClientVersionMajor->value(),
+                mClientVersionMinor->value());
+    } else {
+        myAccount->resetClientID();
+    }
+
     return myAccount;
 }
 
@@ -119,8 +178,17 @@
 
 void MeanwhileEditAccountWidget::slotSetServer2Default()
 {
+    int clientID, verMajor, verMinor;
+
+    MeanwhileSession::getDefaultClientIDParams(&clientID,
+            &verMajor, &verMinor);
+
     mServerName->setText(DEFAULT_SERVER);
     mServerPort->setValue(DEFAULT_PORT);
+    chkCustomClientID->setChecked(false);
+    selectClientListItem(clientID);
+    mClientVersionMajor->setValue(verMajor);
+    mClientVersionMinor->setValue(verMinor);
 }
 
 #include "meanwhileeditaccountwidget.moc"
Index: kopete/protocols/meanwhile/meanwhileeditaccountwidget.h
===================================================================
--- kopete/protocols/meanwhile/meanwhileeditaccountwidget.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhileeditaccountwidget.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -43,6 +43,9 @@
     void slotSetServer2Default();
 protected:
     MeanwhileProtocol *protocol;
+private:
+    void setupClientList();
+    void selectClientListItem(int selectedID);
 };
 
 #endif
Index: kopete/protocols/meanwhile/meanwhilesession.cpp
===================================================================
--- kopete/protocols/meanwhile/meanwhilesession.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhilesession.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -48,6 +48,32 @@
 
 #define get_protocol() (static_cast<MeanwhileProtocol *>(account->protocol()))
 
+static struct MeanwhileClientID ids[] = {
+	{ mwLogin_LIB,			"Lotus Binary Library" },
+	{ mwLogin_JAVA_WEB,		"Lotus Java Applet", },
+	{ mwLogin_BINARY,		"Lotus Binary App", },
+	{ mwLogin_JAVA_APP,		"Lotus Java App", },
+	{ mwLogin_LINKS,		"Sametime Links", },
+
+	{ mwLogin_NOTES_6_5,		"Notes 6.5", },
+	{ mwLogin_NOTES_6_5_3,		"Notes 6.5.3", },
+	{ mwLogin_NOTES_7_0_beta,	"Notes 7.0 beta", },
+	{ mwLogin_NOTES_7_0,		"Notes 7.0", },
+	{ mwLogin_ICT,			"ICT", },
+	{ mwLogin_ICT_1_7_8_2,		"ICT 1.7.8.2", },
+	{ mwLogin_ICT_SIP,		"ICT SIP", },
+	{ mwLogin_NOTESBUDDY_4_14,	"NotesBuddy 4.14", },
+	{ mwLogin_NOTESBUDDY_4_15,	"NotesBuddy 4.15" },
+	{ mwLogin_NOTESBUDDY_4_16,	"NotesBuddy 4.16" },
+	{ mwLogin_SANITY,		"Sanity", },
+	{ mwLogin_ST_PERL,		"ST Perl", },
+	{ mwLogin_PMR_ALERT,		"PMR Alert", },
+	{ mwLogin_TRILLIAN,		"Trillian", },
+	{ mwLogin_TRILLIAN_IBM,		"Trillian (IBM)", },
+	{ mwLogin_MEANWHILE,		"Meanwhile Library", },
+	{ 0, NULL },
+};
+
 MeanwhileSession::MeanwhileSession(MeanwhileAccount *account)
 {
     HERE;
@@ -118,6 +144,7 @@
 
     /* add a necessary cipher */
     mwSession_addCipher(session, mwCipher_new_RC2_40(session));
+    mwSession_addCipher(session, mwCipher_new_RC2_128(session));
 }
 
 MeanwhileSession::~MeanwhileSession()
@@ -137,6 +164,7 @@
     mwService_free(MW_SERVICE(imService));
     mwService_free(MW_SERVICE(awareService));
     mwCipher_free(mwSession_getCipher(session, mwCipher_RC2_40));
+    mwCipher_free(mwSession_getCipher(session, mwCipher_RC2_128));
 
     mwSession_free(session);
 
@@ -144,12 +172,28 @@
         delete socket;
 }
 
+void MeanwhileSession::getDefaultClientIDParams(int *clientID,
+	int *verMajor, int *verMinor)
+{
+    *clientID = mwLogin_MEANWHILE;
+    *verMajor = MW_PROTOCOL_VERSION_MAJOR;
+    *verMinor = MW_PROTOCOL_VERSION_MINOR;
+}
+
 /* external interface called by meanwhileaccount */
-void MeanwhileSession::connect(QString host, int port,
-        QString account, QString password)
+void MeanwhileSession::connect(QString password)
 {
+    int port, clientID, versionMajor, versionMinor;
+    bool useCustomID;
+    QString host;
+
     HERE;
 
+    host = account->getServerName();
+    port = account->getServerPort();
+    useCustomID = account->getClientIDParams(&clientID,
+	    &versionMajor, &versionMinor);
+
     KExtendedSocket *sock = new KExtendedSocket(host, port,
             KExtendedSocket::bufferedSocket);
 
@@ -168,11 +212,28 @@
     QObject::connect(sock, SIGNAL(closed(int)), this,
                      SLOT(slotSocketClosed(int)));
 
+    /* set login details */
     mwSession_setProperty(session, mwSession_AUTH_USER_ID,
-                    g_strdup(account.ascii()), g_free);
+                    g_strdup(account->meanwhileId().ascii()), g_free);
     mwSession_setProperty(session, mwSession_AUTH_PASSWORD,
                     g_strdup(password.ascii()), g_free);
 
+    /* set client type parameters */
+    if (useCustomID) {
+	mwSession_setProperty(session, mwSession_CLIENT_TYPE_ID,
+			GUINT_TO_POINTER(clientID), NULL);
+	mwSession_setProperty(session, mwSession_CLIENT_VER_MAJOR,
+			GUINT_TO_POINTER(versionMajor), NULL);
+	mwSession_setProperty(session, mwSession_CLIENT_VER_MINOR,
+			GUINT_TO_POINTER(versionMinor), NULL);
+    }
+
+    mwDebug() << "ids: "
+	<< mwSession_getProperty(session, mwSession_CLIENT_TYPE_ID) << " v"
+	<< mwSession_getProperty(session, mwSession_CLIENT_VER_MAJOR) << "."
+	<< mwSession_getProperty(session, mwSession_CLIENT_VER_MINOR) <<
+	endl;
+
     /* go!! */
     mwSession_start(session);
 }
@@ -875,6 +936,11 @@
     mwSametimeList_free(list);
 }
 
+const struct MeanwhileClientID *MeanwhileSession::getClientIDs()
+{
+    return ids;
+}
+
 #if 0
 MEANWHILE_HOOK_CONFERENCE(conference_invite,
         (struct mwConference *conf, struct mwLoginInfo *inviter,
Index: kopete/protocols/meanwhile/meanwhilesession.h
===================================================================
--- kopete/protocols/meanwhile/meanwhilesession.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhilesession.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -25,6 +25,11 @@
 #include <mw_srvc_im.h>
 #include <mw_srvc_resolve.h>
 
+struct MeanwhileClientID {
+    int		id;
+    const char *name;
+};
+
 /**
  * A class to handle libmeanwhile session management.
  */
@@ -50,7 +55,7 @@
      * the connection process is ascychronous - a loginDone() signal will be
      * emitted when sucessfully logged in.
      */
-    void connect(QString host, int port, QString account, QString password);
+    void connect(QString password);
 
     /**
      * Disconnect from the server.
@@ -105,6 +110,10 @@
      */
     bool isConnecting();
 
+    static const struct MeanwhileClientID *getClientIDs();
+
+    static void getDefaultClientIDParams(int *clientID,
+	    int *verMajor, int *verMinor);
 signals:
     /**
      * Emitted when the status of the connection changes
Index: kopete/protocols/meanwhile/meanwhileaccount.cpp
===================================================================
--- kopete/protocols/meanwhile/meanwhileaccount.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhileaccount.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -107,9 +107,7 @@
     }
 
     if (!m_session->isConnected() && !m_session->isConnecting())
-        m_session->connect(configGroup()->readEntry("Server"),
-                configGroup()->readNumEntry("Port"),
-                m_meanwhileId, password);
+        m_session->connect(password);
 
     m_session->setStatus(initialStatus());
 }
@@ -168,6 +166,38 @@
     configGroup()->writeEntry("Port", port);
 }
 
+void MeanwhileAccount::setClientID(int client, int major, int minor)
+{
+    configGroup()->writeEntry("clientID", client);
+    configGroup()->writeEntry("clientVersionMajor", major);
+    configGroup()->writeEntry("clientVersionMinor", minor);
+}
+
+void MeanwhileAccount::resetClientID()
+{
+    configGroup()->deleteEntry("clientID");
+    configGroup()->deleteEntry("clientVersionMajor");
+    configGroup()->deleteEntry("clientVersionMinor");
+}
+
+bool MeanwhileAccount::getClientIDParams(int *clientID,
+	int *verMajor, int *verMinor)
+{
+    bool custom_id = configGroup()->hasKey("clientID");
+
+    MeanwhileSession::getDefaultClientIDParams(clientID, verMajor, verMinor);
+
+    if (custom_id) {
+	*clientID = configGroup()->readUnsignedNumEntry("clientID", *clientID);
+	*verMajor = configGroup()->readUnsignedNumEntry("clientVersionMajor",
+		    *verMinor);
+	*verMinor = configGroup()->readUnsignedNumEntry("clientVersionMinor",
+		    *verMinor);
+    }
+
+    return custom_id;
+}
+
 void MeanwhileAccount::slotServerNotification(const QString &mesg)
 {
     KMessageBox::queuedMessageBox(0, KMessageBox::Error , mesg,
Index: kopete/protocols/meanwhile/meanwhileaccount.h
===================================================================
--- kopete/protocols/meanwhile/meanwhileaccount.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/meanwhileaccount.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -64,6 +64,15 @@
     /** Provide an information plugin for this account */
     void    setPlugin(MeanwhilePlugin *plugin);
 
+    /** Set the client identification parameters for the sametime connection */
+    void    setClientID(int client, int major, int minor);
+
+    /* returns true if custom IDs are in use, and populates the args */
+    bool    getClientIDParams(int *clientID, int *verMajor, int *verMinor);
+
+    /** Reset client identification parameters to their defaults */
+    void    resetClientID();
+
     MeanwhilePlugin *infoPlugin;
 
     /**
Index: kopete/protocols/meanwhile/ui/meanwhileeditaccountbase.ui
===================================================================
--- kopete/protocols/meanwhile/ui/meanwhileeditaccountbase.ui	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/meanwhile/ui/meanwhileeditaccountbase.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,12 +19,6 @@
         <property name="name">
             <cstring>unnamed</cstring>
         </property>
-        <property name="margin">
-            <number>0</number>
-        </property>
-        <property name="spacing">
-            <number>6</number>
-        </property>
         <widget class="QTabWidget">
             <property name="name">
                 <cstring>tabWidget11</cstring>
@@ -133,7 +127,7 @@
                             </property>
                             <widget class="QLayoutWidget">
                                 <property name="name">
-                                    <cstring>layout205</cstring>
+                                    <cstring>layout21</cstring>
                                 </property>
                                 <hbox>
                                     <property name="name">
@@ -224,41 +218,154 @@
                                             </widget>
                                         </hbox>
                                     </widget>
-                                    <widget class="QPushButton">
+                                </hbox>
+                            </widget>
+                            <widget class="QGroupBox">
+                                <property name="name">
+                                    <cstring>groupBox5</cstring>
+                                </property>
+                                <property name="title">
+                                    <string>Client Identifier</string>
+                                </property>
+                                <vbox>
+                                    <property name="name">
+                                        <cstring>unnamed</cstring>
+                                    </property>
+                                    <widget class="QCheckBox">
                                         <property name="name">
-                                            <cstring>btnServerDefaults</cstring>
+                                            <cstring>chkCustomClientID</cstring>
                                         </property>
                                         <property name="text">
-                                            <string>&amp;Defaults</string>
+                                            <string>Use custom client identifier</string>
                                         </property>
-                                        <property name="toolTip" stdset="0">
-                                            <string>Restore the server and port values to their defaults.</string>
+                                    </widget>
+                                    <widget class="QLayoutWidget">
+                                        <property name="name">
+                                            <cstring>layout17</cstring>
                                         </property>
-                                        <property name="whatsThis" stdset="0">
-                                            <string>Restore the server and port values to their defaults.</string>
-                                        </property>
+                                        <grid>
+                                            <property name="name">
+                                                <cstring>unnamed</cstring>
+                                            </property>
+                                            <widget class="QComboBox" row="0" column="1">
+                                                <property name="name">
+                                                    <cstring>mClientID</cstring>
+                                                </property>
+                                                <property name="enabled">
+                                                    <bool>false</bool>
+                                                </property>
+                                            </widget>
+                                            <widget class="QLabel" row="0" column="0">
+                                                <property name="name">
+                                                    <cstring>lblClientIdentifier</cstring>
+                                                </property>
+                                                <property name="enabled">
+                                                    <bool>false</bool>
+                                                </property>
+                                                <property name="text">
+                                                    <string>Client identifier</string>
+                                                </property>
+                                                <property name="buddy" stdset="0">
+                                                    <cstring>mClientID</cstring>
+                                                </property>
+                                            </widget>
+                                            <widget class="QLayoutWidget" row="1" column="1">
+                                                <property name="name">
+                                                    <cstring>layout13</cstring>
+                                                </property>
+                                                <hbox>
+                                                    <property name="name">
+                                                        <cstring>unnamed</cstring>
+                                                    </property>
+                                                    <widget class="QSpinBox">
+                                                        <property name="name">
+                                                            <cstring>mClientVersionMajor</cstring>
+                                                        </property>
+                                                        <property name="enabled">
+                                                            <bool>false</bool>
+                                                        </property>
+                                                        <property name="maxValue">
+                                                            <number>65535</number>
+                                                        </property>
+                                                    </widget>
+                                                    <widget class="QLabel">
+                                                        <property name="name">
+                                                            <cstring>lblVersionSeparator</cstring>
+                                                        </property>
+                                                        <property name="enabled">
+                                                            <bool>false</bool>
+                                                        </property>
+                                                        <property name="text">
+                                                            <string>.</string>
+                                                        </property>
+                                                        <property name="alignment">
+                                                            <set>AlignCenter</set>
+                                                        </property>
+                                                    </widget>
+                                                    <widget class="QSpinBox">
+                                                        <property name="name">
+                                                            <cstring>mClientVersionMinor</cstring>
+                                                        </property>
+                                                        <property name="enabled">
+                                                            <bool>false</bool>
+                                                        </property>
+                                                        <property name="maxValue">
+                                                            <number>65535</number>
+                                                        </property>
+                                                    </widget>
+                                                </hbox>
+                                            </widget>
+                                            <widget class="QLabel" row="1" column="0">
+                                                <property name="name">
+                                                    <cstring>lblClientVersion</cstring>
+                                                </property>
+                                                <property name="enabled">
+                                                    <bool>false</bool>
+                                                </property>
+                                                <property name="text">
+                                                    <string>Client version (major.minor)</string>
+                                                </property>
+                                                <property name="buddy" stdset="0">
+                                                    <cstring>mClientVersionMajor</cstring>
+                                                </property>
+                                            </widget>
+                                        </grid>
                                     </widget>
-                                </hbox>
+                                </vbox>
                             </widget>
+                            <widget class="QPushButton">
+                                <property name="name">
+                                    <cstring>btnServerDefaults</cstring>
+                                </property>
+                                <property name="text">
+                                    <string>Restore &amp;Defaults</string>
+                                </property>
+                                <property name="toolTip" stdset="0">
+                                    <string>Restore the server and port values to their defaults.</string>
+                                </property>
+                                <property name="whatsThis" stdset="0">
+                                    <string>Restore the server and port values to their defaults.</string>
+                                </property>
+                            </widget>
+                            <spacer>
+                                <property name="name">
+                                    <cstring>spacer3</cstring>
+                                </property>
+                                <property name="orientation">
+                                    <enum>Vertical</enum>
+                                </property>
+                                <property name="sizeType">
+                                    <enum>Expanding</enum>
+                                </property>
+                                <property name="sizeHint">
+                                    <size>
+                                        <width>20</width>
+                                        <height>31</height>
+                                    </size>
+                                </property>
+                            </spacer>
                         </vbox>
                     </widget>
-                    <spacer>
-                        <property name="name">
-                            <cstring>spacer31</cstring>
-                        </property>
-                        <property name="orientation">
-                            <enum>Vertical</enum>
-                        </property>
-                        <property name="sizeType">
-                            <enum>Expanding</enum>
-                        </property>
-                        <property name="sizeHint">
-                            <size>
-                                <width>20</width>
-                                <height>71</height>
-                            </size>
-                        </property>
-                    </spacer>
                 </vbox>
             </widget>
         </widget>
@@ -288,8 +395,43 @@
         <data format="PNG" length="866">89504e470d0a1a0a0000000d4948445200000016000000160806000000c4b46c3b0000032949444154388db59531681b6714c77f32373c8186ef0305eea005093258900eca26d30e3174a8a807d1c9ee940e5d4a276f09a414e22974ee609a4c75a0857a70a20c199ce93424e43414aee0c26910dc8105f7410df706413a7c915551db049a3e38b87bf7bedffddfc7ff7d578be398456c6c6cbce13d441cc7b5da02fcf4e8e99bde7a8f899b501515d959f64e10e71cd949c6e8d508e6cb7cb050fae49727444d87ed08a566dc0cea545a621b96725e62c522f312c4929ff9e7725e6203439282ec0bc72f74150c30c927d89690163f539619a044564973a1980ae54c01c136a1db518a0024808942780dead16a27e7e0ca55949a81668023b242fcd2901c394663072cd408ad75e18b6d43a7076143710aa1b9049ccd326e064a5979e8f0191cfc5878544368af1b24807caa4cfe507ef8aea0bf6dd8b92de7f00bc1562c95e64416e297f216aadcfa3ca43f10da1f8243112286871507fb05c3c7059d568bde96c5885b01af2d6e4a2db10dc8ff128e0fdd39f4cbaf8576dbe170702afcf6b86467bbce57df8680f0d3230767e0e62bdc55c5e53c476742fabbc318437f209886c3cd41d4b0f74049c78ef21476ef5846cf7ded2831848d55f0aa62816caade11adb7ed2fa0f71ce9d8619ac2e627824a45a72b00e413c5a95c0cf63e052bbe2014bfa738c3de3d251dfb0f8a80fda04e6480600113cc558a11a0e10b93a9225886cff04a8d10868662eab87f37271e59f2136f85a855bfda15f9594eb7a3b4ae0b933f95e161c5ceed88f254e97f2ad49b75eedf8562e2d8fb264355314da1dbada866abe47fedb106d01f78b71fec170c8f7276ef58da3de8f64a76bf6f634283730e9d2b9b8390ce0dae565c6a8e04b0710b746678f8a8e0e18382d173a1d7151c909fe4e84ccf57be3e76245b115143584ee73f27afc8e80b4c667e4c37b7054c8be1afde0de978a9c63485fea0457cec70aa089015ab9297e0938c240573cdb7651a4a7f20f43feb304a72aac2e73bd723da1fe5746ec0682bc26070f38c345905d7e238f6077c00dd8f85280211fcd91af84b02ef94a50c004502c1394813252f14575ca09839242f9484cb42df31e763edd237ff31d6c0ffa3fe17f0fb86c7715cfb1ba8bd86cc8d2decd30000000049454e44ae426082</data>
     </image>
 </images>
+<connections>
+    <connection>
+        <sender>chkCustomClientID</sender>
+        <signal>toggled(bool)</signal>
+        <receiver>mClientID</receiver>
+        <slot>setEnabled(bool)</slot>
+    </connection>
+    <connection>
+        <sender>chkCustomClientID</sender>
+        <signal>toggled(bool)</signal>
+        <receiver>mClientVersionMajor</receiver>
+        <slot>setEnabled(bool)</slot>
+    </connection>
+    <connection>
+        <sender>chkCustomClientID</sender>
+        <signal>toggled(bool)</signal>
+        <receiver>mClientVersionMinor</receiver>
+        <slot>setEnabled(bool)</slot>
+    </connection>
+    <connection>
+        <sender>chkCustomClientID</sender>
+        <signal>toggled(bool)</signal>
+        <receiver>lblClientIdentifier</receiver>
+        <slot>setEnabled(bool)</slot>
+    </connection>
+    <connection>
+        <sender>chkCustomClientID</sender>
+        <signal>toggled(bool)</signal>
+        <receiver>lblClientVersion</receiver>
+        <slot>setEnabled(bool)</slot>
+    </connection>
+</connections>
 <tabstops>
     <tabstop>mScreenName</tabstop>
 </tabstops>
 <layoutdefaults spacing="6" margin="11"/>
+<includehints>
+    <includehint>kopetepasswordwidget.h</includehint>
+</includehints>
 </UI>
Index: kopete/protocols/testbed/kopete_testbed.desktop
===================================================================
--- kopete/protocols/testbed/kopete_testbed.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/testbed/kopete_testbed.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,6 +19,7 @@
 Name[ar]=مكان اختبار
 Name[bn]=পরীক্ষাস্থল
 Name[cy]=Mainc Arbrofi
+Name[eo]=Testejo
 Name[et]=Testija
 Name[fi]=Testipenkki
 Name[gl]=testbed
Index: kopete/protocols/msn/kopete_msn.desktop
===================================================================
--- kopete/protocols/msn/kopete_msn.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/protocols/msn/kopete_msn.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -21,6 +21,7 @@
 Name[cy]=Negesydd MSN
 Name[da]=MSN-Messenger
 Name[de]=MSN-Messenger
+Name[eo]=MSN-mesaĝilo
 Name[fa]=پیام‌رسان ام‌اس‌ان
 Name[gl]=MSN Messanger
 Name[hi]=एमएसएन मैसेंजर
Index: kopete/kopete/eventsrc
===================================================================
--- kopete/kopete/eventsrc	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -10,6 +10,7 @@
 Comment[cy]=Negesydd Kopete
 Comment[de]=Kopete-Nachrichtendienst
 Comment[el]=Αποστολέας μηνυμάτων Kopete
+Comment[eo]=Kopete-mesaĝilo
 Comment[es]=Mensajería de Kopete
 Comment[fa]=پیام‌رسان Kopete
 Comment[fi]=Kopete-viestin
@@ -60,6 +61,7 @@
 Name[da]=Indkommende
 Name[de]=Eingang
 Name[el]=Εισερχόμενο
+Name[eo]=Alvenantaj
 Name[es]=Entrante
 Name[et]=Sisenev
 Name[eu]=Sarrerako
@@ -116,6 +118,7 @@
 Comment[da]=En indkommende besked er blevet modtaget
 Comment[de]=Eingehende Nachricht
 Comment[el]=Ένα εισερχόμενο μήνυμα παραλήφθηκε
+Comment[eo]=Alvenanta mesaĝo estis ricevita
 Comment[es]=Se ha recibido un mensaje entrante
 Comment[et]=Saabus sõnum
 Comment[eu]=Sarrerako mezu bat jaso da
@@ -173,6 +176,7 @@
 Name[da]=Udgående
 Name[de]=Ausgang
 Name[el]=Εξερχόμενο
+Name[eo]=Elirantaj
 Name[es]=Saliente
 Name[et]=Väljuv
 Name[eu]=Irteerakoa
@@ -229,6 +233,7 @@
 Comment[da]=En udgående besked er blevet sendt
 Comment[de]=Ausgehende Nachricht wurde versendet
 Comment[el]=Ένα εξερχόμενο μήνυμα στάλθηκε
+Comment[eo]=Eliranta mesaĝo estis sendita
 Comment[es]=Se ha enviado un mensaje entrante
 Comment[et]=Saadeti sõnum
 Comment[eu]=Irteerako mezu bat bidali da
@@ -284,6 +289,7 @@
 Name[ca]=Connectat
 Name[cy]=Ar-lein
 Name[el]=Σε σύνδεση
+Name[eo]=Konektata
 Name[es]=Conectado
 Name[et]=Võrgus
 Name[fa]=برخط
@@ -387,6 +393,7 @@
 Name[cy]=All-lein
 Name[da]=Gå offline
 Name[el]=Χωρίς σύνδεση
+Name[eo]=Nekonektata
 Name[es]=Desconectar
 Name[et]=Pole võrgus
 Name[eu]=Deskonektatuta
@@ -494,6 +501,7 @@
 Name[da]=Statusændring
 Name[de]=Statuswechsel
 Name[el]=Αλλαγή κατάστασης
+Name[eo]=Status-ŝanĝo
 Name[es]=Cambiar estado
 Name[et]=Staatuse muutus
 Name[eu]=Egoera aldaketa
@@ -603,6 +611,7 @@
 Name[da]=Fremhæv
 Name[de]=Hervorhebung
 Name[el]=Τονισμός
+Name[eo]=Lumaĵo
 Name[es]=Resaltar
 Name[et]=Esiletõstmine
 Name[eu]=Nabarmendu
@@ -808,6 +817,7 @@
 Name[da]=Godkendelse
 Name[de]=Autorisierung
 Name[el]=Πιστοποίηση
+Name[eo]=Rajtigo
 Name[es]=Autorización
 Name[et]=Autoriseerimine
 Name[fa]=اجازه
@@ -923,6 +933,7 @@
 Comment[da]=Ny e-mail ankom til din Yahoo-indbakke
 Comment[de]=Eine neue Nachricht befindet sich im Yahoo-Eingangsordner
 Comment[el]=Μόλις έφτασε νέο email στα εισερχόμενα του Yahoo σας
+Comment[eo]=Nova poŝto ricevita
 Comment[es]=Tiene correo nuevo en la cuenta de Yahoo
 Comment[et]=Saabus uus kiri sinu Yahoo Inboxi
 Comment[eu]=E-posta berri bat jaso da zure Yahoo-ko sarrerako ontzian
@@ -1094,6 +1105,7 @@
 Comment[da]=Ny e-mail ankom til din MSN-indbakke
 Comment[de]=Eine neue Nachricht befindet sich im MSN-Eingangsordner
 Comment[el]=Μόλις έφτασε νέο e-mail στα εισερχόμενα του MSN σας
+Comment[eo]=Nova poŝto ricevita
 Comment[es]=Tiene correo nuevo en la cuenta de MSN
 Comment[et]=Saabus uus kiri sinu MSN Inboxi
 Comment[eu]=E-posta berri bat jaso da zure MSN-ko sarrerako ontzian
@@ -1147,6 +1159,7 @@
 Name[de]=ICQ-Autorisierung
 Name[el]=Πιστοποίηση ICQ
 Name[en_GB]=ICQ Authorisation
+Name[eo]=ICQ-Rajtigo
 Name[es]=Autorización ICQ
 Name[et]=ICQ autoriseerimine
 Name[eu]=ICQ baimena
@@ -1242,6 +1255,7 @@
 Name[da]=IRC-begivenhed
 Name[de]=IRC-Ereignis
 Name[el]=Γεγονός IRC
+Name[eo]=IRC-Evento
 Name[es]=Evento IRC
 Name[et]=IRC sündmus
 Name[eu]=IRC gertaera
@@ -1290,6 +1304,7 @@
 Comment[da]=En IRC=begivenhed er opstået
 Comment[de]=Ein IRC-Ereignis ist aufgetreten
 Comment[el]=Ένα γεγονός του IRC συνέβη
+Comment[eo]=Okazis IRC-evento
 Comment[es]=Ocurrió un evento IRC
 Comment[et]=Midagi toimus IRCus
 Comment[eu]=IRC gertaera bat gertatu da
@@ -1338,6 +1353,7 @@
 Name[da]=Forbindelsesfejl
 Name[de]=Verbindungsfehler
 Name[el]=Σφάλμα σύνδεσης
+Name[eo]=Konekto-eraro
 Name[es]=Error en la conexión
 Name[et]=Ühenduse viga
 Name[eu]=Konexio-errorea
@@ -1435,6 +1451,7 @@
 Name[da]=Forbindelse tabt
 Name[de]=Verbindung unterbrochen
 Name[el]=Η σύνδεση έκλεισε
+Name[eo]=Konekto Perdita
 Name[es]=Conexión perdida
 Name[et]=Ühendus kadus
 Name[eu]=Konexioa galdu da
@@ -1482,6 +1499,7 @@
 Comment[da]=Forbindelsen er gået tabt
 Comment[de]=Die Verbindung wurde unterbrochen
 Comment[el]=Η σύνδεση έκλεισε
+Comment[eo]=La konekto estis perdita
 Comment[es]=Se perdió la conexión
 Comment[et]=Ühendus kadus
 Comment[eu]=Konexioa galdu da
@@ -1532,6 +1550,7 @@
 Name[da]=Kan ikke forbinde
 Name[de]=Verbindung nicht möglich
 Name[el]=Αδύνατη η σύνδεση
+Name[eo]=Ne eblas konekti
 Name[es]=No se pudo conectar
 Name[et]=Ühendumine ebaõnnestus
 Name[eu]=Ezin da konektatu
@@ -1628,6 +1647,7 @@
 Name[da]=Netværksproblemer
 Name[de]=Netzwerkprobleme
 Name[el]=Προβλήματα δικτύου
+Name[eo]=Retproblemoj
 Name[es]=Problemas de red
 Name[et]=Võrguprobleemid
 Name[eu]=Sare-arazoak
@@ -1722,6 +1742,7 @@
 Name[da]=Intern fejl i serveren
 Name[de]=Interner Serverfehler
 Name[el]=Εσωτερικό σφάλμα του εξυπηρετητή
+Name[eo]=Servil-interna eraro
 Name[es]=Error interno del servidor
 Name[et]=Serveri sisemine viga
 Name[eu]=Zerbitzariaren barne-errorea
Index: kopete/kopete/kopete.desktop
===================================================================
--- kopete/kopete/kopete.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/kopete.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -17,6 +17,7 @@
 GenericName[cs]=Komunikátor
 GenericName[cy]=Negesydd Chwim
 GenericName[el]=Στιγμιαίος αποστολέας μηνυμάτων
+GenericName[eo]=Rapidmesaĝilo
 GenericName[es]=Mensajería instantánea
 GenericName[et]=Kiirsuhtlemisrakendus
 GenericName[eu]=Berehalako mezularitza
@@ -71,6 +72,7 @@
 Comment[cs]=Komunikátor
 Comment[cy]=Negesydd Chwim
 Comment[el]=Στιγμιαίος αποστολέας μηνυμάτων
+Comment[eo]=Rapidmesaĝilo
 Comment[es]=Mensajería instantánea
 Comment[et]=Kiirsuhtlusrakendus
 Comment[eu]=Berehalako mezularitza
Index: kopete/kopete/config/accounts/kopete_accountconfig.desktop
===================================================================
--- kopete/kopete/config/accounts/kopete_accountconfig.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/accounts/kopete_accountconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -23,6 +23,7 @@
 Name[da]=Konti
 Name[de]=Zugänge
 Name[el]=Λογαριασμοί
+Name[eo]=Kontoj
 Name[es]=Cuentas
 Name[et]=Kontod
 Name[eu]=Kontuak
Index: kopete/kopete/config/appearance/kopete_appearanceconfig.desktop
===================================================================
--- kopete/kopete/config/appearance/kopete_appearanceconfig.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/appearance/kopete_appearanceconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -23,6 +23,7 @@
 Name[da]=Udseende
 Name[de]=Erscheinungsbild
 Name[el]=Εμφάνιση
+Name[eo]=Apero
 Name[es]=Apariencia
 Name[et]=Välimus
 Name[eu]=Itxura
Index: kopete/kopete/config/behavior/kopete_behaviorconfig.desktop
===================================================================
--- kopete/kopete/config/behavior/kopete_behaviorconfig.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/behavior/kopete_behaviorconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -24,6 +24,7 @@
 Name[de]=Verhalten
 Name[el]=Συμπεριφορά
 Name[en_GB]=Behaviour
+Name[eo]=Fenestrokonduto
 Name[es]=Comportamiento
 Name[et]=Käitumine
 Name[eu]=Portaera
Index: kopete/kopete/config/avdevice/avdeviceconfig.h
===================================================================
--- kopete/kopete/config/avdevice/avdeviceconfig.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/avdevice/avdeviceconfig.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -61,8 +61,6 @@
 	void slotImageAutoBrightnessContrastChanged(bool);
 	void slotImageAutoColorCorrectionChanged(bool);
 	void slotImageAsMirrorChanged(bool);
-	void slotDeviceDisableMMapChanged(bool);
-	void slotDeviceWorkaroundBrokenDriverChanged(bool);
 	void slotUpdateImage();
 private:
 	QTabWidget* mAVDeviceTabCtl;
Index: kopete/kopete/config/avdevice/avdeviceconfig_videoconfig.ui
===================================================================
--- kopete/kopete/config/avdevice/avdeviceconfig_videoconfig.ui	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/avdevice/avdeviceconfig_videoconfig.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -529,59 +529,6 @@
                                     </widget>
                                 </vbox>
                             </widget>
-                            <widget class="QButtonGroup">
-                                <property name="name">
-                                    <cstring>deviceOptions</cstring>
-                                </property>
-                                <property name="sizePolicy">
-                                    <sizepolicy>
-                                        <hsizetype>5</hsizetype>
-                                        <vsizetype>1</vsizetype>
-                                        <horstretch>0</horstretch>
-                                        <verstretch>0</verstretch>
-                                    </sizepolicy>
-                                </property>
-                                <property name="title">
-                                    <string>Device options</string>
-                                </property>
-                                <grid>
-                                    <property name="name">
-                                        <cstring>unnamed</cstring>
-                                    </property>
-                                    <widget class="QCheckBox" row="1" column="0">
-                                        <property name="name">
-                                            <cstring>mDeviceWorkaroundBrokenDriver</cstring>
-                                        </property>
-                                        <property name="sizePolicy">
-                                            <sizepolicy>
-                                                <hsizetype>3</hsizetype>
-                                                <vsizetype>1</vsizetype>
-                                                <horstretch>0</horstretch>
-                                                <verstretch>0</verstretch>
-                                            </sizepolicy>
-                                        </property>
-                                        <property name="text">
-                                            <string>&amp;Workaround broken driver</string>
-                                        </property>
-                                    </widget>
-                                    <widget class="QCheckBox" row="0" column="0">
-                                        <property name="name">
-                                            <cstring>mDeviceDisableMMap</cstring>
-                                        </property>
-                                        <property name="sizePolicy">
-                                            <sizepolicy>
-                                                <hsizetype>3</hsizetype>
-                                                <vsizetype>1</vsizetype>
-                                                <horstretch>0</horstretch>
-                                                <verstretch>0</verstretch>
-                                            </sizepolicy>
-                                        </property>
-                                        <property name="text">
-                                            <string>Disable memor&amp;y mapping</string>
-                                        </property>
-                                    </widget>
-                                </grid>
-                            </widget>
                         </vbox>
                     </widget>
                 </grid>
Index: kopete/kopete/config/avdevice/avdeviceconfig.cpp
===================================================================
--- kopete/kopete/config/avdevice/avdeviceconfig.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/avdevice/avdeviceconfig.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -63,8 +63,6 @@
 	connect(mPrfsVideoDevice->mImageAutoBrightnessContrast,  SIGNAL(toggled(bool)),     this, SLOT(slotImageAutoBrightnessContrastChanged(bool)));
 	connect(mPrfsVideoDevice->mImageAutoColorCorrection,     SIGNAL(toggled(bool)),     this, SLOT(slotImageAutoColorCorrectionChanged(bool)));
 	connect(mPrfsVideoDevice->mImageAsMirror,                SIGNAL(toggled(bool)),     this, SLOT(slotImageAsMirrorChanged(bool)));
-	connect(mPrfsVideoDevice->mDeviceDisableMMap,            SIGNAL(toggled(bool)),     this, SLOT(slotDeviceDisableMMapChanged(bool)));
-	connect(mPrfsVideoDevice->mDeviceWorkaroundBrokenDriver, SIGNAL(toggled(bool)),     this, SLOT(slotDeviceWorkaroundBrokenDriverChanged(bool)));
 
 	// why is this here?
 	// mPrfsVideoDevice->mVideoImageLabel->setPixmap(qpixmap);
@@ -135,8 +133,6 @@
 		mPrfsVideoDevice->mImageAutoBrightnessContrast->setChecked(mVideoDevicePool->getAutoBrightnessContrast());
 		mPrfsVideoDevice->mImageAutoColorCorrection->setChecked(mVideoDevicePool->getAutoColorCorrection());
 		mPrfsVideoDevice->mImageAsMirror->setChecked(mVideoDevicePool->getImageAsMirror());
-		mPrfsVideoDevice->mDeviceDisableMMap->setChecked(mVideoDevicePool->getDisableMMap());
-		mPrfsVideoDevice->mDeviceWorkaroundBrokenDriver->setChecked(mVideoDevicePool->getWorkaroundBrokenDriver());
 	}
 }
 
@@ -224,18 +220,6 @@
 	emit changed( true );
 }
 
-void AVDeviceConfig::slotDeviceWorkaroundBrokenDriverChanged(bool){
-	kdDebug() << "kopete:config (avdevice): slotDeviceWorkaroundBrokenDriverChanged(" << mPrfsVideoDevice->mDeviceWorkaroundBrokenDriver->isChecked() << ") called. " << endl;
-	mVideoDevicePool->setWorkaroundBrokenDriver(mPrfsVideoDevice->mDeviceWorkaroundBrokenDriver->isChecked());
-	emit changed( true );
-}
-
-void AVDeviceConfig::slotDeviceDisableMMapChanged(bool){
-	kdDebug() << "kopete:config (avdevice): slotDeviceDisableMMapChanged(" << mPrfsVideoDevice->mDeviceDisableMMap->isChecked() << ") called. " << endl;
-	mVideoDevicePool->setDisableMMap(mPrfsVideoDevice->mDeviceDisableMMap->isChecked());
-	emit changed( true );
-}
-
 void AVDeviceConfig::slotUpdateImage()
 {
 	mVideoDevicePool->getFrame();
Index: kopete/kopete/config/identity/kopete_identityconfig.desktop
===================================================================
--- kopete/kopete/config/identity/kopete_identityconfig.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/kopete/config/identity/kopete_identityconfig.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -22,6 +22,7 @@
 Name[da]=Identitet
 Name[de]=Identität
 Name[el]=Ταυτότητα
+Name[eo]=Idento
 Name[es]=Identidad
 Name[et]=Identiteet
 Name[eu]=Identitatea
Index: kopete/libkopete/kopetepluginmanager.cpp
===================================================================
--- kopete/libkopete/kopetepluginmanager.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/kopetepluginmanager.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -261,30 +261,37 @@
 	KConfig *config = KGlobal::config();
 	if ( config->hasGroup( QString::fromLatin1( "Plugins" ) ) )
 	{
+		QMap<QString, bool> pluginsMap;
+
 		QMap<QString, QString> entries = config->entryMap( QString::fromLatin1( "Plugins" ) );
 		QMap<QString, QString>::Iterator it;
 		for ( it = entries.begin(); it != entries.end(); ++it )
 		{
 			QString key = it.key();
 			if ( key.endsWith( QString::fromLatin1( "Enabled" ) ) )
+				pluginsMap.insert( key.left( key.length() - 7 ), (it.data() == QString::fromLatin1( "true" )) );
+		}
+
+		QValueList<KPluginInfo *> plugins = availablePlugins( QString::null );
+		QValueList<KPluginInfo *>::ConstIterator it2 = plugins.begin();
+		QValueList<KPluginInfo *>::ConstIterator end = plugins.end();
+		for ( ; it2 != end; ++it2 )
+		{
+			QString pluginName = (*it2)->pluginName();
+			bool inMap = pluginsMap.contains( pluginName );
+			if ( (inMap && pluginsMap[pluginName]) || (!inMap && (*it2)->isPluginEnabledByDefault()) )
 			{
-				key.setLength( key.length() - 7 );
-				//kdDebug(14010) << k_funcinfo << "Set " << key << " to " << it.data() << endl;
-	
-				if ( it.data() == QString::fromLatin1( "true" ) )
-				{
-					if ( !plugin( key ) )
-						d->pluginsToLoad.push( key );
-				}
-				else
-				{
-					//This happens if the user unloaded plugins with the config plugin page.
-					// No real need to be assync because the user usualy unload few plugins 
-					// compared tto the number of plugin to load in a cold start. - Olivier
-					if ( plugin( key ) )
-						unloadPlugin( key );
-				}
+				if ( !plugin( pluginName ) )
+					d->pluginsToLoad.push( pluginName );
 			}
+			else
+			{
+				//This happens if the user unloaded plugins with the config plugin page.
+				// No real need to be assync because the user usualy unload few plugins
+				// compared tto the number of plugin to load in a cold start. - Olivier
+				if ( plugin( pluginName ) )
+					unloadPlugin( pluginName );
+			}
 		}
 	}
 	else
Index: kopete/libkopete/avdevice/bayer.cpp
===================================================================
--- kopete/libkopete/avdevice/bayer.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 0)
+++ kopete/libkopete/avdevice/bayer.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -0,0 +1,118 @@
+/*
+ * BAYER2RGB24 ROUTINE TAKEN FROM:
+ *
+ * Sonix SN9C101 based webcam basic I/F routines
+ * Copyright (C) 2004 Takafumi Mizuno <taka-qce@ls-a.jp>
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+ * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+ * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ */
+
+void bayer2rgb24(unsigned char *dst, unsigned char *src, long int WIDTH, long int HEIGHT)
+{
+	long int i;
+	unsigned char *rawpt, *scanpt;
+	long int size;
+
+	rawpt = src;
+	scanpt = dst;
+	size = WIDTH*HEIGHT;
+
+	for ( i = 0; i < size; i++ )
+	{
+		if ( (i/WIDTH) % 2 == 0 )
+		{
+			if ( (i % 2) == 0 )
+			{
+				// B
+				if ( (i > WIDTH) && ((i % WIDTH) > 0) )
+				{
+					*scanpt++ = (*(rawpt-WIDTH-1)+*(rawpt-WIDTH+1)+*(rawpt+WIDTH-1)+*(rawpt+WIDTH+1))/4;	// R
+					*scanpt++ = (*(rawpt-1)+*(rawpt+1)+*(rawpt+WIDTH)+*(rawpt-WIDTH))/4;			// G
+					*scanpt++ = *rawpt;									// B
+				}
+				else
+				{
+					// first line or left column
+					*scanpt++ = *(rawpt+WIDTH+1);			// R
+					*scanpt++ = (*(rawpt+1)+*(rawpt+WIDTH))/2;	// G
+					*scanpt++ = *rawpt;				// B
+				}
+			}
+			else
+			{
+				// (B)G
+				if ( (i > WIDTH) && ((i % WIDTH) < (WIDTH-1)) )
+				{
+					*scanpt++ = (*(rawpt+WIDTH)+*(rawpt-WIDTH))/2;	// R
+					*scanpt++ = *rawpt;				// G
+					*scanpt++ = (*(rawpt-1)+*(rawpt+1))/2;		// B
+				}
+				else
+				{
+					// first line or right column
+					*scanpt++ = *(rawpt+WIDTH);	// R
+					*scanpt++ = *rawpt;		// G
+					*scanpt++ = *(rawpt-1);		// B
+				}
+			}
+		}
+		else
+		{
+			if ( (i % 2) == 0 )
+			{
+				// G(R)
+				if ( (i < (WIDTH*(HEIGHT-1))) && ((i % WIDTH) > 0) )
+				{
+					*scanpt++ = (*(rawpt-1)+*(rawpt+1))/2;		// R
+					*scanpt++ = *rawpt;				// G
+					*scanpt++ = (*(rawpt+WIDTH)+*(rawpt-WIDTH))/2;	// B
+				}
+				else
+				{
+					// bottom line or left column
+					*scanpt++ = *(rawpt+1);		/* R */
+					*scanpt++ = *rawpt;			/* G */
+					*scanpt++ = *(rawpt-WIDTH);		/* B */
+				}
+			}
+			else
+			{
+				// R
+				if ( i < (WIDTH*(HEIGHT-1)) && ((i % WIDTH) < (WIDTH-1)) )
+				{
+					*scanpt++ = *rawpt;									// R
+					*scanpt++ = (*(rawpt-1)+*(rawpt+1)+*(rawpt-WIDTH)+*(rawpt+WIDTH))/4;			// G
+					*scanpt++ = (*(rawpt-WIDTH-1)+*(rawpt-WIDTH+1)+*(rawpt+WIDTH-1)+*(rawpt+WIDTH+1))/4;	// B
+				}
+				else
+				{
+					// bottom line or right column
+					*scanpt++ = *rawpt;				/* R */
+					*scanpt++ = (*(rawpt-1)+*(rawpt-WIDTH))/2;	/* G */
+					*scanpt++ = *(rawpt-WIDTH-1);		/* B */
+				}
+			}
+		}
+		rawpt++;
+	}
+}
+
Index: kopete/libkopete/avdevice/bayer.h
===================================================================
--- kopete/libkopete/avdevice/bayer.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 0)
+++ kopete/libkopete/avdevice/bayer.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -0,0 +1,30 @@
+/*
+ * BAYER2RGB24 ROUTINE TAKEN FROM:
+ *
+ * Sonix SN9C101 based webcam basic I/F routines
+ * Copyright (C) 2004 Takafumi Mizuno <taka-qce@ls-a.jp>
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+ * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+ * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ */
+
+
+void bayer2rgb24 (unsigned char *dst, unsigned char *src, long int WIDTH, long int HEIGHT);
Index: kopete/libkopete/avdevice/sonix_compress.cpp
===================================================================
--- kopete/libkopete/avdevice/sonix_compress.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 0)
+++ kopete/libkopete/avdevice/sonix_compress.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -0,0 +1,180 @@
+#include "sonix_compress.h"
+
+#define CLAMP(x)	((x)<0?0:((x)>255)?255:(x))
+
+typedef struct {
+	int is_abs;
+	int len;
+	int val;
+	int unk;
+} code_table_t;
+
+
+/* local storage */
+static code_table_t table[256];
+static int init_done = 0;
+
+/* global variable */
+int sonix_unknown = 0;
+
+/*
+	sonix_decompress_init
+	=====================
+		pre-calculates a locally stored table for efficient huffman-decoding.
+
+	Each entry at index x in the table represents the codeword
+	present at the MSB of byte x.
+
+*/
+void sonix_decompress_init(void)
+{
+	int i;
+	int is_abs, val, len, unk;
+
+	for (i = 0; i < 256; i++) {
+		is_abs = 0;
+		val = 0;
+		len = 0;
+		unk = 0;
+		if ((i & 0x80) == 0) {
+			/* code 0 */
+			val = 0;
+			len = 1;
+		}
+		else if ((i & 0xE0) == 0x80) {
+			/* code 100 */
+			val = +4;
+			len = 3;
+		}
+		else if ((i & 0xE0) == 0xA0) {
+			/* code 101 */
+			val = -4;
+			len = 3;
+		}
+		else if ((i & 0xF0) == 0xD0) {
+			/* code 1101 */
+			val = +11;
+			len = 4;
+		}
+		else if ((i & 0xF0) == 0xF0) {
+			/* code 1111 */
+			val = -11;
+			len = 4;
+		}
+		else if ((i & 0xF8) == 0xC8) {
+			/* code 11001 */
+			val = +20;
+			len = 5;
+		}
+		else if ((i & 0xFC) == 0xC0) {
+			/* code 110000 */
+			val = -20;
+			len = 6;
+		}
+		else if ((i & 0xFC) == 0xC4) {
+			/* code 110001xx: unknown */
+			val = 0;
+			len = 8;
+			unk = 1;
+		}
+		else if ((i & 0xF0) == 0xE0) {
+			/* code 1110xxxx */
+			is_abs = 1;
+			val = (i & 0x0F) << 4;
+			len = 8;
+		}
+		table[i].is_abs = is_abs;
+		table[i].val = val;
+		table[i].len = len;
+		table[i].unk = unk;
+	}
+
+	sonix_unknown = 0;
+	init_done = 1;
+}
+
+
+/*
+	sonix_decompress
+	================
+		decompresses an image encoded by a SN9C101 camera controller chip.
+
+	IN	width
+		height
+		inp		pointer to compressed frame (with header already stripped)
+	OUT	outp	pointer to decompressed frame
+
+	Returns 0 if the operation was successful.
+	Returns <0 if operation failed.
+
+*/
+int sonix_decompress(int width, int height, unsigned char *inp, unsigned char *outp)
+{
+	int row, col;
+	int val;
+	int bitpos;
+	unsigned char code;
+	unsigned char *addr;
+
+	if (!init_done) {
+		/* do sonix_decompress_init first! */
+		return -1;
+	}
+
+	bitpos = 0;
+	for (row = 0; row < height; row++) {
+
+		col = 0;
+
+		/* first two pixels in first two rows are stored as raw 8-bit */
+		if (row < 2) {
+			addr = inp + (bitpos >> 3);
+			code = (addr[0] << (bitpos & 7)) | (addr[1] >> (8 - (bitpos & 7)));
+			bitpos += 8;
+			*outp++ = code;
+
+			addr = inp + (bitpos >> 3);
+			code = (addr[0] << (bitpos & 7)) | (addr[1] >> (8 - (bitpos & 7)));
+			bitpos += 8;
+			*outp++ = code;
+
+			col += 2;
+		}
+
+		while (col < width) {
+			/* get bitcode from bitstream */
+			addr = inp + (bitpos >> 3);
+			code = (addr[0] << (bitpos & 7)) | (addr[1] >> (8 - (bitpos & 7)));
+
+			/* update bit position */
+			bitpos += table[code].len;
+
+			/* update code statistics */
+			sonix_unknown += table[code].unk;
+
+			/* calculate pixel value */
+			val = table[code].val;
+			if (!table[code].is_abs) {
+				/* value is relative to top and left pixel */
+				if (col < 2) {
+					/* left column: relative to top pixel */
+					val += outp[-2*width];
+				}
+				else if (row < 2) {
+					/* top row: relative to left pixel */
+					val += outp[-2];
+				}
+				else {
+					/* main area: average of left pixel and top pixel */
+					val += (outp[-2] + outp[-2*width]) / 2;
+				}
+			}
+
+			/* store pixel */
+			*outp++ = CLAMP(val);
+			col++;
+		}
+	}
+
+	return 0;
+}
Index: kopete/libkopete/avdevice/sonix_compress.h
===================================================================
--- kopete/libkopete/avdevice/sonix_compress.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 0)
+++ kopete/libkopete/avdevice/sonix_compress.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -0,0 +1,8 @@
+// Call this function first (just once is needed), before calling sonix_decompress
+void sonix_decompress_init(void);
+
+// decompresses data at inp until a full image of widthxheight has been written to outp
+int sonix_decompress(int width, int height, unsigned char *inp, unsigned char *outp);
+
+// counter to detect presence of currently unknown huffman codes
+extern int sonix_unknown;
Index: kopete/libkopete/avdevice/videodevicepool.cpp
===================================================================
--- kopete/libkopete/avdevice/videodevicepool.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/avdevice/videodevicepool.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -392,48 +392,6 @@
 }
 
 /*!
-    \fn VideoDevicePool::getDisableMMap()
- */
-bool VideoDevicePool::getDisableMMap()
-{
-	if(m_videodevice.size())
-		return m_videodevice[currentDevice()].getDisableMMap();
-	return false;
-}
-
-/*!
-    \fn VideoDevicePool::setDisableMMap(bool disablemmap)
- */
-bool VideoDevicePool::setDisableMMap(bool disablemmap)
-{
-	kdDebug(14010) <<  k_funcinfo << "VideoDevicePool::setDisableMMap(" << disablemmap << ") called." << endl;
-	if(m_videodevice.size())
-		return m_videodevice[currentDevice()].setDisableMMap(disablemmap);
-	return false;
-}
-
-/*!
-    \fn VideoDevicePool::getWorkaroundBrokenDriver()
- */
-bool VideoDevicePool::getWorkaroundBrokenDriver()
-{
-	if(m_videodevice.size())
-		return m_videodevice[currentDevice()].getWorkaroundBrokenDriver();
-	return false;
-}
-
-/*!
-    \fn VideoDevicePool::setWorkaroundBrokenDriver(bool workaroundbrokendriver)
- */
-bool VideoDevicePool::setWorkaroundBrokenDriver(bool workaroundbrokendriver)
-{
-	kdDebug(14010) <<  k_funcinfo << "VideoDevicePool::setWorkaroundBrokenDriver(" << workaroundbrokendriver << ") called." << endl;
-	if(m_videodevice.size())
-		return m_videodevice[currentDevice()].setWorkaroundBrokenDriver(workaroundbrokendriver);
-	return false;
-}
-
-/*!
     \fn VideoDevicePool::getFrame()
  */
 int VideoDevicePool::getFrame()
@@ -818,11 +776,8 @@
 			}
 			const QString name                = config->readEntry((QString::fromLocal8Bit ( "Model %1 Device %2 Name")  .arg ((*vditerator).m_name ) .arg ((*vditerator).m_modelindex)), (*vditerator).m_model);
 			const int currentinput            = config->readNumEntry((QString::fromLocal8Bit ( "Model %1 Device %2 Current input")  .arg ((*vditerator).m_name ) .arg ((*vditerator).m_modelindex)), 0);
-			const bool disablemmap            = config->readBoolEntry((QString::fromLocal8Bit ( "Model %1 Device %2 DisableMMap")  .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex)), false );
-			const bool workaroundbrokendriver = config->readBoolEntry((QString::fromLocal8Bit ( "Model %1 Device %2 WorkaroundBrokenDriver")  .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex)), false );
 			kdDebug(14010) << k_funcinfo << "Device name: " << name << endl;
 			kdDebug(14010) << k_funcinfo << "Device current input: " << currentinput << endl;
-			(*vditerator).setWorkaroundBrokenDriver(workaroundbrokendriver);
 			(*vditerator).selectInput(currentinput);
 
 			for (size_t input = 0 ; input < (*vditerator).m_input.size(); input++)
@@ -890,12 +845,8 @@
 // Stores current input for the given video device
 			const QString name                   = QString::fromLocal8Bit ( "Model %1 Device %2 Name")  .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex);
 			const QString currentinput           = QString::fromLocal8Bit ( "Model %1 Device %2 Current input")  .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex);
-			const QString disablemmap            = QString::fromLocal8Bit ( "Model %1 Device %2 DisableMMap") .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex);
-			const QString workaroundbrokendriver = QString::fromLocal8Bit ( "Model %1 Device %2 WorkaroundBrokenDriver") .arg ((*vditerator).m_model ) .arg ((*vditerator).m_modelindex);
 			config->writeEntry( name,                   (*vditerator).m_name);
 			config->writeEntry( currentinput,           (*vditerator).currentInput());
-			config->writeEntry( disablemmap,            (*vditerator).getDisableMMap());
-			config->writeEntry( workaroundbrokendriver, (*vditerator).getWorkaroundBrokenDriver());
 
 			for (size_t input = 0 ; input < (*vditerator).m_input.size(); input++)
 			{
@@ -919,7 +870,7 @@
 				config->writeEntry( brightness,             (*vditerator).m_input[input].getBrightness());
 				config->writeEntry( contrast,               (*vditerator).m_input[input].getContrast());
 				config->writeEntry( saturation,             (*vditerator).m_input[input].getSaturation());
-				config->writeEntry( saturation,             (*vditerator).m_input[input].getWhiteness());
+				config->writeEntry( whiteness,              (*vditerator).m_input[input].getWhiteness());
 				config->writeEntry( hue,                    (*vditerator).m_input[input].getHue());
 				config->writeEntry( autobrightnesscontrast, (*vditerator).m_input[input].getAutoBrightnessContrast());
 				config->writeEntry( autocolorcorrection,    (*vditerator).m_input[input].getAutoColorCorrection());
Index: kopete/libkopete/avdevice/videodevicepool.h
===================================================================
--- kopete/libkopete/avdevice/videodevicepool.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/avdevice/videodevicepool.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -102,11 +102,6 @@
 	bool getImageAsMirror();
 	bool setImageAsMirror(bool imageasmirror);
 
-	bool getDisableMMap();
-	bool setDisableMMap(bool disablemmap);
-	bool getWorkaroundBrokenDriver();
-	bool setWorkaroundBrokenDriver(bool workaroundbrokendriver);
-
 	void loadConfig(); // Load configuration parameters;
 	void saveConfig(); // Save configuretion parameters;
 
Index: kopete/libkopete/avdevice/videodevice.cpp
===================================================================
--- kopete/libkopete/avdevice/videodevice.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/avdevice/videodevice.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -26,6 +26,9 @@
 #include "videoinput.h"
 #include "videodevice.h"
 
+#include "bayer.h"
+#include "sonix_compress.h"
+
 #define CLEAR(x) memset (&(x), 0, sizeof (x))
 
 namespace Kopete {
@@ -39,6 +42,10 @@
 	m_streambuffers  = 0;
 	m_current_input = 0;
 //	kdDebug(14010) << "libkopete (avdevice): VideoDevice() exited successfuly" << endl;
+	maxwidth  = 32767;
+	maxheight = 32767;
+	minwidth  = 1;
+	minheight = 1;
 }
 
 
@@ -280,7 +287,6 @@
 // http://www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec/x519.htm fails because of this behavior with a bttv card.
 
 int currentid = V4L2_CID_BASE;
-int resultado = 0;
 
 kdDebug(14010) <<  k_funcinfo << "Checking CID controls" << endl;
 
@@ -420,38 +426,9 @@
 		}
 #endif
 		m_name=m_model; // Take care about changing the name to be different from the model itself...
-// TODO: THis thing can be used to detec what pixel formats are supported in a API-independent way, but V4L2 has VIDIOC_ENUM_PIXFMT.
-// The correct thing to do is to isolate these calls and do a proper implementation for V4L and another for V4L2 when this thing will be migrated to a plugin architecture.
-		kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << "Supported pixel formats:" << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_GREY))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_GREY) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB332))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB332) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB555))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB555) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB555X))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB555X) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB565))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB565) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB565X))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB565X) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB24))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB24) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_BGR24))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_BGR24) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB32))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_RGB32) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_BGR32))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_BGR32) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUYV))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_YUYV) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_UYVY))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_UYVY) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUV422P))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_YUV422P) << endl;
-		if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUV420P))
-			kdDebug(14010) <<  k_funcinfo << "checkDevice(): " << pixelFormatName(PIXELFORMAT_YUV420P) << endl;
 
+		detectPixelFormats();
+
 // TODO: Now we must execute the proper initialization according to the type of the driver.
 		kdDebug(14010) <<  k_funcinfo << "checkDevice() exited successfuly." << endl;
 		return EXIT_SUCCESS;
@@ -670,7 +647,15 @@
 								{
 									kdDebug(14010) <<  k_funcinfo << "Card doesn't seem to support RGB32 format. Trying BGR32." << endl;
 									if(PIXELFORMAT_NONE == setPixelFormat(PIXELFORMAT_BGR32))
-										kdDebug(14010) <<  k_funcinfo << "Card doesn't seem to support BGR32 format. Fallback to it is not yet implemented." << endl;
+									{
+										kdDebug(14010) <<  k_funcinfo << "Card doesn't seem to support BGR32 format. Trying SN9C10X." << endl;
+										if(PIXELFORMAT_NONE == setPixelFormat(PIXELFORMAT_SN9C10X))
+										{
+											kdDebug(14010) <<  k_funcinfo << "Card doesn't seem to support SN9C10X format. Trying Bayer RGB." << endl;
+											if(PIXELFORMAT_NONE == setPixelFormat(PIXELFORMAT_SBGGR8))
+												kdDebug(14010) <<  k_funcinfo << "Card doesn't seem to support SBGGR8 format. Fallback from it is not yet implemented." << endl;
+										}
+									}
 								}
 							}
 						}
@@ -812,8 +797,11 @@
 			}
 			else
 			{
-				m_pixelformat = newformat;
-				ret = m_pixelformat;
+				if (fmt.fmt.pix.pixelformat == pixelFormatCode(newformat))
+				{
+					m_pixelformat = newformat;
+					ret = m_pixelformat;
+				}
 			}
 			break;
 #endif
@@ -1132,7 +1120,7 @@
 				break;
 		}
 
-// Automatic color correction. Now it just swaps R and B channels in RGB24/BGR24 modes.
+/* Automatic color correction. Now it just swaps R and B channels in RGB24/BGR24 modes.
 		if(m_input[m_current_input].getAutoColorCorrection())
 		{
 			switch(m_currentbuffer.pixelformat)
@@ -1173,7 +1161,7 @@
 				case PIXELFORMAT_YUV420P: break;
 				case PIXELFORMAT_YUV422P: break;
 			}
-		}
+		}*/
 //kdDebug(14010) <<  k_funcinfo << "10 Using IO_METHOD_READ.File descriptor: " << descriptor << " Buffer address: " << &m_currentbuffer.data[0] << " Size: " << m_currentbuffer.data.size() << endl;
 
 
@@ -1208,16 +1196,20 @@
 {
     /// @todo implement me
 
-	qimage->create(width(), height(),32, QImage::IgnoreEndian);
+	// do NOT delete qimage here, as it is received as a parameter
+	if (qimage->width() != width() || qimage->height() != height()) 
+		qimage->create(width(), height(),32, QImage::IgnoreEndian);
+
 	uchar *bits=qimage->bits();
-//kdDebug(14010) <<  k_funcinfo << "Capturing in " << pixelFormatName(m_currentbuffer.pixelformat) << endl;
+// kDebug() << "Capturing in " << pixelFormatName(m_currentbuffer.pixelformat);
 	switch(m_currentbuffer.pixelformat)
 	{
 		case PIXELFORMAT_NONE	: break;
-		case PIXELFORMAT_GREY	: break;
+
+// Packed RGB formats
 		case PIXELFORMAT_RGB332	: break;
+		case PIXELFORMAT_RGB444	: break;
 		case PIXELFORMAT_RGB555	: break;
-		case PIXELFORMAT_RGB555X: break;
 		case PIXELFORMAT_RGB565	:
 			{
 				int step=0;
@@ -1231,41 +1223,62 @@
 				}
 			}
 			break;
+		case PIXELFORMAT_RGB555X: break;
 		case PIXELFORMAT_RGB565X: break;
-		case PIXELFORMAT_RGB24	:
+		case PIXELFORMAT_BGR24	:
 			{
 				int step=0;
 				for(int loop=0;loop < qimage->numBytes();loop+=4)
 				{
-					bits[loop]   = m_currentbuffer.data[step];
+					bits[loop]   = m_currentbuffer.data[step+2];
 					bits[loop+1] = m_currentbuffer.data[step+1];
-					bits[loop+2] = m_currentbuffer.data[step+2];
+					bits[loop+2] = m_currentbuffer.data[step];
 					bits[loop+3] = 255;
 					step+=3;
 				}
 			}
 			break;
-		case PIXELFORMAT_BGR24	: break;
+		case PIXELFORMAT_RGB24	:
 			{
 				int step=0;
 				for(int loop=0;loop < qimage->numBytes();loop+=4)
 				{
-					bits[loop]   = m_currentbuffer.data[step+2];
+					bits[loop]   = m_currentbuffer.data[step];
 					bits[loop+1] = m_currentbuffer.data[step+1];
-					bits[loop+2] = m_currentbuffer.data[step];
+					bits[loop+2] = m_currentbuffer.data[step+2];
 					bits[loop+3] = 255;
 					step+=3;
 				}
 			}
 			break;
+		case PIXELFORMAT_BGR32	: break;
 		case PIXELFORMAT_RGB32	: memcpy(bits,&m_currentbuffer.data[0], m_currentbuffer.data.size());
 			break;
-		case PIXELFORMAT_BGR32	: break;
-	
+
+// Bayer RGB format
+		case PIXELFORMAT_SBGGR8	:
+		{
+			unsigned char *d = (unsigned char *) malloc (width() * height() * 3);
+			bayer2rgb24(d, &m_currentbuffer.data.first(), width(), height());
+			int step=0;
+			for(int loop=0;loop < qimage->numBytes();loop+=4)
+			{
+				bits[loop]   = d[step+2];
+				bits[loop+1] = d[step+1];
+				bits[loop+2] = d[step];
+				bits[loop+3] = 255;
+				step+=3;
+			}
+			free(d);
+		}
+		break;
+
+// YUV formats
+		case PIXELFORMAT_GREY	: break;
 		case PIXELFORMAT_YUYV:
 		case PIXELFORMAT_UYVY:
+		case PIXELFORMAT_YUV420P:
 		case PIXELFORMAT_YUV422P:
-		case PIXELFORMAT_YUV420P:
 		{
 			uchar *yptr, *cbptr, *crptr;
 			bool halfheight=false;
@@ -1345,8 +1358,42 @@
 			}
 		}
 		break;
+
+// Compressed formats
+		case PIXELFORMAT_JPEG	: break;
+		case PIXELFORMAT_MPEG	: break;
+
+// Reserved formats
+		case PIXELFORMAT_DV	: break;
+		case PIXELFORMAT_ET61X251:break;
+		case PIXELFORMAT_HI240	: break;
+		case PIXELFORMAT_HM12	: break;
+		case PIXELFORMAT_MJPEG	: break;
+		case PIXELFORMAT_PWC1	: break;
+		case PIXELFORMAT_PWC2	: break;
+		case PIXELFORMAT_SN9C10X:
+		{
+			unsigned char *s = new unsigned char [width() * height()];
+			unsigned char *d = new unsigned char [width() * height() * 3];
+			sonix_decompress_init();
+			sonix_decompress(width(), height(), &m_currentbuffer.data.first(), s);
+			bayer2rgb24(d, s, width(), height());
+			int step=0;
+			for(int loop=0;loop < qimage->numBytes();loop+=4)
+			{
+				bits[loop]   = d[step+2];
+				bits[loop+1] = d[step+1];
+				bits[loop+2] = d[step];
+				bits[loop+3] = 255;
+				step+=3;
+			}
+			delete[] s;
+			delete[] d;
+		}
+		break;
+		case PIXELFORMAT_WNVA	: break;
+		case PIXELFORMAT_YYUV	: break;
 	}
-
 	return EXIT_SUCCESS;
 }
 
@@ -1455,7 +1502,7 @@
 				{
 					CLEAR (control);
 					control.id = V4L2_CID_BRIGHTNESS;
-					control.value = (queryctrl.maximum - queryctrl.minimum)*getBrightness();
+					control.value = (__s32)((queryctrl.maximum - queryctrl.minimum)*getBrightness());
 
 					if (-1 == xioctl (VIDIOC_S_CTRL, &control))
 					{
@@ -1470,7 +1517,7 @@
 				struct video_picture V4L_picture;
 				if(-1 == xioctl(VIDIOCGPICT, &V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "VIDIOCGPICT failed (" << errno << ")." << endl;
-				V4L_picture.brightness   = (65535*getBrightness());
+				V4L_picture.brightness   = uint(65535*getBrightness());
 				if(-1 == xioctl(VIDIOCSPICT,&V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "Card seems to not support adjusting image brightness. Fallback to it is not yet implemented." << endl;
 			}
@@ -1525,7 +1572,7 @@
 				{
 					CLEAR (control);
 					control.id = V4L2_CID_CONTRAST;
-					control.value = (queryctrl.maximum - queryctrl.minimum)*getContrast();
+					control.value = (__s32)((queryctrl.maximum - queryctrl.minimum)*getContrast());
 
 					if (-1 == xioctl (VIDIOC_S_CTRL, &control))
 					{
@@ -1540,7 +1587,7 @@
 				struct video_picture V4L_picture;
 				if(-1 == xioctl(VIDIOCGPICT, &V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "VIDIOCGPICT failed (" << errno << ")." << endl;
-				V4L_picture.contrast   = (65535*getContrast());
+				V4L_picture.contrast   = uint(65535*getContrast());
 				if(-1 == xioctl(VIDIOCSPICT,&V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "Card seems to not support adjusting image contrast. Fallback to it is not yet implemented." << endl;
 			}
@@ -1595,7 +1642,7 @@
 				{
 					CLEAR (control);
 					control.id = V4L2_CID_SATURATION;
-					control.value = (queryctrl.maximum - queryctrl.minimum)*getSaturation();
+					control.value = (__s32)((queryctrl.maximum - queryctrl.minimum)*getSaturation());
 
 					if (-1 == xioctl (VIDIOC_S_CTRL, &control))
 					{
@@ -1610,7 +1657,7 @@
 				struct video_picture V4L_picture;
 				if(-1 == xioctl(VIDIOCGPICT, &V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "VIDIOCGPICT failed (" << errno << ")." << endl;
-				V4L_picture.colour   = (65535*getSaturation());
+				V4L_picture.colour   = uint(65535*getSaturation());
 				if(-1 == xioctl(VIDIOCSPICT,&V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "Card seems to not support adjusting image saturation. Fallback to it is not yet implemented." << endl;
 			}
@@ -1665,7 +1712,7 @@
 				{
 					CLEAR (control);
 					control.id = V4L2_CID_WHITENESS;
-					control.value = (queryctrl.maximum - queryctrl.minimum)*getWhiteness();
+					control.value = (__s32)((queryctrl.maximum - queryctrl.minimum)*getWhiteness());
 
 					if (-1 == xioctl (VIDIOC_S_CTRL, &control))
 					{
@@ -1680,7 +1727,7 @@
 				struct video_picture V4L_picture;
 				if(-1 == xioctl(VIDIOCGPICT, &V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "VIDIOCGPICT failed (" << errno << ")." << endl;
-				V4L_picture.whiteness   = (65535*getWhiteness());
+				V4L_picture.whiteness   = uint(65535*getWhiteness());
 				if(-1 == xioctl(VIDIOCSPICT,&V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "Card seems to not support adjusting white level. Fallback to it is not yet implemented." << endl;
 			}
@@ -1735,7 +1782,7 @@
 				{
 					CLEAR (control);
 					control.id = V4L2_CID_HUE;
-					control.value = (queryctrl.maximum - queryctrl.minimum)*getHue();
+					control.value = (__s32)((queryctrl.maximum - queryctrl.minimum)*getHue());
 
 					if (-1 == xioctl (VIDIOC_S_CTRL, &control))
 					{
@@ -1750,7 +1797,7 @@
 				struct video_picture V4L_picture;
 				if(-1 == xioctl(VIDIOCGPICT, &V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "VIDIOCGPICT failed (" << errno << ")." << endl;
-				V4L_picture.hue   = (65535*getHue());
+				V4L_picture.hue   = uint(65535*getHue());
 				if(-1 == xioctl(VIDIOCSPICT,&V4L_picture))
 					kdDebug(14010) <<  k_funcinfo << "Card seems to not support adjusting image hue. Fallback to it is not yet implemented." << endl;
 			}
@@ -1825,30 +1872,6 @@
 	  return false;
 }
 
-bool VideoDevice::getDisableMMap()
-{
-	return m_disablemmap;
-}
-
-bool VideoDevice::setDisableMMap(bool disablemmap)
-{
-	kdDebug(14010) <<  k_funcinfo << "VideoDevice::setDisableMMap(" << disablemmap << ") called." << endl;
-	m_disablemmap = disablemmap;
-	return m_disablemmap;
-}
-
-bool VideoDevice::getWorkaroundBrokenDriver()
-{
-	return m_workaroundbrokendriver;
-}
-
-bool VideoDevice::setWorkaroundBrokenDriver(bool workaroundbrokendriver)
-{
-	kdDebug(14010) <<  k_funcinfo << "VideoDevice::setWorkaroundBrokenDriver(" << workaroundbrokendriver << ") called." << endl;
-	m_workaroundbrokendriver = workaroundbrokendriver;
-	return m_workaroundbrokendriver;
-}
-
 pixel_format VideoDevice::pixelFormatForPalette( int palette )
 {
 	switch(m_driver)
@@ -1859,20 +1882,44 @@
 			switch(palette)
 			{
 				case 0 				: return PIXELFORMAT_NONE;	break;
-				case V4L2_PIX_FMT_GREY		: return PIXELFORMAT_GREY;	break;
+
+// Packed RGB formats
 				case V4L2_PIX_FMT_RGB332	: return PIXELFORMAT_RGB332;	break;
+				case V4L2_PIX_FMT_RGB444	: return PIXELFORMAT_RGB444;	break;
 				case V4L2_PIX_FMT_RGB555	: return PIXELFORMAT_RGB555;	break;
+				case V4L2_PIX_FMT_RGB565	: return PIXELFORMAT_RGB565;	break;
 				case V4L2_PIX_FMT_RGB555X	: return PIXELFORMAT_RGB555X;	break;
-				case V4L2_PIX_FMT_RGB565	: return PIXELFORMAT_RGB565;	break;
 				case V4L2_PIX_FMT_RGB565X	: return PIXELFORMAT_RGB565X;	break;
+				case V4L2_PIX_FMT_BGR24		: return PIXELFORMAT_BGR24;	break;
 				case V4L2_PIX_FMT_RGB24		: return PIXELFORMAT_RGB24;	break;
-				case V4L2_PIX_FMT_BGR24		: return PIXELFORMAT_BGR24;	break;
+				case V4L2_PIX_FMT_BGR32		: return PIXELFORMAT_BGR32;	break;
 				case V4L2_PIX_FMT_RGB32		: return PIXELFORMAT_RGB32;	break;
-				case V4L2_PIX_FMT_BGR32		: return PIXELFORMAT_BGR32;	break;
+
+// Bayer RGB format
+				case V4L2_PIX_FMT_SBGGR8	: return PIXELFORMAT_SBGGR8;	break;
+
+// YUV formats
+				case V4L2_PIX_FMT_GREY		: return PIXELFORMAT_GREY;	break;
 				case V4L2_PIX_FMT_YUYV		: return PIXELFORMAT_YUYV;	break;
 				case V4L2_PIX_FMT_UYVY		: return PIXELFORMAT_UYVY;	break;
 				case V4L2_PIX_FMT_YUV420	: return PIXELFORMAT_YUV420P;	break;
 				case V4L2_PIX_FMT_YUV422P	: return PIXELFORMAT_YUV422P;	break;
+
+// Compressed formats
+				case V4L2_PIX_FMT_JPEG		: return PIXELFORMAT_JPEG;	break;
+				case V4L2_PIX_FMT_MPEG		: return PIXELFORMAT_MPEG;	break;
+
+// Reserved formats
+				case V4L2_PIX_FMT_DV		: return PIXELFORMAT_DV;	break;
+				case V4L2_PIX_FMT_ET61X251	: return PIXELFORMAT_ET61X251;	break;
+				case V4L2_PIX_FMT_HI240		: return PIXELFORMAT_HI240;	break;
+				case V4L2_PIX_FMT_HM12		: return PIXELFORMAT_HM12;	break;
+				case V4L2_PIX_FMT_MJPEG		: return PIXELFORMAT_MJPEG;	break;
+				case V4L2_PIX_FMT_PWC1		: return PIXELFORMAT_PWC1;	break;
+				case V4L2_PIX_FMT_PWC2		: return PIXELFORMAT_PWC2;	break;
+				case V4L2_PIX_FMT_SN9C10X	: return PIXELFORMAT_SN9C10X;	break;
+				case V4L2_PIX_FMT_WNVA		: return PIXELFORMAT_WNVA;	break;
+				case V4L2_PIX_FMT_YYUV		: return PIXELFORMAT_YYUV;	break;
 			}
 			break;
 #endif
@@ -1911,20 +1958,44 @@
 			switch(pixelformat)
 			{
 				case PIXELFORMAT_NONE	: return 0;			break;
-				case PIXELFORMAT_GREY	: return V4L2_PIX_FMT_GREY;	break;
+
+// Packed RGB formats
 				case PIXELFORMAT_RGB332	: return V4L2_PIX_FMT_RGB332;	break;
+				case PIXELFORMAT_RGB444	: return V4L2_PIX_FMT_RGB444;	break;
 				case PIXELFORMAT_RGB555	: return V4L2_PIX_FMT_RGB555;	break;
+				case PIXELFORMAT_RGB565	: return V4L2_PIX_FMT_RGB565;	break;
 				case PIXELFORMAT_RGB555X: return V4L2_PIX_FMT_RGB555X;	break;
-				case PIXELFORMAT_RGB565	: return V4L2_PIX_FMT_RGB565;	break;
 				case PIXELFORMAT_RGB565X: return V4L2_PIX_FMT_RGB565X;	break;
+				case PIXELFORMAT_BGR24	: return V4L2_PIX_FMT_BGR24;	break;
 				case PIXELFORMAT_RGB24	: return V4L2_PIX_FMT_RGB24;	break;
-				case PIXELFORMAT_BGR24	: return V4L2_PIX_FMT_BGR24;	break;
+				case PIXELFORMAT_BGR32	: return V4L2_PIX_FMT_BGR32;	break;
 				case PIXELFORMAT_RGB32	: return V4L2_PIX_FMT_RGB32;	break;
-				case PIXELFORMAT_BGR32	: return V4L2_PIX_FMT_BGR32;	break;
+
+// Bayer RGB format
+				case PIXELFORMAT_SBGGR8	: return V4L2_PIX_FMT_SBGGR8;	break;
+
+// YUV formats
+				case PIXELFORMAT_GREY	: return V4L2_PIX_FMT_GREY;	break;
 				case PIXELFORMAT_YUYV	: return V4L2_PIX_FMT_YUYV;	break;
 				case PIXELFORMAT_UYVY	: return V4L2_PIX_FMT_UYVY;	break;
 				case PIXELFORMAT_YUV420P: return V4L2_PIX_FMT_YUV420;	break;
 				case PIXELFORMAT_YUV422P: return V4L2_PIX_FMT_YUV422P;	break;
+
+// Compressed formats
+				case PIXELFORMAT_JPEG	: return V4L2_PIX_FMT_JPEG;	break;
+				case PIXELFORMAT_MPEG	: return V4L2_PIX_FMT_MPEG;	break;
+
+// Reserved formats
+				case PIXELFORMAT_DV	: return V4L2_PIX_FMT_DV;	break;
+				case PIXELFORMAT_ET61X251:return V4L2_PIX_FMT_ET61X251;break;
+				case PIXELFORMAT_HI240	: return V4L2_PIX_FMT_HI240;	break;
+				case PIXELFORMAT_HM12	: return V4L2_PIX_FMT_HM12;	break;
+				case PIXELFORMAT_MJPEG	: return V4L2_PIX_FMT_MJPEG;	break;
+				case PIXELFORMAT_PWC1	: return V4L2_PIX_FMT_PWC1;	break;
+				case PIXELFORMAT_PWC2	: return V4L2_PIX_FMT_PWC2;	break;
+				case PIXELFORMAT_SN9C10X: return V4L2_PIX_FMT_SN9C10X;	break;
+				case PIXELFORMAT_WNVA	: return V4L2_PIX_FMT_WNVA;	break;
+				case PIXELFORMAT_YYUV	: return V4L2_PIX_FMT_YYUV;	break;
 			}
 			break;
 #endif
@@ -1932,20 +2003,44 @@
 			switch(pixelformat)
 			{
 				case PIXELFORMAT_NONE	: return 0;			break;
-				case PIXELFORMAT_GREY	: return VIDEO_PALETTE_GREY;	break;
+
+// Packed RGB formats
 				case PIXELFORMAT_RGB332	: return VIDEO_PALETTE_HI240;	break;
+				case PIXELFORMAT_RGB444	: return 0;			break;
 				case PIXELFORMAT_RGB555	: return VIDEO_PALETTE_RGB555;	break;
-				case PIXELFORMAT_RGB555X: return PIXELFORMAT_NONE;	break;
 				case PIXELFORMAT_RGB565	: return VIDEO_PALETTE_RGB565;	break;
-				case PIXELFORMAT_RGB565X: return PIXELFORMAT_NONE;	break;
+				case PIXELFORMAT_RGB555X: return 0;			break;
+				case PIXELFORMAT_RGB565X: return 0;			break;
+				case PIXELFORMAT_BGR24	: return 0;			break;
 				case PIXELFORMAT_RGB24	: return VIDEO_PALETTE_RGB24;	break;
-				case PIXELFORMAT_BGR24	: return PIXELFORMAT_NONE;	break;
+				case PIXELFORMAT_BGR32	: return 0;			break;
 				case PIXELFORMAT_RGB32	: return VIDEO_PALETTE_RGB32;	break;
-				case PIXELFORMAT_BGR32	: return PIXELFORMAT_NONE;	break;
+
+// Bayer RGB format
+				case PIXELFORMAT_SBGGR8	: return 0;			break;
+
+// YUV formats
+				case PIXELFORMAT_GREY	: return VIDEO_PALETTE_GREY;	break;
 				case PIXELFORMAT_YUYV	: return VIDEO_PALETTE_YUYV;	break;
 				case PIXELFORMAT_UYVY	: return VIDEO_PALETTE_UYVY;	break;
 				case PIXELFORMAT_YUV420P: return VIDEO_PALETTE_YUV420;	break;
 				case PIXELFORMAT_YUV422P: return VIDEO_PALETTE_YUV422P;	break;
+
+// Compressed formats
+				case PIXELFORMAT_JPEG	: return 0;			break;
+				case PIXELFORMAT_MPEG	: return 0;			break;
+
+// Reserved formats
+				case PIXELFORMAT_DV	: return 0;			break;
+				case PIXELFORMAT_ET61X251:return 0;			break;
+				case PIXELFORMAT_HI240	: return VIDEO_PALETTE_HI240;	break;
+				case PIXELFORMAT_HM12	: return 0;			break;
+				case PIXELFORMAT_MJPEG	: return 0;			break;
+				case PIXELFORMAT_PWC1	: return 0;			break;
+				case PIXELFORMAT_PWC2	: return 0;			break;
+				case PIXELFORMAT_SN9C10X: return 0;			break;
+				case PIXELFORMAT_WNVA	: return 0;			break;
+				case PIXELFORMAT_YYUV	: return 0;			break;
 			}
 			break;
 #endif
@@ -1961,20 +2056,44 @@
 	switch(pixelformat)
 	{
 		case PIXELFORMAT_NONE	: return 0;	break;
-		case PIXELFORMAT_GREY	: return 8;	break;
+
+// Packed RGB formats
 		case PIXELFORMAT_RGB332	: return 8;	break;
+		case PIXELFORMAT_RGB444	: return 16;	break;
 		case PIXELFORMAT_RGB555	: return 16;	break;
+		case PIXELFORMAT_RGB565	: return 16;	break;
 		case PIXELFORMAT_RGB555X: return 16;	break;
-		case PIXELFORMAT_RGB565	: return 16;	break;
 		case PIXELFORMAT_RGB565X: return 16;	break;
+		case PIXELFORMAT_BGR24	: return 24;	break;
 		case PIXELFORMAT_RGB24	: return 24;	break;
-		case PIXELFORMAT_BGR24	: return 24;	break;
+		case PIXELFORMAT_BGR32	: return 32;	break;
 		case PIXELFORMAT_RGB32	: return 32;	break;
-		case PIXELFORMAT_BGR32	: return 32;	break;
+
+// Bayer RGB format
+		case PIXELFORMAT_SBGGR8	: return 0;	break;
+
+// YUV formats
+		case PIXELFORMAT_GREY	: return 8;	break;
 		case PIXELFORMAT_YUYV	: return 16;	break;
 		case PIXELFORMAT_UYVY	: return 16;	break;
 		case PIXELFORMAT_YUV420P: return 16;	break;
 		case PIXELFORMAT_YUV422P: return 16;	break;
+
+// Compressed formats
+		case PIXELFORMAT_JPEG	: return 0;	break;
+		case PIXELFORMAT_MPEG	: return 0;	break;
+
+// Reserved formats
+		case PIXELFORMAT_DV	: return 0;	break;
+		case PIXELFORMAT_ET61X251:return 0;	break;
+		case PIXELFORMAT_HI240	: return 8;	break;
+		case PIXELFORMAT_HM12	: return 0;	break;
+		case PIXELFORMAT_MJPEG	: return 0;	break;
+		case PIXELFORMAT_PWC1	: return 0;	break;
+		case PIXELFORMAT_PWC2	: return 0;	break;
+		case PIXELFORMAT_SN9C10X: return 0;	break;
+		case PIXELFORMAT_WNVA	: return 0;	break;
+		case PIXELFORMAT_YYUV	: return 0;	break;
 	}
 	return 0;
 }
@@ -1986,20 +2105,45 @@
 	switch(pixelformat)
 	{
 		case PIXELFORMAT_NONE	: returnvalue = "None";			break;
-		case PIXELFORMAT_GREY	: returnvalue = "8-bit Grayscale";	break;
+
+// Packed RGB formats
 		case PIXELFORMAT_RGB332	: returnvalue = "8-bit RGB332";		break;
+		case PIXELFORMAT_RGB444	: returnvalue = "8-bit RGB444";		break;
 		case PIXELFORMAT_RGB555	: returnvalue = "16-bit RGB555";	break;
+		case PIXELFORMAT_RGB565	: returnvalue = "16-bit RGB565";	break;
 		case PIXELFORMAT_RGB555X: returnvalue = "16-bit RGB555X";	break;
-		case PIXELFORMAT_RGB565	: returnvalue = "16-bit RGB565";	break;
 		case PIXELFORMAT_RGB565X: returnvalue = "16-bit RGB565X";	break;
+		case PIXELFORMAT_BGR24	: returnvalue = "24-bit BGR24";		break;
 		case PIXELFORMAT_RGB24	: returnvalue = "24-bit RGB24";		break;
-		case PIXELFORMAT_BGR24	: returnvalue = "24-bit BGR24";		break;
+		case PIXELFORMAT_BGR32	: returnvalue = "32-bit BGR32";		break;
 		case PIXELFORMAT_RGB32	: returnvalue = "32-bit RGB32";		break;
-		case PIXELFORMAT_BGR32	: returnvalue = "32-bit BGR32";		break;
+
+// Bayer RGB format
+		case PIXELFORMAT_SBGGR8	: returnvalue = "Bayer RGB format";	break;
+
+// YUV formats
+		case PIXELFORMAT_GREY	: returnvalue = "8-bit Grayscale";	break;
 		case PIXELFORMAT_YUYV	: returnvalue = "Packed YUV 4:2:2";	break;
 		case PIXELFORMAT_UYVY	: returnvalue = "Packed YVU 4:2:2";	break;
 		case PIXELFORMAT_YUV420P: returnvalue = "Planar YUV 4:2:0";	break;
 		case PIXELFORMAT_YUV422P: returnvalue = "Planar YUV 4:2:2";	break;
+
+
+// Compressed formats
+		case PIXELFORMAT_JPEG	: returnvalue = "JPEG image";		break;
+		case PIXELFORMAT_MPEG	: returnvalue = "MPEG stream";		break;
+
+// Reserved formats
+		case PIXELFORMAT_DV	: returnvalue = "DV (unknown)";		break;
+		case PIXELFORMAT_ET61X251:returnvalue = "ET61X251";		break;
+		case PIXELFORMAT_HI240	: returnvalue = "8-bit HI240 (RGB332)";	break;
+		case PIXELFORMAT_HM12	: returnvalue = "Packed YUV 4:2:2";	break;
+		case PIXELFORMAT_MJPEG	: returnvalue = "8-bit Grayscale";	break;
+		case PIXELFORMAT_PWC1	: returnvalue = "PWC1";			break;
+		case PIXELFORMAT_PWC2	: returnvalue = "PWC2";			break;
+		case PIXELFORMAT_SN9C10X: returnvalue = "SN9C102";		break;
+		case PIXELFORMAT_WNVA	: returnvalue = "Winnov Videum";	break;
+		case PIXELFORMAT_YYUV	: returnvalue = "YYUV (unknown)";	break;
 	}
 	return returnvalue;
 }
@@ -2015,20 +2159,45 @@
 		case VIDEODEV_DRIVER_V4L2:
 			switch(pixelformat)
 			{
-				case V4L2_PIX_FMT_GREY		: returnvalue = pixelFormatName(PIXELFORMAT_GREY);	break;
+				case 0				: returnvalue = pixelFormatName(PIXELFORMAT_NONE);	break;
+
+// Packed RGB formats
 				case V4L2_PIX_FMT_RGB332	: returnvalue = pixelFormatName(PIXELFORMAT_RGB332);	break;
+				case V4L2_PIX_FMT_RGB444	: returnvalue = pixelFormatName(PIXELFORMAT_RGB444);	break;
 				case V4L2_PIX_FMT_RGB555	: returnvalue = pixelFormatName(PIXELFORMAT_RGB555);	break;
+				case V4L2_PIX_FMT_RGB565	: returnvalue = pixelFormatName(PIXELFORMAT_RGB565);	break;
 				case V4L2_PIX_FMT_RGB555X	: returnvalue = pixelFormatName(PIXELFORMAT_RGB555X);	break;
-				case V4L2_PIX_FMT_RGB565	: returnvalue = pixelFormatName(PIXELFORMAT_RGB565);	break;
 				case V4L2_PIX_FMT_RGB565X	: returnvalue = pixelFormatName(PIXELFORMAT_RGB565X);	break;
+				case V4L2_PIX_FMT_BGR24		: returnvalue = pixelFormatName(PIXELFORMAT_BGR24);	break;
 				case V4L2_PIX_FMT_RGB24		: returnvalue = pixelFormatName(PIXELFORMAT_RGB24);	break;
-				case V4L2_PIX_FMT_BGR24		: returnvalue = pixelFormatName(PIXELFORMAT_BGR24);	break;
+				case V4L2_PIX_FMT_BGR32		: returnvalue = pixelFormatName(PIXELFORMAT_BGR32);	break;
 				case V4L2_PIX_FMT_RGB32		: returnvalue = pixelFormatName(PIXELFORMAT_RGB32);	break;
-				case V4L2_PIX_FMT_BGR32		: returnvalue = pixelFormatName(PIXELFORMAT_BGR32);	break;
+
+// Bayer RGB format
+				case V4L2_PIX_FMT_SBGGR8	: returnvalue = pixelFormatName(PIXELFORMAT_SBGGR8);	break;
+
+// YUV formats
+				case V4L2_PIX_FMT_GREY		: returnvalue = pixelFormatName(PIXELFORMAT_GREY);	break;
 				case V4L2_PIX_FMT_YUYV		: returnvalue = pixelFormatName(PIXELFORMAT_YUYV);	break;
 				case V4L2_PIX_FMT_UYVY		: returnvalue = pixelFormatName(PIXELFORMAT_UYVY);	break;
 				case V4L2_PIX_FMT_YUV420	: returnvalue = pixelFormatName(PIXELFORMAT_YUV420P);	break;
 				case V4L2_PIX_FMT_YUV422P	: returnvalue = pixelFormatName(PIXELFORMAT_YUV422P);	break;
+
+// Compressed formats
+				case V4L2_PIX_FMT_JPEG		: returnvalue = pixelFormatName(PIXELFORMAT_JPEG);	break;
+				case V4L2_PIX_FMT_MPEG		: returnvalue = pixelFormatName(PIXELFORMAT_MPEG);	break;
+
+// Reserved formats
+				case V4L2_PIX_FMT_DV		: returnvalue = pixelFormatName(PIXELFORMAT_DV);	break;
+				case V4L2_PIX_FMT_ET61X251	: returnvalue = pixelFormatName(PIXELFORMAT_ET61X251);	break;
+				case V4L2_PIX_FMT_HI240		: returnvalue = pixelFormatName(PIXELFORMAT_HI240);	break;
+				case V4L2_PIX_FMT_HM12		: returnvalue = pixelFormatName(PIXELFORMAT_HM12);	break;
+				case V4L2_PIX_FMT_MJPEG		: returnvalue = pixelFormatName(PIXELFORMAT_MJPEG);	break;
+				case V4L2_PIX_FMT_PWC1		: returnvalue = pixelFormatName(PIXELFORMAT_PWC1);	break;
+				case V4L2_PIX_FMT_PWC2		: returnvalue = pixelFormatName(PIXELFORMAT_PWC2);	break;
+				case V4L2_PIX_FMT_SN9C10X	: returnvalue = pixelFormatName(PIXELFORMAT_SN9C10X);	break;
+				case V4L2_PIX_FMT_WNVA		: returnvalue = pixelFormatName(PIXELFORMAT_WNVA);	break;
+				case V4L2_PIX_FMT_YYUV		: returnvalue = pixelFormatName(PIXELFORMAT_YYUV);	break;
 			}
 			break;
 #endif
@@ -2056,6 +2225,84 @@
 	return returnvalue;
 }
 
+int VideoDevice::detectPixelFormats()
+{
+			int err = 0;
+	switch(m_driver)
+	{
+#if defined(__linux__) && defined(ENABLE_AV)
+#ifdef V4L2_CAP_VIDEO_CAPTURE
+		case VIDEODEV_DRIVER_V4L2:
+			fmtdesc.index = 0;
+			fmtdesc.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
+
+			while ( err == 0 )
+			{
+				if (-1 == xioctl (VIDIOC_ENUM_FMT, &fmtdesc))
+//				if (ioctl(fd, VIDIOC_ENUM_FMT, &fmtdesc) < 0 )
+				{
+					perror("VIDIOC_ENUM_FMT");
+					err = errno;
+				}
+				else
+				{	
+					kdDebug(14010) <<  k_funcinfo << fmtdesc.pixelformat << "  " << pixelFormatName(fmtdesc.pixelformat) << endl; // Need a cleanup. PixelFormatForPalette is a really bad name
+					fmtdesc.index++;
+				}
+			}
+//			break;
+#endif
+		case VIDEODEV_DRIVER_V4L:
+// TODO: THis thing can be used to detec what pixel formats are supported in a API-independent way, but V4L2 has VIDIOC_ENUM_PIXFMT.
+// The correct thing to do is to isolate these calls and do a proper implementation for V4L and another for V4L2 when this thing will be migrated to a plugin architecture.
+
+// Packed RGB formats
+			kdDebug(14010) <<  k_funcinfo << "Supported pixel formats:" << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB332))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB332) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB444))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB444) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB555))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB555) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB565))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB565) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB555X))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB555X) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB565X))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB565X) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_BGR24))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_BGR24) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB24))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB24) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_BGR32))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_BGR32) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_RGB32))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_RGB32) << endl;
+
+// Bayer RGB format
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_SBGGR8))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_SBGGR8) << endl;
+
+// YUV formats
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_GREY))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_GREY) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUYV))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_YUYV) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_UYVY))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_UYVY) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUV420P))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_YUV420P) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YUV422P))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_YUV422P) << endl;
+
+// Compressed formats
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_JPEG))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_JPEG) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_MPEG))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_MPEG) << endl;
+
+// Reserved formats
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_DV))		kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_DV) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_ET61X251))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_ET61X251) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_HI240))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_HI240) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_HM12))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_HM12) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_MJPEG))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_MJPEG) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_PWC1))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_PWC1) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_PWC2))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_PWC2) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_SN9C10X))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_SN9C10X) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_WNVA))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_WNVA) << endl;
+			if(PIXELFORMAT_NONE != setPixelFormat(PIXELFORMAT_YYUV))	kdDebug(14010) <<  k_funcinfo << pixelFormatName(PIXELFORMAT_YYUV) << endl;
+			break;
+#endif
+		case VIDEODEV_DRIVER_NONE:
+		default:
+			return PIXELFORMAT_NONE;	break;
+	}
+	return PIXELFORMAT_NONE;
+}
+
 __u64 VideoDevice::signalStandardCode(signal_standard standard)
 {
 	switch(m_driver)
Index: kopete/libkopete/avdevice/Makefile.am
===================================================================
--- kopete/libkopete/avdevice/Makefile.am	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/avdevice/Makefile.am	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -8,9 +8,11 @@
 libkopete_videodevice_la_LDFLAGS = $(KDE_RPATH) $(all_libraries)
 
 noinst_HEADERS = kxv.h qvideo.h qvideostream.h videocontrol.h videodevice.h \
-	videodevicemodelpool.h videodevicepool.h videoinput.h
+	videodevicemodelpool.h videodevicepool.h videoinput.h \
+	sonix_compress.h bayer.h
 libkopete_videodevice_la_SOURCES = videocontrol.cpp videodevice.cpp \
-	videodevicemodelpool.cpp videodevicepool.cpp videoinput.cpp
+	videodevicemodelpool.cpp videodevicepool.cpp videoinput.cpp \
+	sonix_compress.cpp bayer.cpp
 libkvideoio_la_LDFLAGS = -no-undefined $(all_libraries) -version-info 1:0:0
 libkvideoio_la_SOURCES = kxv.cpp qvideo.cpp qvideostream.cpp
 libkvideoio_la_LIBADD = $(LIB_QT) $(LIB_KDECORE) $(GLLIB)
Index: kopete/libkopete/avdevice/videodevice.h
===================================================================
--- kopete/libkopete/avdevice/videodevice.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/avdevice/videodevice.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -92,21 +92,45 @@
 
 typedef enum
 {
+// Packed RGB formats
 	PIXELFORMAT_NONE	= 0,
 	PIXELFORMAT_GREY	= (1 << 0),
 	PIXELFORMAT_RGB332	= (1 << 1),
-	PIXELFORMAT_RGB555	= (1 << 2),
-	PIXELFORMAT_RGB555X	= (1 << 3),
+	PIXELFORMAT_RGB444	= (1 << 2),
+	PIXELFORMAT_RGB555	= (1 << 3),
 	PIXELFORMAT_RGB565	= (1 << 4),
-	PIXELFORMAT_RGB565X	= (1 << 5),
-	PIXELFORMAT_RGB24	= (1 << 6),
+	PIXELFORMAT_RGB555X	= (1 << 5),
+	PIXELFORMAT_RGB565X	= (1 << 6),
 	PIXELFORMAT_BGR24	= (1 << 7),
-	PIXELFORMAT_RGB32	= (1 << 8),
+	PIXELFORMAT_RGB24	= (1 << 8),
 	PIXELFORMAT_BGR32	= (1 << 9),
-	PIXELFORMAT_YUYV	= (1 << 10),
-	PIXELFORMAT_UYVY	= (1 << 11),
-	PIXELFORMAT_YUV420P	= (1 << 12),
-	PIXELFORMAT_YUV422P	= (1 << 13)
+	PIXELFORMAT_RGB32	= (1 << 10),
+
+// Bayer RGB format
+	PIXELFORMAT_SBGGR8	= (1 << 11),
+
+// YUV formats
+	PIXELFORMAT_YUYV	= (1 << 12),
+	PIXELFORMAT_UYVY	= (1 << 13),
+	PIXELFORMAT_YUV420P	= (1 << 14),
+	PIXELFORMAT_YUV422P	= (1 << 15),
+
+// Compressed formats
+	PIXELFORMAT_JPEG	= (1 << 16),
+	PIXELFORMAT_MPEG	= (1 << 17),
+
+// Reserved formats
+	PIXELFORMAT_DV		= (1 << 18),
+	PIXELFORMAT_ET61X251	= (1 << 19),
+	PIXELFORMAT_HI240	= (1 << 20),
+	PIXELFORMAT_HM12	= (1 << 21),
+	PIXELFORMAT_MJPEG	= (1 << 22),
+	PIXELFORMAT_PWC1	= (1 << 23),
+	PIXELFORMAT_PWC2	= (1 << 24),
+	PIXELFORMAT_SN9C10X	= (1 << 25),
+	PIXELFORMAT_WNVA	= (1 << 26),
+	PIXELFORMAT_YYUV	= (1 << 27)
+
 //	PIXELFORMAT_ALL		= 0x00003FFF
 } pixel_format;
 
@@ -201,6 +225,7 @@
 	int pixelFormatDepth(pixel_format pixelformat);
 	QString pixelFormatName(pixel_format pixelformat);
 	QString pixelFormatName(int pixelformat);
+	int detectPixelFormats();
 
 	__u64 signalStandardCode(signal_standard standard);
 	QString signalStandardName(signal_standard standard);
@@ -235,11 +260,6 @@
 	bool getImageAsMirror();
 	bool setImageAsMirror(bool imageasmirror);
 
-	bool getDisableMMap();
-	bool setDisableMMap(bool disablemmap);
-	bool getWorkaroundBrokenDriver();
-	bool setWorkaroundBrokenDriver(bool workaroundbrokendriver);
-
 	bool canCapture();
 	bool canChromakey();
 	bool canScale();
@@ -262,6 +282,7 @@
 	struct v4l2_cropcap cropcap;
 	struct v4l2_crop crop;
 	struct v4l2_format fmt;
+	struct v4l2_fmtdesc fmtdesc; // Not sure if it must be here or inside detectPixelFormats(). Should inve
 //	struct v4l2_input m_input;
 	struct v4l2_queryctrl queryctrl;
 	struct v4l2_querymenu querymenu;
Index: kopete/libkopete/kopeteprotocol.desktop
===================================================================
--- kopete/libkopete/kopeteprotocol.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/kopeteprotocol.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Comment[da]=Kopete-protokol-plugin
 Comment[de]=Kopete Protokoll-Modul
 Comment[el]=Πρόσθετο πρωτοκόλλου Kopete
+Comment[eo]=Kopete-Protokolkromaĵo
 Comment[es]=Complemento de protocolo de Kopete
 Comment[et]=Kopete protokolliplugin
 Comment[eu]=Kopete protocolo plugin-a
Index: kopete/libkopete/kopeteplugin.desktop
===================================================================
--- kopete/libkopete/kopeteplugin.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kopete/libkopete/kopeteplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Comment[da]=Kopete-plugin
 Comment[de]=Kopete-Modul
 Comment[el]=Πρόσθετο Kopete
+Comment[eo]=Kopete-kromaĵo
 Comment[es]=Complemento de Kopete
 Comment[et]=Kopete plugin
 Comment[eu]=Kopete plugin-a
Index: knewsticker/knewstickerstub/knewstickerstub.desktop
===================================================================
--- knewsticker/knewstickerstub/knewstickerstub.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ knewsticker/knewstickerstub/knewstickerstub.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -10,6 +10,7 @@
 Name[da]=KNewsTicker config-grænseflade
 Name[de]=Newsticker-Einrichtung
 Name[el]=Πρόγραμμα ρύθμισης KNewsTicker
+Name[eo]=Agordilo por Novaĵprezentilo
 Name[es]=Interfaz de configuración de KNewsTicker
 Name[et]=Uudistejälgija seadistamine
 Name[eu]=KNewsTicker konfigurazio interfazea
Index: knewsticker/eventsrc
===================================================================
--- knewsticker/eventsrc	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ knewsticker/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -290,6 +290,7 @@
 Comment[da]=Den hentede RDF-fil kunne ikke fortolkes
 Comment[de]=Die heruntergeladene RDF-Datei kann nicht eingelesen werden
 Comment[el]=Το αρχείο που λήφθηκε RDF ήταν αδύνατο να αναλυθεί
+Comment[eo]=La elŝutita RDF-dosiero ne estis analizebla
 Comment[es]=El archivo RDF descargado no se pudo analizar
 Comment[et]=Allalaaditud RDF-faili pole võimalik parsida
 Comment[eu]=Deskargatutako RDF fitxategia ezin izan da aztertu
Index: knewsticker/knewsticker.desktop
===================================================================
--- knewsticker/knewsticker.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ knewsticker/knewsticker.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -65,6 +65,7 @@
 Comment[da]=En rullende RDF nyhedstelegraf
 Comment[de]=Ein durchlaufender RDF-Newsticker
 Comment[el]=Μια κυλιόμενη προβολή ειδήσεων RDF
+Comment[eo]=Rulumanta RDF-novaĵprezentilo
 Comment[es]=Teletipo de noticias RDF
 Comment[et]=RDF uudiste jälgija
 Comment[eu]=RDF berri-markatzailea
Index: kget/kget_plug_in/kget_plug_in.desktop
===================================================================
--- kget/kget_plug_in/kget_plug_in.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kget/kget_plug_in/kget_plug_in.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -33,6 +33,7 @@
 Comment[da]=Håndtering af download
 Comment[de]=Herunterladen von Dateien
 Comment[el]=Διαχειριστής λήψεων αρχείων
+Comment[eo]=Elŝut-administrilo
 Comment[es]=Gestor de descargas
 Comment[et]=Allalaadimiste haldur
 Comment[eu]=Deskarga kudeatzailea
Index: kget/kget.desktop
===================================================================
--- kget/kget.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kget/kget.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -29,6 +29,7 @@
 GenericName[da]=Håndtering af download
 GenericName[de]=Datentransfer-Verwaltung
 GenericName[el]=Διαχειριστής λήψεων αρχείων
+GenericName[eo]=Elŝut-administrilo
 GenericName[es]=Gestor de descargas
 GenericName[et]=Allalaadimiste haldur
 GenericName[eu]=Deskarga kudeatzailea
Index: filesharing/advanced/kcm_sambaconf/kcmsambaconf.cpp
===================================================================
--- filesharing/advanced/kcm_sambaconf/kcmsambaconf.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/kcm_sambaconf/kcmsambaconf.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -615,6 +615,7 @@
   if ( s == "ads" ) i = 4;
 
   _interface->securityLevelBtnGrp->setButton(i);
+  _interface->updateSecurityLevelHelpLbl();
 
 }
 
Index: filesharing/advanced/kcm_sambaconf/kcminterface.ui
===================================================================
--- filesharing/advanced/kcm_sambaconf/kcminterface.ui	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/kcm_sambaconf/kcminterface.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -1,4 +1,4 @@
-<!DOCTYPE UI><UI version="3.2" stdsetdef="1">
+<!DOCTYPE UI><UI version="3.3" stdsetdef="1">
 <class>KcmInterface</class>
 <comment>
 /******************************************************************************
@@ -29,7 +29,7 @@
         <rect>
             <x>0</x>
             <y>0</y>
-            <width>634</width>
+            <width>714</width>
             <height>578</height>
         </rect>
     </property>
@@ -283,7 +283,7 @@
                                             <string>Share</string>
                                         </property>
                                         <property name="accel">
-                                            <string>Alt+</string>
+                                            <string>Alt+ </string>
                                         </property>
                                         <property name="checked">
                                             <bool>true</bool>
@@ -301,7 +301,7 @@
                                             <string>User</string>
                                         </property>
                                         <property name="accel">
-                                            <string>Alt+</string>
+                                            <string>Alt+ </string>
                                         </property>
                                     </widget>
                                     <widget class="QRadioButton">
@@ -316,7 +316,7 @@
                                             <string>Server</string>
                                         </property>
                                         <property name="accel">
-                                            <string>Alt+</string>
+                                            <string>Alt+ </string>
                                         </property>
                                     </widget>
                                     <widget class="QRadioButton">
@@ -343,7 +343,7 @@
                                             <string>ADS</string>
                                         </property>
                                         <property name="accel">
-                                            <string>Alt+</string>
+                                            <string>Alt+ </string>
                                         </property>
                                     </widget>
                                 </vbox>
@@ -775,7 +775,7 @@
                                     <string>Edit Share...</string>
                                 </property>
                                 <property name="accel">
-                                    <string>Alt+</string>
+                                    <string>Alt+ </string>
                                 </property>
                             </widget>
                             <widget class="QPushButton">
@@ -1449,7 +1449,7 @@
                                                             <string>Obey PAM restrictions</string>
                                                         </property>
                                                         <property name="accel">
-                                                            <string>Alt+</string>
+                                                            <string>Alt+ </string>
                                                         </property>
                                                     </widget>
                                                     <widget class="QCheckBox">
@@ -1464,7 +1464,7 @@
                                                             <string>PAM password change</string>
                                                         </property>
                                                         <property name="accel">
-                                                            <string>Alt+</string>
+                                                            <string>Alt+ </string>
                                                         </property>
                                                     </widget>
                                                 </vbox>
@@ -1506,7 +1506,7 @@
                                                             <string>Paranoid server security</string>
                                                         </property>
                                                         <property name="accel">
-                                                            <string>Alt+</string>
+                                                            <string>Alt+ </string>
                                                         </property>
                                                     </widget>
                                                 </vbox>
@@ -1600,7 +1600,7 @@
                                                             <string>Bind interfaces only</string>
                                                         </property>
                                                         <property name="accel">
-                                                            <string>Alt+</string>
+                                                            <string>Alt+ </string>
                                                         </property>
                                                     </widget>
                                                     <widget class="QComboBox" row="0" column="1">
@@ -6094,7 +6094,7 @@
                                                 <string>UNIX extensions</string>
                                             </property>
                                             <property name="accel">
-                                                <string>Alt+</string>
+                                                <string>Alt+ </string>
                                             </property>
                                         </widget>
                                         <widget class="QCheckBox">
@@ -7853,6 +7853,8 @@
         </widget>
     </vbox>
 </widget>
+<customwidgets>
+</customwidgets>
 <connections>
     <connection>
         <sender>shareListView</sender>
@@ -7957,31 +7959,13 @@
         <slot>changedSlot()</slot>
     </connection>
     <connection>
-        <sender>shareRadio</sender>
-        <signal>clicked()</signal>
-        <receiver>KcmInterface</receiver>
-        <slot>shareRadio_clicked()</slot>
-    </connection>
-    <connection>
         <sender>userRadio</sender>
         <signal>stateChanged(int)</signal>
         <receiver>KcmInterface</receiver>
         <slot>changedSlot()</slot>
     </connection>
     <connection>
-        <sender>userRadio</sender>
-        <signal>clicked()</signal>
-        <receiver>KcmInterface</receiver>
-        <slot>userRadio_clicked()</slot>
-    </connection>
-    <connection>
         <sender>serverRadio</sender>
-        <signal>clicked()</signal>
-        <receiver>KcmInterface</receiver>
-        <slot>serverRadio_clicked()</slot>
-    </connection>
-    <connection>
-        <sender>serverRadio</sender>
         <signal>stateChanged(int)</signal>
         <receiver>KcmInterface</receiver>
         <slot>changedSlot()</slot>
@@ -7993,12 +7977,6 @@
         <slot>changedSlot()</slot>
     </connection>
     <connection>
-        <sender>domainRadio</sender>
-        <signal>clicked()</signal>
-        <receiver>KcmInterface</receiver>
-        <slot>domainRadio_clicked()</slot>
-    </connection>
-    <connection>
         <sender>passwordServerEdit</sender>
         <signal>textChanged(const QString&amp;)</signal>
         <receiver>KcmInterface</receiver>
@@ -8148,12 +8126,6 @@
         <receiver>winsHookLbl</receiver>
         <slot>setEnabled(bool)</slot>
     </connection>
-    <connection>
-        <sender>adsRadio</sender>
-        <signal>clicked()</signal>
-        <receiver>KcmInterface</receiver>
-        <slot>adsRadioClicked()</slot>
-    </connection>
 </connections>
 <tabstops>
     <tabstop>ntStatusSupportChk</tabstop>
@@ -8430,15 +8402,106 @@
     <slot>init()</slot>
     <slot>changedSlot()</slot>
     <slot>securityLevelCombo_activated( int i )</slot>
-    <slot>shareRadio_clicked()</slot>
-    <slot>userRadio_clicked()</slot>
-    <slot>serverRadio_clicked()</slot>
-    <slot>domainRadio_clicked()</slot>
-    <slot>adsRadioClicked()</slot>
     <slot>KURLLabel1_leftClickedURL()</slot>
     <slot>lmAnnounceCombo_activated( int i )</slot>
     <slot>allowGuestLoginsChk_toggled( bool b )</slot>
     <slot>mapToGuestCombo_activated( int i )</slot>
+    <slot>updateSecurityLevelHelpLbl()</slot>
 </slots>
 <layoutdefaults spacing="6" margin="11"/>
+<includehints>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kurllabel.h</includehint>
+    <includehint>klistview.h</includehint>
+    <includehint>klistview.h</includehint>
+    <includehint>klistview.h</includehint>
+    <includehint>klistview.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+</includehints>
 </UI>
Index: filesharing/advanced/kcm_sambaconf/share.ui
===================================================================
--- filesharing/advanced/kcm_sambaconf/share.ui	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/kcm_sambaconf/share.ui	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -1,4 +1,4 @@
-<!DOCTYPE UI><UI version="3.2" stdsetdef="1">
+<!DOCTYPE UI><UI version="3.3" stdsetdef="1">
 <class>KcmShareDlg</class>
 <comment>
 /******************************************************************************
@@ -1827,125 +1827,162 @@
                             <attribute name="title">
                                 <string>Filenames</string>
                             </attribute>
-                            <grid>
+                            <widget class="QLayoutWidget">
                                 <property name="name">
-                                    <cstring>unnamed</cstring>
+                                    <cstring>Layout54</cstring>
                                 </property>
-                                <property name="margin">
-                                    <number>0</number>
+                                <property name="geometry">
+                                    <rect>
+                                        <x>330</x>
+                                        <y>1</y>
+                                        <width>323</width>
+                                        <height>270</height>
+                                    </rect>
                                 </property>
-                                <property name="spacing">
-                                    <number>6</number>
-                                </property>
-                                <widget class="QLayoutWidget" row="0" column="1">
+                                <vbox>
                                     <property name="name">
-                                        <cstring>Layout54</cstring>
+                                        <cstring>unnamed</cstring>
                                     </property>
-                                    <vbox>
+                                    <property name="margin">
+                                        <number>0</number>
+                                    </property>
+                                    <property name="spacing">
+                                        <number>6</number>
+                                    </property>
+                                    <widget class="QGroupBox">
                                         <property name="name">
-                                            <cstring>unnamed</cstring>
+                                            <cstring>GroupBox9</cstring>
                                         </property>
-                                        <property name="margin">
-                                            <number>0</number>
+                                        <property name="sizePolicy">
+                                            <sizepolicy>
+                                                <hsizetype>7</hsizetype>
+                                                <vsizetype>5</vsizetype>
+                                                <horstretch>0</horstretch>
+                                                <verstretch>0</verstretch>
+                                            </sizepolicy>
                                         </property>
-                                        <property name="spacing">
-                                            <number>6</number>
+                                        <property name="title">
+                                            <string>Other Options</string>
                                         </property>
-                                        <widget class="QGroupBox">
+                                        <vbox>
                                             <property name="name">
-                                                <cstring>GroupBox9</cstring>
+                                                <cstring>unnamed</cstring>
                                             </property>
-                                            <property name="sizePolicy">
-                                                <sizepolicy>
-                                                    <hsizetype>7</hsizetype>
-                                                    <vsizetype>5</vsizetype>
-                                                    <horstretch>0</horstretch>
-                                                    <verstretch>0</verstretch>
-                                                </sizepolicy>
-                                            </property>
-                                            <property name="title">
-                                                <string>Other Options</string>
-                                            </property>
-                                            <vbox>
+                                            <widget class="QCheckBox">
                                                 <property name="name">
-                                                    <cstring>unnamed</cstring>
+                                                    <cstring>hideTrailingDotChk</cstring>
                                                 </property>
-                                                <widget class="QCheckBox">
-                                                    <property name="name">
-                                                        <cstring>hideTrailingDotChk</cstring>
-                                                    </property>
-                                                    <property name="text">
-                                                        <string>Hide traili&amp;ng dot</string>
-                                                    </property>
-                                                </widget>
-                                            </vbox>
-                                        </widget>
-                                        <widget class="QGroupBox">
+                                                <property name="text">
+                                                    <string>Hide traili&amp;ng dot</string>
+                                                </property>
+                                            </widget>
+                                        </vbox>
+                                    </widget>
+                                    <widget class="QGroupBox">
+                                        <property name="name">
+                                            <cstring>GroupBox15</cstring>
+                                        </property>
+                                        <property name="title">
+                                            <string>DOS</string>
+                                        </property>
+                                        <vbox>
                                             <property name="name">
-                                                <cstring>GroupBox15</cstring>
+                                                <cstring>unnamed</cstring>
                                             </property>
-                                            <property name="title">
-                                                <string>DOS</string>
+                                            <property name="margin">
+                                                <number>11</number>
                                             </property>
-                                            <vbox>
+                                            <property name="spacing">
+                                                <number>6</number>
+                                            </property>
+                                            <widget class="QCheckBox">
                                                 <property name="name">
-                                                    <cstring>unnamed</cstring>
+                                                    <cstring>dosFilemodeChk</cstring>
                                                 </property>
-                                                <property name="margin">
-                                                    <number>11</number>
+                                                <property name="text">
+                                                    <string>&amp;DOS file mode</string>
                                                 </property>
-                                                <property name="spacing">
-                                                    <number>6</number>
+                                            </widget>
+                                            <widget class="QCheckBox">
+                                                <property name="name">
+                                                    <cstring>dosFiletimesChk</cstring>
                                                 </property>
-                                                <widget class="QCheckBox">
-                                                    <property name="name">
-                                                        <cstring>dosFilemodeChk</cstring>
-                                                    </property>
-                                                    <property name="text">
-                                                        <string>&amp;DOS file mode</string>
-                                                    </property>
-                                                </widget>
-                                                <widget class="QCheckBox">
-                                                    <property name="name">
-                                                        <cstring>dosFiletimesChk</cstring>
-                                                    </property>
-                                                    <property name="text">
-                                                        <string>DOS f&amp;ile times</string>
-                                                    </property>
-                                                </widget>
-                                                <widget class="QCheckBox">
-                                                    <property name="name">
-                                                        <cstring>dosFiletimeResolutionChk</cstring>
-                                                    </property>
-                                                    <property name="text">
-                                                        <string>DOS file time resolution</string>
-                                                    </property>
-                                                </widget>
-                                            </vbox>
-                                        </widget>
-                                    </vbox>
-                                </widget>
-                                <spacer row="1" column="0">
+                                                <property name="text">
+                                                    <string>DOS f&amp;ile times</string>
+                                                </property>
+                                            </widget>
+                                            <widget class="QCheckBox">
+                                                <property name="name">
+                                                    <cstring>dosFiletimeResolutionChk</cstring>
+                                                </property>
+                                                <property name="text">
+                                                    <string>DOS file time resolution</string>
+                                                </property>
+                                            </widget>
+                                        </vbox>
+                                    </widget>
+                                </vbox>
+                            </widget>
+                            <spacer>
+                                <property name="name">
+                                    <cstring>Spacer61</cstring>
+                                </property>
+                                <property name="orientation">
+                                    <enum>Vertical</enum>
+                                </property>
+                                <property name="sizeType">
+                                    <enum>Expanding</enum>
+                                </property>
+                                <property name="sizeHint">
+                                    <size>
+                                        <width>20</width>
+                                        <height>30</height>
+                                    </size>
+                                </property>
+                                <property name="geometry">
+                                    <rect>
+                                        <x>152</x>
+                                        <y>277</y>
+                                        <width>20</width>
+                                        <height>119</height>
+                                    </rect>
+                                </property>
+                            </spacer>
+                            <widget class="QGroupBox">
+                                <property name="name">
+                                    <cstring>GroupBox5</cstring>
+                                </property>
+                                <property name="geometry">
+                                    <rect>
+                                        <x>1</x>
+                                        <y>1</y>
+                                        <width>323</width>
+                                        <height>270</height>
+                                    </rect>
+                                </property>
+                                <property name="sizePolicy">
+                                    <sizepolicy>
+                                        <hsizetype>5</hsizetype>
+                                        <vsizetype>5</vsizetype>
+                                        <horstretch>0</horstretch>
+                                        <verstretch>0</verstretch>
+                                    </sizepolicy>
+                                </property>
+                                <property name="title">
+                                    <string>Name Mangling</string>
+                                </property>
+                                <widget class="QLabel">
                                     <property name="name">
-                                        <cstring>Spacer61</cstring>
+                                        <cstring>TextLabel3_2_2</cstring>
                                     </property>
-                                    <property name="orientation">
-                                        <enum>Vertical</enum>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>11</x>
+                                            <y>179</y>
+                                            <width>168</width>
+                                            <height>24</height>
+                                        </rect>
                                     </property>
-                                    <property name="sizeType">
-                                        <enum>Expanding</enum>
-                                    </property>
-                                    <property name="sizeHint">
-                                        <size>
-                                            <width>20</width>
-                                            <height>30</height>
-                                        </size>
-                                    </property>
-                                </spacer>
-                                <widget class="QGroupBox" row="0" column="0">
-                                    <property name="name">
-                                        <cstring>GroupBox5</cstring>
-                                    </property>
                                     <property name="sizePolicy">
                                         <sizepolicy>
                                             <hsizetype>5</hsizetype>
@@ -1954,204 +1991,312 @@
                                             <verstretch>0</verstretch>
                                         </sizepolicy>
                                     </property>
-                                    <property name="title">
-                                        <string>Name Mangling</string>
+                                    <property name="text">
+                                        <string>Mangling cha&amp;r:</string>
                                     </property>
-                                    <grid>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>manglingCharEdit</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QLayoutWidget">
+                                    <property name="name">
+                                        <cstring>Layout14</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>185</x>
+                                            <y>179</y>
+                                            <width>127</width>
+                                            <height>24</height>
+                                        </rect>
+                                    </property>
+                                    <hbox>
                                         <property name="name">
                                             <cstring>unnamed</cstring>
                                         </property>
                                         <property name="margin">
-                                            <number>11</number>
+                                            <number>0</number>
                                         </property>
                                         <property name="spacing">
                                             <number>6</number>
                                         </property>
-                                        <widget class="QLabel" row="6" column="0">
+                                        <widget class="QLineEdit">
                                             <property name="name">
-                                                <cstring>TextLabel3_2_2</cstring>
-                                            </property>
-                                            <property name="sizePolicy">
-                                                <sizepolicy>
-                                                    <hsizetype>5</hsizetype>
-                                                    <vsizetype>5</vsizetype>
-                                                    <horstretch>0</horstretch>
-                                                    <verstretch>0</verstretch>
-                                                </sizepolicy>
-                                            </property>
-                                            <property name="text">
-                                                <string>Mangling cha&amp;r:</string>
-                                            </property>
-                                            <property name="buddy" stdset="0">
                                                 <cstring>manglingCharEdit</cstring>
                                             </property>
-                                        </widget>
-                                        <widget class="QLayoutWidget" row="6" column="1">
-                                            <property name="name">
-                                                <cstring>Layout14</cstring>
+                                            <property name="maximumSize">
+                                                <size>
+                                                    <width>40</width>
+                                                    <height>32767</height>
+                                                </size>
                                             </property>
-                                            <hbox>
-                                                <property name="name">
-                                                    <cstring>unnamed</cstring>
-                                                </property>
-                                                <property name="margin">
-                                                    <number>0</number>
-                                                </property>
-                                                <property name="spacing">
-                                                    <number>6</number>
-                                                </property>
-                                                <widget class="QLineEdit">
-                                                    <property name="name">
-                                                        <cstring>manglingCharEdit</cstring>
-                                                    </property>
-                                                    <property name="maximumSize">
-                                                        <size>
-                                                            <width>40</width>
-                                                            <height>32767</height>
-                                                        </size>
-                                                    </property>
-                                                </widget>
-                                                <spacer>
-                                                    <property name="name">
-                                                        <cstring>Spacer40_2</cstring>
-                                                    </property>
-                                                    <property name="orientation">
-                                                        <enum>Horizontal</enum>
-                                                    </property>
-                                                    <property name="sizeType">
-                                                        <enum>Expanding</enum>
-                                                    </property>
-                                                    <property name="sizeHint">
-                                                        <size>
-                                                            <width>20</width>
-                                                            <height>0</height>
-                                                        </size>
-                                                    </property>
-                                                </spacer>
-                                            </hbox>
                                         </widget>
-                                        <widget class="QLabel" row="7" column="0">
+                                        <spacer>
                                             <property name="name">
-                                                <cstring>TextLabel1_5</cstring>
+                                                <cstring>Spacer40_2</cstring>
                                             </property>
-                                            <property name="text">
-                                                <string>Mangled ma&amp;p:</string>
+                                            <property name="orientation">
+                                                <enum>Horizontal</enum>
                                             </property>
-                                            <property name="buddy" stdset="0">
-                                                <cstring>mangledMapEdit</cstring>
+                                            <property name="sizeType">
+                                                <enum>Expanding</enum>
                                             </property>
-                                        </widget>
-                                        <widget class="QLineEdit" row="7" column="1">
-                                            <property name="name">
-                                                <cstring>mangledMapEdit</cstring>
+                                            <property name="sizeHint">
+                                                <size>
+                                                    <width>20</width>
+                                                    <height>0</height>
+                                                </size>
                                             </property>
-                                        </widget>
-                                        <widget class="QCheckBox" row="0" column="0">
-                                            <property name="name">
-                                                <cstring>mangledNamesChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Enable na&amp;me mangling</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox" row="1" column="0">
-                                            <property name="name">
-                                                <cstring>mangleCaseChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Man&amp;gle case</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox" row="2" column="0">
-                                            <property name="name">
-                                                <cstring>caseSensitiveChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Case sensi&amp;tive</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox" row="3" column="0">
-                                            <property name="name">
-                                                <cstring>preserveCaseChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Preser&amp;ve case</string>
-                                            </property>
-                                            <property name="checked">
-                                                <bool>true</bool>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox" row="4" column="0">
-                                            <property name="name">
-                                                <cstring>shortPreserveCaseChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Short pr&amp;eserve case</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QLabel" row="5" column="0">
-                                            <property name="name">
-                                                <cstring>TextLabel2_3</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Defau&amp;lt case:</string>
-                                            </property>
-                                            <property name="buddy" stdset="0">
-                                                <cstring>defaultCaseCombo</cstring>
-                                            </property>
-                                        </widget>
-                                        <widget class="QComboBox" row="5" column="1">
-                                            <item>
-                                                <property name="text">
-                                                    <string>Lower</string>
-                                                </property>
-                                            </item>
-                                            <item>
-                                                <property name="text">
-                                                    <string>Upper</string>
-                                                </property>
-                                            </item>
-                                            <property name="name">
-                                                <cstring>defaultCaseCombo</cstring>
-                                            </property>
-                                            <property name="sizePolicy">
-                                                <sizepolicy>
-                                                    <hsizetype>1</hsizetype>
-                                                    <vsizetype>0</vsizetype>
-                                                    <horstretch>0</horstretch>
-                                                    <verstretch>0</verstretch>
-                                                </sizepolicy>
-                                            </property>
-                                        </widget>
-                                        <widget class="QLabel" row="8" column="0">
-                                            <property name="name">
-                                                <cstring>textLabel2</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Mangling method:</string>
-                                            </property>
-                                            <property name="buddy" stdset="0">
-                                                <cstring>manglingMethodCombo</cstring>
-                                            </property>
-                                        </widget>
-                                        <widget class="QComboBox" row="8" column="1">
-                                            <item>
-                                                <property name="text">
-                                                    <string>hash</string>
-                                                </property>
-                                            </item>
-                                            <item>
-                                                <property name="text">
-                                                    <string>hash2</string>
-                                                </property>
-                                            </item>
-                                            <property name="name">
-                                                <cstring>manglingMethodCombo</cstring>
-                                            </property>
-                                        </widget>
-                                    </grid>
+                                        </spacer>
+                                    </hbox>
                                 </widget>
-                            </grid>
+                                <widget class="QLabel">
+                                    <property name="name">
+                                        <cstring>TextLabel1_5</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>11</x>
+                                            <y>209</y>
+                                            <width>168</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Mangled ma&amp;p:</string>
+                                    </property>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>mangledMapEdit</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QLineEdit">
+                                    <property name="name">
+                                        <cstring>mangledMapEdit</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>185</x>
+                                            <y>209</y>
+                                            <width>127</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                </widget>
+                                <widget class="QCheckBox">
+                                    <property name="name">
+                                        <cstring>mangledNamesChk</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>11</x>
+                                            <y>21</y>
+                                            <width>168</width>
+                                            <height>20</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Enable na&amp;me mangling</string>
+                                    </property>
+                                </widget>
+                                <widget class="QCheckBox">
+                                    <property name="name">
+                                        <cstring>mangleCaseChk</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>11</x>
+                                            <y>47</y>
+                                            <width>168</width>
+                                            <height>20</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Man&amp;gle case</string>
+                                    </property>
+                                </widget>
+                                <widget class="QLabel">
+                                    <property name="name">
+                                        <cstring>textLabel2</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>11</x>
+                                            <y>237</y>
+                                            <width>168</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Mangling method:</string>
+                                    </property>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>manglingMethodCombo</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QComboBox">
+                                    <item>
+                                        <property name="text">
+                                            <string>hash</string>
+                                        </property>
+                                    </item>
+                                    <item>
+                                        <property name="text">
+                                            <string>hash2</string>
+                                        </property>
+                                    </item>
+                                    <property name="name">
+                                        <cstring>manglingMethodCombo</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>185</x>
+                                            <y>237</y>
+                                            <width>127</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                </widget>
+                                <widget class="QCheckBox">
+                                    <property name="name">
+                                        <cstring>preserveCaseChk</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>10</x>
+                                            <y>70</y>
+                                            <width>168</width>
+                                            <height>20</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Preser&amp;ve case</string>
+                                    </property>
+                                    <property name="checked">
+                                        <bool>true</bool>
+                                    </property>
+                                </widget>
+                                <widget class="QCheckBox">
+                                    <property name="name">
+                                        <cstring>shortPreserveCaseChk</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>10</x>
+                                            <y>90</y>
+                                            <width>168</width>
+                                            <height>20</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Short pr&amp;eserve case</string>
+                                    </property>
+                                </widget>
+                                <widget class="QLabel">
+                                    <property name="name">
+                                        <cstring>TextLabel2_3</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>10</x>
+                                            <y>150</y>
+                                            <width>168</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Defau&amp;lt case:</string>
+                                    </property>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>defaultCaseCombo</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QComboBox">
+                                    <item>
+                                        <property name="text">
+                                            <string>Lower</string>
+                                        </property>
+                                    </item>
+                                    <item>
+                                        <property name="text">
+                                            <string>Upper</string>
+                                        </property>
+                                    </item>
+                                    <property name="name">
+                                        <cstring>defaultCaseCombo</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>185</x>
+                                            <y>151</y>
+                                            <width>127</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="sizePolicy">
+                                        <sizepolicy>
+                                            <hsizetype>1</hsizetype>
+                                            <vsizetype>0</vsizetype>
+                                            <horstretch>0</horstretch>
+                                            <verstretch>0</verstretch>
+                                        </sizepolicy>
+                                    </property>
+                                </widget>
+                                <widget class="QComboBox">
+                                    <item>
+                                        <property name="text">
+                                            <string>Automatic</string>
+                                        </property>
+                                    </item>
+                                    <item>
+                                        <property name="text">
+                                            <string>Yes</string>
+                                        </property>
+                                    </item>
+                                    <item>
+                                        <property name="text">
+                                            <string>No</string>
+                                        </property>
+                                    </item>
+                                    <property name="name">
+                                        <cstring>caseSensitiveCombo</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>185</x>
+                                            <y>121</y>
+                                            <width>127</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="sizePolicy">
+                                        <sizepolicy>
+                                            <hsizetype>1</hsizetype>
+                                            <vsizetype>0</vsizetype>
+                                            <horstretch>0</horstretch>
+                                            <verstretch>0</verstretch>
+                                        </sizepolicy>
+                                    </property>
+                                </widget>
+                                <widget class="QLabel">
+                                    <property name="name">
+                                        <cstring>TextLabel2_3_3</cstring>
+                                    </property>
+                                    <property name="geometry">
+                                        <rect>
+                                            <x>10</x>
+                                            <y>120</y>
+                                            <width>168</width>
+                                            <height>22</height>
+                                        </rect>
+                                    </property>
+                                    <property name="text">
+                                        <string>Case sensi&amp;tive:</string>
+                                    </property>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>caseSensitiveCombo</cstring>
+                                    </property>
+                                </widget>
+                            </widget>
                         </widget>
                         <widget class="QWidget">
                             <property name="name">
@@ -2160,22 +2305,31 @@
                             <attribute name="title">
                                 <string>Locking</string>
                             </attribute>
-                            <vbox>
+                            <grid>
                                 <property name="name">
                                     <cstring>unnamed</cstring>
                                 </property>
                                 <property name="margin">
                                     <number>0</number>
                                 </property>
-                                <widget class="QCheckBox">
+                                <spacer row="2" column="0">
                                     <property name="name">
-                                        <cstring>lockingChk</cstring>
+                                        <cstring>Spacer51</cstring>
                                     </property>
-                                    <property name="text">
-                                        <string>Enable lock&amp;ing</string>
+                                    <property name="orientation">
+                                        <enum>Vertical</enum>
                                     </property>
-                                </widget>
-                                <widget class="QGroupBox">
+                                    <property name="sizeType">
+                                        <enum>Expanding</enum>
+                                    </property>
+                                    <property name="sizeHint">
+                                        <size>
+                                            <width>20</width>
+                                            <height>20</height>
+                                        </size>
+                                    </property>
+                                </spacer>
+                                <widget class="QGroupBox" row="1" column="0">
                                     <property name="name">
                                         <cstring>groupBox47</cstring>
                                     </property>
@@ -2188,7 +2342,7 @@
                                     <property name="title">
                                         <string>Locki&amp;ng</string>
                                     </property>
-                                    <vbox>
+                                    <grid>
                                         <property name="name">
                                             <cstring>unnamed</cstring>
                                         </property>
@@ -2198,47 +2352,15 @@
                                         <property name="spacing">
                                             <number>6</number>
                                         </property>
-                                        <widget class="QCheckBox">
+                                        <widget class="QCheckBox" row="4" column="0">
                                             <property name="name">
-                                                <cstring>blockingLocksChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Blockin&amp;g locks</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox">
-                                            <property name="name">
-                                                <cstring>posixLockingChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Posi&amp;x locking</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox">
-                                            <property name="name">
-                                                <cstring>strictLockingChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>S&amp;trict locking</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox">
-                                            <property name="name">
-                                                <cstring>shareModesChk</cstring>
-                                            </property>
-                                            <property name="text">
-                                                <string>Share mo&amp;des</string>
-                                            </property>
-                                        </widget>
-                                        <widget class="QCheckBox">
-                                            <property name="name">
                                                 <cstring>oplocksChk</cstring>
                                             </property>
                                             <property name="text">
                                                 <string>Issue oppo&amp;rtunistic locks (oplocks) </string>
                                             </property>
                                         </widget>
-                                        <widget class="QGroupBox">
+                                        <widget class="QGroupBox" row="5" column="0">
                                             <property name="name">
                                                 <cstring>groupBox59</cstring>
                                             </property>
@@ -2302,7 +2424,7 @@
                                                 </widget>
                                             </grid>
                                         </widget>
-                                        <widget class="QCheckBox">
+                                        <widget class="QCheckBox" row="6" column="0">
                                             <property name="name">
                                                 <cstring>fakeOplocksChk</cstring>
                                             </property>
@@ -2313,26 +2435,107 @@
                                                 <bool>true</bool>
                                             </property>
                                         </widget>
-                                    </vbox>
+                                        <widget class="QCheckBox" row="3" column="0">
+                                            <property name="name">
+                                                <cstring>shareModesChk</cstring>
+                                            </property>
+                                            <property name="text">
+                                                <string>Share mo&amp;des</string>
+                                            </property>
+                                        </widget>
+                                        <widget class="QCheckBox" row="2" column="0">
+                                            <property name="name">
+                                                <cstring>posixLockingChk</cstring>
+                                            </property>
+                                            <property name="text">
+                                                <string>Posi&amp;x locking</string>
+                                            </property>
+                                        </widget>
+                                        <widget class="QLayoutWidget" row="0" column="0">
+                                            <property name="name">
+                                                <cstring>layout9</cstring>
+                                            </property>
+                                            <hbox>
+                                                <property name="name">
+                                                    <cstring>unnamed</cstring>
+                                                </property>
+                                                <widget class="QLabel">
+                                                    <property name="name">
+                                                        <cstring>TextLabel2_3_2</cstring>
+                                                    </property>
+                                                    <property name="text">
+                                                        <string>S&amp;trict locking:</string>
+                                                    </property>
+                                                    <property name="buddy" stdset="0">
+                                                        <cstring>strictLockingCombo</cstring>
+                                                    </property>
+                                                </widget>
+                                                <widget class="QComboBox">
+                                                    <item>
+                                                        <property name="text">
+                                                            <string>Automatic</string>
+                                                        </property>
+                                                    </item>
+                                                    <item>
+                                                        <property name="text">
+                                                            <string>Yes</string>
+                                                        </property>
+                                                    </item>
+                                                    <item>
+                                                        <property name="text">
+                                                            <string>No</string>
+                                                        </property>
+                                                    </item>
+                                                    <property name="name">
+                                                        <cstring>strictLockingCombo</cstring>
+                                                    </property>
+                                                    <property name="sizePolicy">
+                                                        <sizepolicy>
+                                                            <hsizetype>1</hsizetype>
+                                                            <vsizetype>0</vsizetype>
+                                                            <horstretch>0</horstretch>
+                                                            <verstretch>0</verstretch>
+                                                        </sizepolicy>
+                                                    </property>
+                                                </widget>
+                                                <spacer>
+                                                    <property name="name">
+                                                        <cstring>spacer15</cstring>
+                                                    </property>
+                                                    <property name="orientation">
+                                                        <enum>Horizontal</enum>
+                                                    </property>
+                                                    <property name="sizeType">
+                                                        <enum>Expanding</enum>
+                                                    </property>
+                                                    <property name="sizeHint">
+                                                        <size>
+                                                            <width>40</width>
+                                                            <height>20</height>
+                                                        </size>
+                                                    </property>
+                                                </spacer>
+                                            </hbox>
+                                        </widget>
+                                        <widget class="QCheckBox" row="1" column="0">
+                                            <property name="name">
+                                                <cstring>blockingLocksChk</cstring>
+                                            </property>
+                                            <property name="text">
+                                                <string>Blockin&amp;g locks</string>
+                                            </property>
+                                        </widget>
+                                    </grid>
                                 </widget>
-                                <spacer>
+                                <widget class="QCheckBox" row="0" column="0">
                                     <property name="name">
-                                        <cstring>Spacer51</cstring>
+                                        <cstring>lockingChk</cstring>
                                     </property>
-                                    <property name="orientation">
-                                        <enum>Vertical</enum>
+                                    <property name="text">
+                                        <string>Enable lock&amp;ing</string>
                                     </property>
-                                    <property name="sizeType">
-                                        <enum>Expanding</enum>
-                                    </property>
-                                    <property name="sizeHint">
-                                        <size>
-                                            <width>20</width>
-                                            <height>20</height>
-                                        </size>
-                                    </property>
-                                </spacer>
-                            </vbox>
+                                </widget>
+                            </grid>
                         </widget>
                         <widget class="QWidget">
                             <property name="name">
@@ -2532,41 +2735,6 @@
                                 <property name="margin">
                                     <number>0</number>
                                 </property>
-                                <property name="spacing">
-                                    <number>6</number>
-                                </property>
-                                <widget class="QCheckBox" row="5" column="0" rowspan="1" colspan="2">
-                                    <property name="name">
-                                        <cstring>setDirectoryChk</cstring>
-                                    </property>
-                                    <property name="text">
-                                        <string>Setdir command allo&amp;wed</string>
-                                    </property>
-                                </widget>
-                                <widget class="QCheckBox" row="6" column="0" rowspan="1" colspan="2">
-                                    <property name="name">
-                                        <cstring>fakeDirectoryCreateTimesChk</cstring>
-                                    </property>
-                                    <property name="text">
-                                        <string>Fa&amp;ke directory create times</string>
-                                    </property>
-                                </widget>
-                                <widget class="QCheckBox" row="7" column="0" rowspan="1" colspan="2">
-                                    <property name="name">
-                                        <cstring>msdfsRootChk</cstring>
-                                    </property>
-                                    <property name="text">
-                                        <string>Ms&amp;dfs root</string>
-                                    </property>
-                                </widget>
-                                <widget class="QCheckBox" row="8" column="0" rowspan="1" colspan="2">
-                                    <property name="name">
-                                        <cstring>msdfsProxyChk</cstring>
-                                    </property>
-                                    <property name="text">
-                                        <string>Msdfs pro&amp;xy</string>
-                                    </property>
-                                </widget>
                                 <spacer row="9" column="1">
                                     <property name="name">
                                         <cstring>Spacer15</cstring>
@@ -2616,11 +2784,6 @@
                                         <cstring>magicScriptEdit</cstring>
                                     </property>
                                 </widget>
-                                <widget class="QLineEdit" row="0" column="1">
-                                    <property name="name">
-                                        <cstring>volumeEdit</cstring>
-                                    </property>
-                                </widget>
                                 <widget class="QLabel" row="0" column="0">
                                     <property name="name">
                                         <cstring>TextLabel6_2</cstring>
@@ -2648,11 +2811,30 @@
                                         <cstring>magicOutputEdit</cstring>
                                     </property>
                                 </widget>
-                                <widget class="QLineEdit" row="4" column="1">
+                                <widget class="QCheckBox" row="7" column="0" rowspan="1" colspan="2">
                                     <property name="name">
-                                        <cstring>dontDescendEdit</cstring>
+                                        <cstring>fakeDirectoryCreateTimesChk</cstring>
                                     </property>
+                                    <property name="text">
+                                        <string>Fa&amp;ke directory create times</string>
+                                    </property>
                                 </widget>
+                                <widget class="QCheckBox" row="8" column="0" rowspan="1" colspan="2">
+                                    <property name="name">
+                                        <cstring>msdfsRootChk</cstring>
+                                    </property>
+                                    <property name="text">
+                                        <string>Ms&amp;dfs root</string>
+                                    </property>
+                                </widget>
+                                <widget class="QCheckBox" row="6" column="0" rowspan="1" colspan="2">
+                                    <property name="name">
+                                        <cstring>setDirectoryChk</cstring>
+                                    </property>
+                                    <property name="text">
+                                        <string>Setdir command allo&amp;wed</string>
+                                    </property>
+                                </widget>
                                 <widget class="QLabel" row="4" column="0">
                                     <property name="name">
                                         <cstring>TextLabel6_2_3_2</cstring>
@@ -2664,6 +2846,32 @@
                                         <cstring>dontDescendEdit</cstring>
                                     </property>
                                 </widget>
+                                <widget class="QLineEdit" row="4" column="1">
+                                    <property name="name">
+                                        <cstring>dontDescendEdit</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QLabel" row="5" column="0">
+                                    <property name="name">
+                                        <cstring>TextLabel6_2_3_2_2</cstring>
+                                    </property>
+                                    <property name="text">
+                                        <string>Msdfs pro&amp;xy:</string>
+                                    </property>
+                                    <property name="buddy" stdset="0">
+                                        <cstring>msdfsProxyEdit</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QLineEdit" row="5" column="1">
+                                    <property name="name">
+                                        <cstring>msdfsProxyEdit</cstring>
+                                    </property>
+                                </widget>
+                                <widget class="QLineEdit" row="0" column="1">
+                                    <property name="name">
+                                        <cstring>volumeEdit</cstring>
+                                    </property>
+                                </widget>
                             </grid>
                         </widget>
                     </widget>
@@ -2953,7 +3161,6 @@
     <tabstop>setDirectoryChk</tabstop>
     <tabstop>fakeDirectoryCreateTimesChk</tabstop>
     <tabstop>msdfsRootChk</tabstop>
-    <tabstop>msdfsProxyChk</tabstop>
     <tabstop>preexecEdit</tabstop>
     <tabstop>rootPreexecEdit</tabstop>
     <tabstop>postexecEdit</tabstop>
@@ -2963,7 +3170,6 @@
     <tabstop>lockingChk</tabstop>
     <tabstop>blockingLocksChk</tabstop>
     <tabstop>posixLockingChk</tabstop>
-    <tabstop>strictLockingChk</tabstop>
     <tabstop>shareModesChk</tabstop>
     <tabstop>oplocksChk</tabstop>
     <tabstop>level2OplocksChk</tabstop>
@@ -2971,7 +3177,6 @@
     <tabstop>fakeOplocksChk</tabstop>
     <tabstop>mangledNamesChk</tabstop>
     <tabstop>mangleCaseChk</tabstop>
-    <tabstop>caseSensitiveChk</tabstop>
     <tabstop>preserveCaseChk</tabstop>
     <tabstop>shortPreserveCaseChk</tabstop>
     <tabstop>defaultCaseCombo</tabstop>
@@ -3071,4 +3276,25 @@
     <slot>buttonHelp_clicked()</slot>
 </slots>
 <layoutdefaults spacing="6" margin="11"/>
+<includehints>
+    <includehint>kurlrequester.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>kpushbutton.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klineedit.h</includehint>
+    <includehint>klistview.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>krestrictedline.h</includehint>
+    <includehint>knuminput.h</includehint>
+    <includehint>knuminput.h</includehint>
+    <includehint>knuminput.h</includehint>
+    <includehint>knuminput.h</includehint>
+</includehints>
 </UI>
Index: filesharing/advanced/kcm_sambaconf/sharedlgimpl.cpp
===================================================================
--- filesharing/advanced/kcm_sambaconf/sharedlgimpl.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/kcm_sambaconf/sharedlgimpl.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -126,7 +126,8 @@
 
   // Filename settings
 
-  _dictMngr->add("case sensitive",caseSensitiveChk);
+  _dictMngr->add("case sensitive",caseSensitiveCombo,
+		 new QStringList(QStringList() << "auto" << "yes" << "no"));
   _dictMngr->add("preserve case",preserveCaseChk);
   _dictMngr->add("short preserve case",shortPreserveCaseChk);
   _dictMngr->add("mangled names",mangledNamesChk);
@@ -200,7 +201,8 @@
   _dictMngr->add("locking",lockingChk);
   _dictMngr->add("level2 oplocks",level2OplocksChk);
   _dictMngr->add("posix locking",posixLockingChk);
-  _dictMngr->add("strict locking",strictLockingChk);
+  _dictMngr->add("strict locking",strictLockingCombo,
+   		  new QStringList(QStringList() << "Auto" << "yes" << "no"));
   _dictMngr->add("share modes",shareModesChk);
   _dictMngr->add("oplocks",oplocksChk);
   
@@ -249,7 +251,7 @@
   _dictMngr->add("fake directory create times",fakeDirectoryCreateTimesChk);
     
   _dictMngr->add("msdfs root",msdfsRootChk);
-  _dictMngr->add("msdfs proxy",msdfsProxyChk);
+  _dictMngr->add("msdfs proxy",msdfsProxyEdit);
   
   _dictMngr->load( _share );
   
Index: filesharing/advanced/kcm_sambaconf/kcminterface.ui.h
===================================================================
--- filesharing/advanced/kcm_sambaconf/kcminterface.ui.h	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/kcm_sambaconf/kcminterface.ui.h	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -39,6 +39,7 @@
     editDefaultPrinterBtn->setIconSet(SmallIconSet("print_class"));
 
     advancedWarningPixLbl->setPixmap(SmallIcon("messagebox_warning"));
+    
 }
 
 
@@ -49,62 +50,13 @@
 }
 
 
-
-
-
-
-
-
 void KcmInterface::securityLevelCombo_activated( int i )
 {
    passwordServerEdit->setDisabled(i<2);
    allowGuestLoginsChk->setDisabled(i==0);
-   
-    
+   updateSecurityLevelHelpLbl();
 }
 
-
-void KcmInterface::shareRadio_clicked()
-{
-    securityLevelHelpLbl->setText(i18n("Use the <i>share</i> security level if you have a home network "
-			         "or a small office network.<br> It allows everyone to read the list "
-		                     "of all your shared directories and printers before a login is required."));
-}
-
-
-void KcmInterface::userRadio_clicked()
-{
-    securityLevelHelpLbl->setText(i18n("Use the <i>user</i> security level if you have a bigger network "
-			         "and you do not want to allow everyone to read your list of shared "
-		                     "directories and printers without a login.<p>"
-			"If you want to run your Samba server as a <b>Primary Domain controller</b> (PDC) "
-			"you also have to set this option."));
-}
-
-void KcmInterface::serverRadio_clicked()
-{
-    securityLevelHelpLbl->setText(i18n("Use the <i>server</i> security level if you have a big network "
-			         "and the samba server should validate the username/password "
-			         "by passing it to another SMB server, such as an NT box."));
-}
-
-
-void KcmInterface::domainRadio_clicked()
-{
- securityLevelHelpLbl->setText(i18n("Use the <i>domain</i> security level if you have a big network "
-			      "and the samba server should validate the username/password "
-			      "by passing it to a Windows NT Primary or Backup Domain Controller."));
-}
-			      
-void KcmInterface::adsRadioClicked()
-{
- securityLevelHelpLbl->setText(i18n("Use the <i>ADS</i> security level if you have a big network "
-			      "and the samba server should act as a domain member in an ADS realm."));
-}
-			
-
-
-
 void KcmInterface::KURLLabel1_leftClickedURL()
 {
     KProcess* p = new KProcess();
@@ -143,7 +95,30 @@
     allowGuestLoginsChk->setChecked(i>0);
 }
 
+void KcmInterface::updateSecurityLevelHelpLbl()
+{
+    if (shareRadio->isChecked()) {
+	securityLevelHelpLbl->setText(i18n("Use the <i>share</i> security level if you have a home network "
+			         "or a small office network.<br> It allows everyone to read the list "
+		                     "of all your shared directories and printers before a login is required."));
 
-
-
-
+    } else if (userRadio->isChecked()) {
+    securityLevelHelpLbl->setText(i18n("Use the <i>user</i> security level if you have a bigger network "
+			         "and you do not want to allow everyone to read your list of shared "
+		                     "directories and printers without a login.<p>"
+			"If you want to run your Samba server as a <b>Primary Domain controller</b> (PDC) "
+			"you also have to set this option."));
+} else if (serverRadio->isChecked()) {
+        securityLevelHelpLbl->setText(i18n("Use the <i>server</i> security level if you have a big network "
+			         "and the samba server should validate the username/password "
+			         "by passing it to another SMB server, such as an NT box."));
+    } else if (domainRadio->isChecked()) {
+	 securityLevelHelpLbl->setText(i18n("Use the <i>domain</i> security level if you have a big network "
+			      "and the samba server should validate the username/password "
+			      "by passing it to a Windows NT Primary or Backup Domain Controller."));
+     } else if (adsRadio->isChecked()) {
+	  securityLevelHelpLbl->setText(i18n("Use the <i>ADS</i> security level if you have a big network "
+			      "and the samba server should act as a domain member in an ADS realm."));
+     }
+       
+}
Index: filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop
===================================================================
--- filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/advanced/propsdlgplugin/fileshare_propsdlgplugin.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -11,6 +11,7 @@
 Name[da]=Fileshare Konqueror-mappens side med egenskaber
 Name[de]=Dateifreigabe Konqueror Ordner-Eigenschaftenseite
 Name[el]=Σελίδα ιδιοτήτων κοινόχρηστου καταλόγου του Konqueror
+Name[eo]=dosierujo-eco-paĝo
 Name[es]=Página de propiedades del directorio para compartir archivos de Konqueror
 Name[et]=Failijagamise Konquerori kataloogi omaduste lehekülg
 Name[eu]=Fitxategiak partekatzeko Konqueror direktorio propietateen orria 
Index: filesharing/simple/fileshare.desktop
===================================================================
--- filesharing/simple/fileshare.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ filesharing/simple/fileshare.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -21,6 +21,7 @@
 Name[da]=Fildeling
 Name[de]=Dateifreigabe
 Name[el]=Κοινή χρήση αρχείων
+Name[eo]=Dosierkomunigado
 Name[es]=Compartir ficheros
 Name[et]=Failijagamine
 Name[eu]=Fitxategi partekatzea
@@ -74,6 +75,7 @@
 Comment[da]=Aktivér eller deaktivér fildeling
 Comment[de]=Dateifreigabe aktivieren/deaktivieren
 Comment[el]=Ενεργοποίηση ή απενεργοποίηση της κοινής χρήσης αρχείων
+Comment[eo]=Ŝalti aŭ malŝalti dosierkomunigadon
 Comment[es]=Habilitar o deshabilitar el compartir archivos
 Comment[et]=Failide jagamise lubamine või keelamine
 Comment[eu]=Gaitu edo ezgaitu fitxategi partekatzea
@@ -124,6 +126,7 @@
 Keywords[da]=Del
 Keywords[de]=Freigabe
 Keywords[el]=Κοινόχρηστο
+Keywords[eo]=Komunaĵo
 Keywords[es]=Compartir
 Keywords[et]=Jagamine
 Keywords[fa]=مشترک
Index: wifi/kwireless/kwireless.desktop
===================================================================
--- wifi/kwireless/kwireless.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ wifi/kwireless/kwireless.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -65,6 +65,7 @@
 Name[da]=Information om trådløst netværk
 Name[de]=Informationen über drahtlose Netzwerke
 Name[el]=Πληροφορίες ασύρματου δικτύου
+Name[eo]=Informoj pri Sendrata Reto
 Name[es]=Información de red inalámbrica
 Name[et]=Traadita võrgu info
 Name[eu]=Kablerik gabeko sarearen informazioa
Index: wifi/kcmwifi/kcmwifi.desktop
===================================================================
--- wifi/kcmwifi/kcmwifi.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ wifi/kcmwifi/kcmwifi.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -19,6 +19,7 @@
 Name[da]=Trådløst netværk
 Name[de]=Drahtloses Netzwerk
 Name[el]=Ασύρματο δίκτυο
+Name[eo]=Sendrata reto
 Name[es]=Red inalámbrica
 Name[et]=Traadita võrk
 Name[eu]=Kablerik gabeko sarea
Index: wifi/kwifimanager.desktop
===================================================================
--- wifi/kwifimanager.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ wifi/kwifimanager.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -34,6 +34,7 @@
 Comment[km]=កម្មវិធី​ត្រួតពិនិត្យ​ការ​តភ្ជាប់​បណ្ដាញ​មូលដ្ឋាន​ឥតខ្សែ
 Comment[lt]=Bevielio tinklo ryšio stebėjimas
 Comment[mk]=Монитор на поврзувањата на безжичната локална мрежа
+Comment[ms]=Pemerhati sambungan LAN tanpa wayar
 Comment[nb]=Passer på det trådløse nettverket
 Comment[nds]=En Kieker för Funknettwark-Verbinnen
 Comment[ne]=एउटा तारविहिन LAN जडान मोनिटर
@@ -85,6 +86,7 @@
 GenericName[da]=Håndtering af trådløst netværk
 GenericName[de]=Verwaltung für drahtlose LAN-Verbindungen
 GenericName[el]=Διαχειριστής ασύρματου δικτύου
+GenericName[eo]=Administrilo por sendrata loka reto
 GenericName[es]=Gestor de red inalámbrica
 GenericName[et]=Traadita võrgu haldur
 GenericName[eu]=Kablerik gabeko LAN kudeatzailea
@@ -103,6 +105,7 @@
 GenericName[km]=កម្មវិធី​គ្រប់គ្រង​បណ្ដាញ​មូលដ្ឋាន​ឥត​ខ្សែ
 GenericName[lt]=Bevielio ryšio kontrolės centras
 GenericName[mk]=Менаџер на безжичната локална мрежа
+GenericName[ms]=Pengurus LAN Tanpa Wayar
 GenericName[nb]=Håndterer for trådløse nettverk
 GenericName[nds]=Funknettwark-Pleger
 GenericName[ne]=तारविहिन LAN प्रबन्धक
Index: kppp/DB/Provider/Norway/.directory
===================================================================
--- kppp/DB/Provider/Norway/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Norway/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -18,6 +18,7 @@
 Name[ga]=An Iorua
 Name[hi]=नार्वे
 Name[hr]=Norveška
+Name[hu]=Norvégia
 Name[id]=Norwegia
 Name[it]=Norvegia
 Name[ja]=ノルウェー
@@ -32,6 +33,7 @@
 Name[nl]=Noorwegen
 Name[pt]=Noruega
 Name[pt_BR]=Noruega
+Name[ru]=Норвегия
 Name[se]=Norga
 Name[sk]=Nórsko
 Name[sl]=Norveška
Index: kppp/DB/Provider/Slovenia/.directory
===================================================================
--- kppp/DB/Provider/Slovenia/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Slovenia/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -15,6 +15,7 @@
 Name[ga]=An tSlóivéin
 Name[hi]=स्लोवेनिया
 Name[hr]=Slovenija
+Name[hu]=Szlovénia
 Name[ja]=スロベニア
 Name[km]=ស្លូវ៉ានី
 Name[lt]=Slovėnija
@@ -25,6 +26,7 @@
 Name[nl]=Slovenië
 Name[pt]=Eslovénia
 Name[pt_BR]=Eslovênia
+Name[ru]=Словения
 Name[sk]=Slovinsko
 Name[sl]=Slovenija
 Name[sr]=Словенија
Index: kppp/DB/Provider/Denmark/.directory
===================================================================
--- kppp/DB/Provider/Denmark/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Denmark/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -18,6 +18,7 @@
 Name[ga]=An Danmhairg
 Name[hi]=डेनमार्क
 Name[hr]=Danska
+Name[hu]=Dánia
 Name[it]=Danimarca
 Name[ja]=デンマーク
 Name[km]=ដាណឺម៉ាក
@@ -31,6 +32,7 @@
 Name[nl]=Denemarken
 Name[pt]=Dinamarca
 Name[pt_BR]=Dinamarca
+Name[ru]=Дания
 Name[se]=Dánmárku
 Name[sk]=Dánsko
 Name[sl]=Danska
Index: kppp/DB/Provider/Czech_Republic/.directory
===================================================================
--- kppp/DB/Provider/Czech_Republic/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Czech_Republic/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -17,6 +17,7 @@
 Name[ga]=Poblacht na Seice
 Name[hi]=चेक
 Name[hr]=Češka
+Name[hu]=Csehország
 Name[it]=Repubblica Ceca
 Name[ja]=チェコ
 Name[km]=ឆេក
@@ -30,6 +31,7 @@
 Name[nl]=Tsjechië
 Name[pt]=República Checa
 Name[pt_BR]=República Tcheca
+Name[ru]=Чехия
 Name[se]=Čeahkka
 Name[sk]=Česko
 Name[sl]=Češka
Index: kppp/DB/Provider/Taiwan/.directory
===================================================================
--- kppp/DB/Provider/Taiwan/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Taiwan/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -9,6 +9,7 @@
 Name[ga]=An Téaváin
 Name[hi]=ताईवान
 Name[hr]=Tajvan
+Name[hu]=Tajvan
 Name[ja]=台湾
 Name[km]=តៃវ៉ាន់
 Name[ko]=대만
@@ -18,6 +19,7 @@
 Name[mn]=Тайвань
 Name[mt]=Tajwan
 Name[pt]=Formosa
+Name[ru]=Тайвань
 Name[sk]=Tajvan
 Name[sl]=Tajvan
 Name[sr]=Тајван
Index: kppp/DB/Provider/Yugoslavia/.directory
===================================================================
--- kppp/DB/Provider/Yugoslavia/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Yugoslavia/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -9,10 +9,12 @@
 Name[da]=Jugoslavien
 Name[de]=Jugoslawien
 Name[el]=Γιουκοσλαβία
+Name[eo]=Jugoslavio
 Name[et]=Jugoslaavia
 Name[ga]=An Iúgslaiv
 Name[hi]=यूगोस्लाविया
 Name[hr]=Jugoslavija
+Name[hu]=Jugoszlávia
 Name[it]=Iugoslavia
 Name[ja]=ユーゴスラビア
 Name[km]=យូហ្គោស្លាវី
@@ -22,6 +24,7 @@
 Name[nl]=Joegoslavië
 Name[pt]=Jugoslávia
 Name[pt_BR]=Iugoslávia
+Name[ru]=Югославия
 Name[se]=Jugoslavia
 Name[sk]=Juhoslávia
 Name[sl]=Jugoslavija
Index: kppp/DB/Provider/Sweden/.directory
===================================================================
--- kppp/DB/Provider/Sweden/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Sweden/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Name[ga]=An tSualainn
 Name[hi]=स्वीडन
 Name[hr]=Švedska
+Name[hu]=Svédország
 Name[id]=Swedia
 Name[it]=Svezia
 Name[ja]=スウェーデン
@@ -29,6 +30,7 @@
 Name[nl]=Zweden
 Name[pt]=Suécia
 Name[pt_BR]=Suécia
+Name[ru]=Швеция
 Name[se]=Ruoŧŧa
 Name[sk]=Švédsko
 Name[sl]=Švedska
Index: kppp/DB/Provider/New_Zealand/.directory
===================================================================
--- kppp/DB/Provider/New_Zealand/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/New_Zealand/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Name[ga]=An Nua-Shéalainn
 Name[hi]=न्यूजीलैंड
 Name[hr]=Novi Zeland
+Name[hu]=Új-Zéland
 Name[id]=Selandia Baru
 Name[it]=Nuova Zelanda
 Name[ja]=ニュージーランド
@@ -29,6 +30,7 @@
 Name[nl]=Nieuw Zeeland
 Name[pt]=Nova Zelândia
 Name[pt_BR]=Nova Zelândia
+Name[ru]=Новая Зеландия
 Name[se]=Ođđa Zealánda
 Name[sk]=Nový Zéland
 Name[sl]=Nova Zelandija
Index: kppp/DB/Provider/Portugal/.directory
===================================================================
--- kppp/DB/Provider/Portugal/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Portugal/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -9,6 +9,7 @@
 Name[eo]=Portugalo
 Name[ga]=An Phortaingéil
 Name[hi]=पुर्तगाल
+Name[hu]=Portugália
 Name[it]=Portogallo
 Name[ja]=ポルトガル
 Name[km]=ព័រទុយហ្គាល់
@@ -18,6 +19,7 @@
 Name[mk]=Португалија
 Name[mn]=Португали
 Name[mt]=Portugall
+Name[ru]=Португалия
 Name[sk]=Portugalsko
 Name[sl]=Portugalska
 Name[sr]=Португал
Index: kppp/DB/Provider/Belarus/.directory
===================================================================
--- kppp/DB/Provider/Belarus/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Belarus/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -14,6 +14,7 @@
 Name[ga]=An Bhealarúis
 Name[hi]=बेलारूस
 Name[hr]=Bjelorusija
+Name[hu]=Belarusz
 Name[it]=Bielorussia
 Name[ja]=ベラルーシ
 Name[km]=បេឡារុស្ស
@@ -23,6 +24,7 @@
 Name[nds]=Wittrussland
 Name[nl]=Wit Rusland
 Name[pt]=Bielorrússia
+Name[ru]=Белоруссия
 Name[se]=Vilges-Ruošša
 Name[sk]=Bielorusko
 Name[sl]=Belorusija
Index: kppp/DB/Provider/France/.directory
===================================================================
--- kppp/DB/Provider/France/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/France/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Name[ga]=An Fhrainc
 Name[hi]=फ्रांस
 Name[hr]=Francuska
+Name[hu]=Franciaország
 Name[id]=Prancis
 Name[it]=Francia
 Name[ja]=フランス
@@ -28,6 +29,7 @@
 Name[nl]=Frankrijk
 Name[pt]=França
 Name[pt_BR]=França
+Name[ru]=Франция
 Name[se]=Fránkriika
 Name[sk]=Francúzsko
 Name[sl]=Francija
Index: kppp/DB/Provider/Ukraine/.directory
===================================================================
--- kppp/DB/Provider/Ukraine/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Ukraine/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -15,6 +15,7 @@
 Name[ga]=An Úcráin
 Name[hi]=उक्रेन
 Name[hr]=Ukrajina
+Name[hu]=Ukrajna
 Name[id]=Ukraina
 Name[it]=Ucraina
 Name[ja]=ウクライナ
@@ -28,6 +29,7 @@
 Name[nl]=Oekraïne
 Name[pt]=Ucrânia
 Name[pt_BR]=Ucrânia
+Name[ru]=Украина
 Name[se]=Ukraina
 Name[sk]=Ukrajina
 Name[sl]=Ukrajina
Index: kppp/DB/Provider/United_Kingdom/.directory
===================================================================
--- kppp/DB/Provider/United_Kingdom/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/United_Kingdom/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -17,6 +17,7 @@
 Name[ga]=An Ríocht Aontaithe
 Name[hi]=यूनाइटेड किंगडम
 Name[hr]=Ujedinjeno Kraljevstvo
+Name[hu]=Egyesült Királyság
 Name[id]=Inggris
 Name[it]=Regno Unito
 Name[ja]=英国
@@ -31,6 +32,7 @@
 Name[nl]=Verenigd Koninkrijk
 Name[pt]=Reino Unido
 Name[pt_BR]=Reino Unido
+Name[ru]=Великобритания
 Name[se]=Stuorrabrittania
 Name[sk]=Spojené kráľovstvo
 Name[sl]=Združeno Kraljestvo
Index: kppp/DB/Provider/Germany/.directory
===================================================================
--- kppp/DB/Provider/Germany/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Germany/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -18,6 +18,7 @@
 Name[ga]=An Ghearmáin
 Name[hi]=जर्मनी
 Name[hr]=Njemačka
+Name[hu]=Németország
 Name[id]=Jerman
 Name[it]=Germania
 Name[ja]=ドイツ
@@ -32,6 +33,7 @@
 Name[nl]=Duitsland
 Name[pt]=Alemanha
 Name[pt_BR]=Alemanha
+Name[ru]=Германия
 Name[se]=Duiska
 Name[sk]=Nemecko
 Name[sl]=Nemčija
Index: kppp/DB/Provider/Switzerland/.directory
===================================================================
--- kppp/DB/Provider/Switzerland/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Switzerland/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Name[ga]=An Eilvéis
 Name[hi]=स्विट्जरलैंड
 Name[hr]=Švicarska
+Name[hu]=Svájc
 Name[id]=Swiss
 Name[it]=Svizzera
 Name[ja]=スイス
@@ -28,6 +29,7 @@
 Name[nl]=Zwitserland
 Name[pt]=Suíça
 Name[pt_BR]=Suíça
+Name[ru]=Швейцария
 Name[se]=Šveica
 Name[sk]=Švajčiarsko
 Name[sl]=Švica
Index: kppp/DB/Provider/Netherlands/.directory
===================================================================
--- kppp/DB/Provider/Netherlands/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Netherlands/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -18,6 +18,7 @@
 Name[ga]=An Ísiltír
 Name[hi]=नीदरलैंड्स
 Name[hr]=Nizozemska
+Name[hu]=Hollandia
 Name[id]=Belanda
 Name[it]=Paesi Bassi
 Name[ja]=オランダ
@@ -32,6 +33,7 @@
 Name[nl]=Nederland
 Name[pt]=Holanda
 Name[pt_BR]=Holanda
+Name[ru]=Нидерланды
 Name[se]=Hollánda
 Name[sk]=Holandsko
 Name[sl]=Nizozemska
Index: kppp/DB/Provider/Austria/.directory
===================================================================
--- kppp/DB/Provider/Austria/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Austria/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -16,6 +16,7 @@
 Name[ga]=An Ostair
 Name[hi]=आस्ट्रिया
 Name[hr]=Austrija
+Name[hu]=Ausztria
 Name[ja]=オーストリア
 Name[km]=អូទ្រីស
 Name[ko]=오스트리아
@@ -29,6 +30,7 @@
 Name[nso]=Australia
 Name[pt]=Áustria
 Name[pt_BR]=Áustria
+Name[ru]=Австрия
 Name[se]=Nuortariika
 Name[sk]=Rakúsko
 Name[sl]=Avstrija
Index: kppp/DB/Provider/Ireland/.directory
===================================================================
--- kppp/DB/Provider/Ireland/.directory	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/DB/Provider/Ireland/.directory	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -9,11 +9,13 @@
 Name[da]=Irland
 Name[de]=Irland
 Name[el]=Ιρλανδία
+Name[eo]=Irlando
 Name[es]=Irlanda
 Name[et]=Iirimaa
 Name[ga]=Éire
 Name[hi]=आयरलैंड
 Name[hr]=Irska
+Name[hu]=Írország
 Name[it]=Irlanda
 Name[ja]=アイルランド
 Name[km]=អៀរឡង់
@@ -23,6 +25,7 @@
 Name[nl]=Ierland
 Name[pt]=Irlanda
 Name[pt_BR]=Irlanda
+Name[ru]=Ирландия
 Name[se]=Irlánda
 Name[sk]=Írsko
 Name[sl]=Irska
Index: kppp/pppstats.cpp
===================================================================
--- kppp/pppstats.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/pppstats.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -54,7 +54,11 @@
 #include <arpa/inet.h>
 #include <unistd.h>
 #include <netinet/in.h>
+#ifdef __DragonFly__
+#include <net/ppp_layer/ppp_defs.h>
+#else
 #include <net/ppp_defs.h>
+#endif
 
 #include "config.h"
 #include "pppstats.h"
@@ -70,6 +74,9 @@
   #ifdef HAVE_LINUX_IF_PPP_H
    #include <linux/if.h>
    #include <linux/if_ppp.h>
+  #elif defined(__DragonFly__)
+   #include <net/if.h>
+   #include <net/ppp/if_ppp.h>
   #endif
  #else
   #include <net/if.h>
Index: kppp/Kppp.desktop
===================================================================
--- kppp/Kppp.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/Kppp.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -10,6 +10,7 @@
 GenericName[da]=Internet-opkaldsværktøj
 GenericName[de]=Einwahl ins Internet
 GenericName[el]=Εργαλείο σύνδεσης μέσω τηλεφώνου στο διαδίκτυο
+GenericName[eo]=Ilo por konekti al Interreto
 GenericName[es]=Herramienta de conexión telefónica a Internet
 GenericName[et]=Sissehelistamine
 GenericName[eu]=Internet markatzaile tresna
@@ -53,7 +54,6 @@
 Name=KPPP
 Name[af]=Kppp
 Name[bn]=কে-পি-পি-পি
-Name[eo]=Interretkonektilo
 Name[hi]=केपीपीपी
 Name[ne]=के पी पी पी
 Name[sv]=Kppp
Index: kppp/opener.cpp
===================================================================
--- kppp/opener.cpp	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/opener.cpp	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -68,7 +68,11 @@
 #endif
 
 #ifndef HAVE_NET_IF_PPP_H
-#  ifdef HAVE_LINUX_IF_PPP_H
+#  if defined(__DragonFly__)
+#    include <net/ppp_layer/ppp_defs.h>
+#    include <net/if.h>
+#    include <net/ppp/if_ppp.h>
+#  elif defined HAVE_LINUX_IF_PPP_H
 #    include <linux/if_ppp.h>
 #  endif
 #else
Index: kppp/configure.in.in
===================================================================
--- kppp/configure.in.in	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/configure.in.in	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -11,7 +11,11 @@
 #endif
 #include <unistd.h>
 #include <arpa/inet.h>
+#ifdef __DragonFly__
+#include <net/ppp_layer/ppp_defs.h>
+#else
 #include <net/ppp_defs.h>
+#endif
 #include <netinet/in.h>
 
 #ifdef __svr4__
@@ -27,6 +31,8 @@
 
     #if defined(linux)
       #include <linux/if_ppp.h>
+    #elif defined(__DragonFly__)
+      #include <net/ppp/if_ppp.h>
     #else
       #include <net/if_ppp.h>                /* BSD, NeXT, etc. */
     #endif
Index: kppp/logview/kppplogview.desktop
===================================================================
--- kppp/logview/kppplogview.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ kppp/logview/kppplogview.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -5,6 +5,7 @@
 Name[bs]=Preglednik Kppp dnevnika
 Name[de]=KPPP-Protokoll-Betrachter
 Name[el]=Προβολή καταγραφής KPPP
+Name[eo]=PPP-protokolorigardilo
 Name[fa]=نمای ثبت KPPP
 Name[he]=KPPP תצוגת רישום
 Name[is]=KPPP annálaskoðari
Index: ksirc/eventsrc
===================================================================
--- ksirc/eventsrc	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ ksirc/eventsrc	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -275,6 +275,7 @@
 Name[da]=Lydsignal modtaget
 Name[de]=Signalton empfangen
 Name[el]=Παραλαβή ηχητικής ειδοποίησης
+Name[eo]=Hupo ricevita
 Name[es]=Pitido recibido
 Name[et]=Saabus piiks
 Name[eu]=Bip-a jaso da
Index: dcoprss/rssservice.desktop
===================================================================
--- dcoprss/rssservice.desktop	(.../tags/KDE/3.5.8/kdenetwork)	(wersja 767770)
+++ dcoprss/rssservice.desktop	(.../branches/KDE/3.5/kdenetwork)	(wersja 767770)
@@ -38,6 +38,7 @@
 Comment[da]=RSS DCOP-tjenester
 Comment[de]=RSS DCOP-Dienste
 Comment[el]=Υπηρεσίες RSS DCOP
+Comment[eo]=RSS-DCOP-servoj
 Comment[es]=Servicios RSS de DCOP
 Comment[et]=RSS DCOP-teenused
 Comment[eu]=RSS DCOP zerbitzuak

Zmiany atrybutów dla: .
___________________________________________________________________
Nazwa: svn:externals
   + admin https://svn.kde.org/home/kde/branches/KDE/3.5/kde-common/admin


